import{$ as k,$a as Ee,$b as Mr,A as ic,Aa as mc,Ab as Fc,B as Pe,Ba as gc,Bb as Ri,C as nc,Ca as vc,Cb as ne,D as tt,Da as _c,Db as li,Dc as Yc,E as ri,Ea as yc,Eb as Vc,F as rc,Fa as wc,Fb as bn,G as no,Ga as bc,Gb as ht,H as Bt,Ha as Rt,Hb as Sr,I as sc,Ia as co,Ib as Pr,J as wr,Ja as Cc,Jb as po,K as Ei,Ka as xc,Kb as Gt,L as it,La as vn,Lb as mo,M as ro,Ma as M,Mb as jc,N as oc,Na as $,Nb as Cn,O as ac,Oa as uo,Ob as zc,P as lc,Pa as br,Pb as Li,Q as $e,Qa as Tc,Qb as Ni,R as cc,Ra as Di,Rb as Uc,S as xe,Sa as ai,Sb as Bc,T as ue,Ta as _n,Tb as ve,U as Ii,Ua as ye,Ub as go,V as N,Va as Sc,Vb as Er,W as at,Wa as Oi,Wb as Hc,X as uc,Xa as Pc,Xb as Ir,Y as re,Ya as Ec,Yb as qe,Z as so,Za as Ic,Zb as $c,_ as D,_a as Cr,_b as Zc,a as I,aa as mn,ab as Zt,ac as Te,b as le,ba as Ht,bb as U,bc as Wc,c as If,ca as ee,cb as yn,cc as ci,d as Mf,da as lt,db as Mc,dc as Ar,e as X,ea as Ge,eb as Lt,ec as Gc,f as Kl,fa as ct,fb as xr,fc as vo,g as Jl,ga as hc,gb as Ac,gc as kr,h as yr,ha as Mi,hb as kc,hc as Dr,i as eo,ia as At,ib as b,ic as _o,j as to,ja as si,jb as C,k as Se,ka as kt,kb as Q,l as Be,la as Dt,lb as ho,m as zt,ma as $t,mb as fo,n as Oe,na as dc,nb as Wt,o as R,oa as oi,ob as Dc,oc as qc,p as Mt,pa as oo,pb as Me,pc as xn,q as Yl,qa as Ot,qb as se,qc as Or,r as Xl,ra as Ne,rb as Oc,s as Ut,sa as fc,sb as Rc,t as Ql,ta as ao,tb as ut,u as K,ua as pc,ub as x,v as pn,va as vt,vb as wn,vc as Kc,w as He,wa as gn,wb as he,wc as Rr,x as ec,xa as lo,xb as Tr,y as io,ya as Ai,yb as Lc,yc as Jc,z as tc,za as ki,zb as Nc}from"./chunk-7F2D55A4.js";var lh=If((fs,ah)=>{"use strict";(function(r,t){typeof fs=="object"&&typeof ah<"u"?t(fs):typeof define=="function"&&define.amd?define(["exports"],t):(r=typeof globalThis<"u"?globalThis:r||self,t(r.leaflet={}))})(fs,function(r){"use strict";var t="1.9.4";function o(e){var n,a,c,h;for(a=1,c=arguments.length;a<c;a++){h=arguments[a];for(n in h)e[n]=h[n]}return e}var i=Object.create||function(){function e(){}return function(n){return e.prototype=n,new e}}();function s(e,n){var a=Array.prototype.slice;if(e.bind)return e.bind.apply(e,a.call(arguments,1));var c=a.call(arguments,2);return function(){return e.apply(n,c.length?c.concat(a.call(arguments)):arguments)}}var l=0;function u(e){return"_leaflet_id"in e||(e._leaflet_id=++l),e._leaflet_id}function d(e,n,a){var c,h,f,g;return g=function(){c=!1,h&&(f.apply(a,h),h=!1)},f=function(){c?h=arguments:(e.apply(a,arguments),setTimeout(g,n),c=!0)},f}function m(e,n,a){var c=n[1],h=n[0],f=c-h;return e===c&&a?e:((e-h)%f+f)%f+h}function p(){return!1}function w(e,n){if(n===!1)return e;var a=Math.pow(10,n===void 0?6:n);return Math.round(e*a)/a}function P(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function _(e){return P(e).split(/\s+/)}function S(e,n){Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?i(e.options):{});for(var a in n)e.options[a]=n[a];return e.options}function A(e,n,a){var c=[];for(var h in e)c.push(encodeURIComponent(a?h.toUpperCase():h)+"="+encodeURIComponent(e[h]));return(!n||n.indexOf("?")===-1?"?":"&")+c.join("&")}var te=/\{ *([\w_ -]+) *\}/g;function F(e,n){return e.replace(te,function(a,c){var h=n[c];if(h===void 0)throw new Error("No value provided for variable "+a);return typeof h=="function"&&(h=h(n)),h})}var j=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function ke(e,n){for(var a=0;a<e.length;a++)if(e[a]===n)return a;return-1}var G="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function fe(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var Ct=0;function vi(e){var n=+new Date,a=Math.max(0,16-(n-Ct));return Ct=n+a,window.setTimeout(e,a)}var Nt=window.requestAnimationFrame||fe("RequestAnimationFrame")||vi,Fa=window.cancelAnimationFrame||fe("CancelAnimationFrame")||fe("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function Ve(e,n,a){if(a&&Nt===vi)e.call(n);else return Nt.call(window,s(e,n))}function Ye(e){e&&Fa.call(window,e)}var td={__proto__:null,extend:o,create:i,bind:s,get lastId(){return l},stamp:u,throttle:d,wrapNum:m,falseFn:p,formatNum:w,trim:P,splitWords:_,setOptions:S,getParamString:A,template:F,isArray:j,indexOf:ke,emptyImageUrl:G,requestFn:Nt,cancelFn:Fa,requestAnimFrame:Ve,cancelAnimFrame:Ye};function xt(){}xt.extend=function(e){var n=function(){S(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},a=n.__super__=this.prototype,c=i(a);c.constructor=n,n.prototype=c;for(var h in this)Object.prototype.hasOwnProperty.call(this,h)&&h!=="prototype"&&h!=="__super__"&&(n[h]=this[h]);return e.statics&&o(n,e.statics),e.includes&&(id(e.includes),o.apply(null,[c].concat(e.includes))),o(c,e),delete c.statics,delete c.includes,c.options&&(c.options=a.options?i(a.options):{},o(c.options,e.options)),c._initHooks=[],c.callInitHooks=function(){if(!this._initHooksCalled){a.callInitHooks&&a.callInitHooks.call(this),this._initHooksCalled=!0;for(var f=0,g=c._initHooks.length;f<g;f++)c._initHooks[f].call(this)}},n},xt.include=function(e){var n=this.prototype.options;return o(this.prototype,e),e.options&&(this.prototype.options=n,this.mergeOptions(e.options)),this},xt.mergeOptions=function(e){return o(this.prototype.options,e),this},xt.addInitHook=function(e){var n=Array.prototype.slice.call(arguments,1),a=typeof e=="function"?e:function(){this[e].apply(this,n)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(a),this};function id(e){if(!(typeof L>"u"||!L||!L.Mixin)){e=j(e)?e:[e];for(var n=0;n<e.length;n++)e[n]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var We={on:function(e,n,a){if(typeof e=="object")for(var c in e)this._on(c,e[c],n);else{e=_(e);for(var h=0,f=e.length;h<f;h++)this._on(e[h],n,a)}return this},off:function(e,n,a){if(!arguments.length)delete this._events;else if(typeof e=="object")for(var c in e)this._off(c,e[c],n);else{e=_(e);for(var h=arguments.length===1,f=0,g=e.length;f<g;f++)h?this._off(e[f]):this._off(e[f],n,a)}return this},_on:function(e,n,a,c){if(typeof n!="function"){console.warn("wrong listener type: "+typeof n);return}if(this._listens(e,n,a)===!1){a===this&&(a=void 0);var h={fn:n,ctx:a};c&&(h.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(h)}},_off:function(e,n,a){var c,h,f;if(this._events&&(c=this._events[e],!!c)){if(arguments.length===1){if(this._firingCount)for(h=0,f=c.length;h<f;h++)c[h].fn=p;delete this._events[e];return}if(typeof n!="function"){console.warn("wrong listener type: "+typeof n);return}var g=this._listens(e,n,a);if(g!==!1){var v=c[g];this._firingCount&&(v.fn=p,this._events[e]=c=c.slice()),c.splice(g,1)}}},fire:function(e,n,a){if(!this.listens(e,a))return this;var c=o({},n,{type:e,target:this,sourceTarget:n&&n.sourceTarget||this});if(this._events){var h=this._events[e];if(h){this._firingCount=this._firingCount+1||1;for(var f=0,g=h.length;f<g;f++){var v=h[f],y=v.fn;v.once&&this.off(e,y,v.ctx),y.call(v.ctx||this,c)}this._firingCount--}}return a&&this._propagateEvent(c),this},listens:function(e,n,a,c){typeof e!="string"&&console.warn('"string" type argument expected');var h=n;typeof n!="function"&&(c=!!n,h=void 0,a=void 0);var f=this._events&&this._events[e];if(f&&f.length&&this._listens(e,h,a)!==!1)return!0;if(c){for(var g in this._eventParents)if(this._eventParents[g].listens(e,n,a,c))return!0}return!1},_listens:function(e,n,a){if(!this._events)return!1;var c=this._events[e]||[];if(!n)return!!c.length;a===this&&(a=void 0);for(var h=0,f=c.length;h<f;h++)if(c[h].fn===n&&c[h].ctx===a)return h;return!1},once:function(e,n,a){if(typeof e=="object")for(var c in e)this._on(c,e[c],n,!0);else{e=_(e);for(var h=0,f=e.length;h<f;h++)this._on(e[h],n,a,!0)}return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[u(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[u(e)],this},_propagateEvent:function(e){for(var n in this._eventParents)this._eventParents[n].fire(e.type,o({layer:e.target,propagatedFrom:e.target},e),!0)}};We.addEventListener=We.on,We.removeEventListener=We.clearAllEventListeners=We.off,We.addOneTimeEventListener=We.once,We.fireEvent=We.fire,We.hasEventListeners=We.listens;var Xi=xt.extend(We);function B(e,n,a){this.x=a?Math.round(e):e,this.y=a?Math.round(n):n}var Va=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};B.prototype={clone:function(){return new B(this.x,this.y)},add:function(e){return this.clone()._add(z(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(z(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new B(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new B(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Va(this.x),this.y=Va(this.y),this},distanceTo:function(e){e=z(e);var n=e.x-this.x,a=e.y-this.y;return Math.sqrt(n*n+a*a)},equals:function(e){return e=z(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=z(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+w(this.x)+", "+w(this.y)+")"}};function z(e,n,a){return e instanceof B?e:j(e)?new B(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new B(e.x,e.y):new B(e,n,a)}function pe(e,n){if(e)for(var a=n?[e,n]:e,c=0,h=a.length;c<h;c++)this.extend(a[c])}pe.prototype={extend:function(e){var n,a;if(!e)return this;if(e instanceof B||typeof e[0]=="number"||"x"in e)n=a=z(e);else if(e=je(e),n=e.min,a=e.max,!n||!a)return this;return!this.min&&!this.max?(this.min=n.clone(),this.max=a.clone()):(this.min.x=Math.min(n.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(n.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)),this},getCenter:function(e){return z((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return z(this.min.x,this.max.y)},getTopRight:function(){return z(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var n,a;return typeof e[0]=="number"||e instanceof B?e=z(e):e=je(e),e instanceof pe?(n=e.min,a=e.max):n=a=e,n.x>=this.min.x&&a.x<=this.max.x&&n.y>=this.min.y&&a.y<=this.max.y},intersects:function(e){e=je(e);var n=this.min,a=this.max,c=e.min,h=e.max,f=h.x>=n.x&&c.x<=a.x,g=h.y>=n.y&&c.y<=a.y;return f&&g},overlaps:function(e){e=je(e);var n=this.min,a=this.max,c=e.min,h=e.max,f=h.x>n.x&&c.x<a.x,g=h.y>n.y&&c.y<a.y;return f&&g},isValid:function(){return!!(this.min&&this.max)},pad:function(e){var n=this.min,a=this.max,c=Math.abs(n.x-a.x)*e,h=Math.abs(n.y-a.y)*e;return je(z(n.x-c,n.y-h),z(a.x+c,a.y+h))},equals:function(e){return e?(e=je(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight())):!1}};function je(e,n){return!e||e instanceof pe?e:new pe(e,n)}function ze(e,n){if(e)for(var a=n?[e,n]:e,c=0,h=a.length;c<h;c++)this.extend(a[c])}ze.prototype={extend:function(e){var n=this._southWest,a=this._northEast,c,h;if(e instanceof ae)c=e,h=e;else if(e instanceof ze){if(c=e._southWest,h=e._northEast,!c||!h)return this}else return e?this.extend(J(e)||we(e)):this;return!n&&!a?(this._southWest=new ae(c.lat,c.lng),this._northEast=new ae(h.lat,h.lng)):(n.lat=Math.min(c.lat,n.lat),n.lng=Math.min(c.lng,n.lng),a.lat=Math.max(h.lat,a.lat),a.lng=Math.max(h.lng,a.lng)),this},pad:function(e){var n=this._southWest,a=this._northEast,c=Math.abs(n.lat-a.lat)*e,h=Math.abs(n.lng-a.lng)*e;return new ze(new ae(n.lat-c,n.lng-h),new ae(a.lat+c,a.lng+h))},getCenter:function(){return new ae((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ae(this.getNorth(),this.getWest())},getSouthEast:function(){return new ae(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof ae||"lat"in e?e=J(e):e=we(e);var n=this._southWest,a=this._northEast,c,h;return e instanceof ze?(c=e.getSouthWest(),h=e.getNorthEast()):c=h=e,c.lat>=n.lat&&h.lat<=a.lat&&c.lng>=n.lng&&h.lng<=a.lng},intersects:function(e){e=we(e);var n=this._southWest,a=this._northEast,c=e.getSouthWest(),h=e.getNorthEast(),f=h.lat>=n.lat&&c.lat<=a.lat,g=h.lng>=n.lng&&c.lng<=a.lng;return f&&g},overlaps:function(e){e=we(e);var n=this._southWest,a=this._northEast,c=e.getSouthWest(),h=e.getNorthEast(),f=h.lat>n.lat&&c.lat<a.lat,g=h.lng>n.lng&&c.lng<a.lng;return f&&g},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,n){return e?(e=we(e),this._southWest.equals(e.getSouthWest(),n)&&this._northEast.equals(e.getNorthEast(),n)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function we(e,n){return e instanceof ze?e:new ze(e,n)}function ae(e,n,a){if(isNaN(e)||isNaN(n))throw new Error("Invalid LatLng object: ("+e+", "+n+")");this.lat=+e,this.lng=+n,a!==void 0&&(this.alt=+a)}ae.prototype={equals:function(e,n){if(!e)return!1;e=J(e);var a=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return a<=(n===void 0?1e-9:n)},toString:function(e){return"LatLng("+w(this.lat,e)+", "+w(this.lng,e)+")"},distanceTo:function(e){return Ft.distance(this,J(e))},wrap:function(){return Ft.wrapLatLng(this)},toBounds:function(e){var n=180*e/40075017,a=n/Math.cos(Math.PI/180*this.lat);return we([this.lat-n,this.lng-a],[this.lat+n,this.lng+a])},clone:function(){return new ae(this.lat,this.lng,this.alt)}};function J(e,n,a){return e instanceof ae?e:j(e)&&typeof e[0]!="object"?e.length===3?new ae(e[0],e[1],e[2]):e.length===2?new ae(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new ae(e.lat,"lng"in e?e.lng:e.lon,e.alt):n===void 0?null:new ae(e,n,a)}var Tt={latLngToPoint:function(e,n){var a=this.projection.project(e),c=this.scale(n);return this.transformation._transform(a,c)},pointToLatLng:function(e,n){var a=this.scale(n),c=this.transformation.untransform(e,a);return this.projection.unproject(c)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var n=this.projection.bounds,a=this.scale(e),c=this.transformation.transform(n.min,a),h=this.transformation.transform(n.max,a);return new pe(c,h)},infinite:!1,wrapLatLng:function(e){var n=this.wrapLng?m(e.lng,this.wrapLng,!0):e.lng,a=this.wrapLat?m(e.lat,this.wrapLat,!0):e.lat,c=e.alt;return new ae(a,n,c)},wrapLatLngBounds:function(e){var n=e.getCenter(),a=this.wrapLatLng(n),c=n.lat-a.lat,h=n.lng-a.lng;if(c===0&&h===0)return e;var f=e.getSouthWest(),g=e.getNorthEast(),v=new ae(f.lat-c,f.lng-h),y=new ae(g.lat-c,g.lng-h);return new ze(v,y)}},Ft=o({},Tt,{wrapLng:[-180,180],R:6371e3,distance:function(e,n){var a=Math.PI/180,c=e.lat*a,h=n.lat*a,f=Math.sin((n.lat-e.lat)*a/2),g=Math.sin((n.lng-e.lng)*a/2),v=f*f+Math.cos(c)*Math.cos(h)*g*g,y=2*Math.atan2(Math.sqrt(v),Math.sqrt(1-v));return this.R*y}}),ja=6378137,ws={R:ja,MAX_LATITUDE:85.0511287798,project:function(e){var n=Math.PI/180,a=this.MAX_LATITUDE,c=Math.max(Math.min(a,e.lat),-a),h=Math.sin(c*n);return new B(this.R*e.lng*n,this.R*Math.log((1+h)/(1-h))/2)},unproject:function(e){var n=180/Math.PI;return new ae((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*n,e.x*n/this.R)},bounds:function(){var e=ja*Math.PI;return new pe([-e,-e],[e,e])}()};function bs(e,n,a,c){if(j(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=n,this._c=a,this._d=c}bs.prototype={transform:function(e,n){return this._transform(e.clone(),n)},_transform:function(e,n){return n=n||1,e.x=n*(this._a*e.x+this._b),e.y=n*(this._c*e.y+this._d),e},untransform:function(e,n){return n=n||1,new B((e.x/n-this._b)/this._a,(e.y/n-this._d)/this._c)}};function Qi(e,n,a,c){return new bs(e,n,a,c)}var Cs=o({},Ft,{code:"EPSG:3857",projection:ws,transformation:function(){var e=.5/(Math.PI*ws.R);return Qi(e,.5,-e,.5)}()}),nd=o({},Cs,{code:"EPSG:900913"});function za(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Ua(e,n){var a="",c,h,f,g,v,y;for(c=0,f=e.length;c<f;c++){for(v=e[c],h=0,g=v.length;h<g;h++)y=v[h],a+=(h?"L":"M")+y.x+" "+y.y;a+=n?O.svg?"z":"x":""}return a||"M0 0"}var xs=document.documentElement.style,er="ActiveXObject"in window,rd=er&&!document.addEventListener,Ba="msLaunchUri"in navigator&&!("documentMode"in document),Ts=ft("webkit"),Ha=ft("android"),$a=ft("android 2")||ft("android 3"),sd=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),od=Ha&&ft("Google")&&sd<537&&!("AudioNode"in window),Ss=!!window.opera,Za=!Ba&&ft("chrome"),Wa=ft("gecko")&&!Ts&&!Ss&&!er,ad=!Za&&ft("safari"),Ga=ft("phantom"),qa="OTransition"in xs,ld=navigator.platform.indexOf("Win")===0,Ka=er&&"transition"in xs,Ps="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!$a,Ja="MozPerspective"in xs,cd=!window.L_DISABLE_3D&&(Ka||Ps||Ja)&&!qa&&!Ga,en=typeof orientation<"u"||ft("mobile"),ud=en&&Ts,hd=en&&Ps,Ya=!window.PointerEvent&&window.MSPointerEvent,Xa=!!(window.PointerEvent||Ya),Qa="ontouchstart"in window||!!window.TouchEvent,dd=!window.L_NO_TOUCH&&(Qa||Xa),fd=en&&Ss,pd=en&&Wa,md=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,gd=function(){var e=!1;try{var n=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",p,n),window.removeEventListener("testPassiveEventSupport",p,n)}catch{}return e}(),vd=function(){return!!document.createElement("canvas").getContext}(),Es=!!(document.createElementNS&&za("svg").createSVGRect),_d=!!Es&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),yd=!Es&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var n=e.firstChild;return n.style.behavior="url(#default#VML)",n&&typeof n.adj=="object"}catch{return!1}}(),wd=navigator.platform.indexOf("Mac")===0,bd=navigator.platform.indexOf("Linux")===0;function ft(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var O={ie:er,ielt9:rd,edge:Ba,webkit:Ts,android:Ha,android23:$a,androidStock:od,opera:Ss,chrome:Za,gecko:Wa,safari:ad,phantom:Ga,opera12:qa,win:ld,ie3d:Ka,webkit3d:Ps,gecko3d:Ja,any3d:cd,mobile:en,mobileWebkit:ud,mobileWebkit3d:hd,msPointer:Ya,pointer:Xa,touch:dd,touchNative:Qa,mobileOpera:fd,mobileGecko:pd,retina:md,passiveEvents:gd,canvas:vd,svg:Es,vml:yd,inlineSvg:_d,mac:wd,linux:bd},el=O.msPointer?"MSPointerDown":"pointerdown",tl=O.msPointer?"MSPointerMove":"pointermove",il=O.msPointer?"MSPointerUp":"pointerup",nl=O.msPointer?"MSPointerCancel":"pointercancel",Is={touchstart:el,touchmove:tl,touchend:il,touchcancel:nl},rl={touchstart:Ed,touchmove:tr,touchend:tr,touchcancel:tr},_i={},sl=!1;function Cd(e,n,a){return n==="touchstart"&&Pd(),rl[n]?(a=rl[n].bind(this,a),e.addEventListener(Is[n],a,!1),a):(console.warn("wrong event specified:",n),p)}function xd(e,n,a){if(!Is[n]){console.warn("wrong event specified:",n);return}e.removeEventListener(Is[n],a,!1)}function Td(e){_i[e.pointerId]=e}function Sd(e){_i[e.pointerId]&&(_i[e.pointerId]=e)}function ol(e){delete _i[e.pointerId]}function Pd(){sl||(document.addEventListener(el,Td,!0),document.addEventListener(tl,Sd,!0),document.addEventListener(il,ol,!0),document.addEventListener(nl,ol,!0),sl=!0)}function tr(e,n){if(n.pointerType!==(n.MSPOINTER_TYPE_MOUSE||"mouse")){n.touches=[];for(var a in _i)n.touches.push(_i[a]);n.changedTouches=[n],e(n)}}function Ed(e,n){n.MSPOINTER_TYPE_TOUCH&&n.pointerType===n.MSPOINTER_TYPE_TOUCH&&De(n),tr(e,n)}function Id(e){var n={},a,c;for(c in e)a=e[c],n[c]=a&&a.bind?a.bind(e):a;return e=n,n.type="dblclick",n.detail=2,n.isTrusted=!1,n._simulated=!0,n}var Md=200;function Ad(e,n){e.addEventListener("dblclick",n);var a=0,c;function h(f){if(f.detail!==1){c=f.detail;return}if(!(f.pointerType==="mouse"||f.sourceCapabilities&&!f.sourceCapabilities.firesTouchEvents)){var g=hl(f);if(!(g.some(function(y){return y instanceof HTMLLabelElement&&y.attributes.for})&&!g.some(function(y){return y instanceof HTMLInputElement||y instanceof HTMLSelectElement}))){var v=Date.now();v-a<=Md?(c++,c===2&&n(Id(f))):c=1,a=v}}}return e.addEventListener("click",h),{dblclick:n,simDblclick:h}}function kd(e,n){e.removeEventListener("dblclick",n.dblclick),e.removeEventListener("click",n.simDblclick)}var Ms=rr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),tn=rr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),al=tn==="webkitTransition"||tn==="OTransition"?tn+"End":"transitionend";function ll(e){return typeof e=="string"?document.getElementById(e):e}function nn(e,n){var a=e.style[n]||e.currentStyle&&e.currentStyle[n];if((!a||a==="auto")&&document.defaultView){var c=document.defaultView.getComputedStyle(e,null);a=c?c[n]:null}return a==="auto"?null:a}function ie(e,n,a){var c=document.createElement(e);return c.className=n||"",a&&a.appendChild(c),c}function me(e){var n=e.parentNode;n&&n.removeChild(e)}function ir(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function yi(e){var n=e.parentNode;n&&n.lastChild!==e&&n.appendChild(e)}function wi(e){var n=e.parentNode;n&&n.firstChild!==e&&n.insertBefore(e,n.firstChild)}function As(e,n){if(e.classList!==void 0)return e.classList.contains(n);var a=nr(e);return a.length>0&&new RegExp("(^|\\s)"+n+"(\\s|$)").test(a)}function W(e,n){if(e.classList!==void 0)for(var a=_(n),c=0,h=a.length;c<h;c++)e.classList.add(a[c]);else if(!As(e,n)){var f=nr(e);ks(e,(f?f+" ":"")+n)}}function _e(e,n){e.classList!==void 0?e.classList.remove(n):ks(e,P((" "+nr(e)+" ").replace(" "+n+" "," ")))}function ks(e,n){e.className.baseVal===void 0?e.className=n:e.className.baseVal=n}function nr(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function Xe(e,n){"opacity"in e.style?e.style.opacity=n:"filter"in e.style&&Dd(e,n)}function Dd(e,n){var a=!1,c="DXImageTransform.Microsoft.Alpha";try{a=e.filters.item(c)}catch{if(n===1)return}n=Math.round(n*100),a?(a.Enabled=n!==100,a.Opacity=n):e.style.filter+=" progid:"+c+"(opacity="+n+")"}function rr(e){for(var n=document.documentElement.style,a=0;a<e.length;a++)if(e[a]in n)return e[a];return!1}function Qt(e,n,a){var c=n||new B(0,0);e.style[Ms]=(O.ie3d?"translate("+c.x+"px,"+c.y+"px)":"translate3d("+c.x+"px,"+c.y+"px,0)")+(a?" scale("+a+")":"")}function be(e,n){e._leaflet_pos=n,O.any3d?Qt(e,n):(e.style.left=n.x+"px",e.style.top=n.y+"px")}function ei(e){return e._leaflet_pos||new B(0,0)}var rn,sn,Ds;if("onselectstart"in document)rn=function(){H(window,"selectstart",De)},sn=function(){ce(window,"selectstart",De)};else{var on=rr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);rn=function(){if(on){var e=document.documentElement.style;Ds=e[on],e[on]="none"}},sn=function(){on&&(document.documentElement.style[on]=Ds,Ds=void 0)}}function Os(){H(window,"dragstart",De)}function Rs(){ce(window,"dragstart",De)}var sr,Ls;function Ns(e){for(;e.tabIndex===-1;)e=e.parentNode;e.style&&(or(),sr=e,Ls=e.style.outlineStyle,e.style.outlineStyle="none",H(window,"keydown",or))}function or(){sr&&(sr.style.outlineStyle=Ls,sr=void 0,Ls=void 0,ce(window,"keydown",or))}function cl(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function Fs(e){var n=e.getBoundingClientRect();return{x:n.width/e.offsetWidth||1,y:n.height/e.offsetHeight||1,boundingClientRect:n}}var Od={__proto__:null,TRANSFORM:Ms,TRANSITION:tn,TRANSITION_END:al,get:ll,getStyle:nn,create:ie,remove:me,empty:ir,toFront:yi,toBack:wi,hasClass:As,addClass:W,removeClass:_e,setClass:ks,getClass:nr,setOpacity:Xe,testProp:rr,setTransform:Qt,setPosition:be,getPosition:ei,get disableTextSelection(){return rn},get enableTextSelection(){return sn},disableImageDrag:Os,enableImageDrag:Rs,preventOutline:Ns,restoreOutline:or,getSizedParentNode:cl,getScale:Fs};function H(e,n,a,c){if(n&&typeof n=="object")for(var h in n)js(e,h,n[h],a);else{n=_(n);for(var f=0,g=n.length;f<g;f++)js(e,n[f],a,c)}return this}var pt="_leaflet_events";function ce(e,n,a,c){if(arguments.length===1)ul(e),delete e[pt];else if(n&&typeof n=="object")for(var h in n)zs(e,h,n[h],a);else if(n=_(n),arguments.length===2)ul(e,function(v){return ke(n,v)!==-1});else for(var f=0,g=n.length;f<g;f++)zs(e,n[f],a,c);return this}function ul(e,n){for(var a in e[pt]){var c=a.split(/\d/)[0];(!n||n(c))&&zs(e,c,null,null,a)}}var Vs={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function js(e,n,a,c){var h=n+u(a)+(c?"_"+u(c):"");if(e[pt]&&e[pt][h])return this;var f=function(v){return a.call(c||e,v||window.event)},g=f;!O.touchNative&&O.pointer&&n.indexOf("touch")===0?f=Cd(e,n,f):O.touch&&n==="dblclick"?f=Ad(e,f):"addEventListener"in e?n==="touchstart"||n==="touchmove"||n==="wheel"||n==="mousewheel"?e.addEventListener(Vs[n]||n,f,O.passiveEvents?{passive:!1}:!1):n==="mouseenter"||n==="mouseleave"?(f=function(v){v=v||window.event,Bs(e,v)&&g(v)},e.addEventListener(Vs[n],f,!1)):e.addEventListener(n,g,!1):e.attachEvent("on"+n,f),e[pt]=e[pt]||{},e[pt][h]=f}function zs(e,n,a,c,h){h=h||n+u(a)+(c?"_"+u(c):"");var f=e[pt]&&e[pt][h];if(!f)return this;!O.touchNative&&O.pointer&&n.indexOf("touch")===0?xd(e,n,f):O.touch&&n==="dblclick"?kd(e,f):"removeEventListener"in e?e.removeEventListener(Vs[n]||n,f,!1):e.detachEvent("on"+n,f),e[pt][h]=null}function ti(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function Us(e){return js(e,"wheel",ti),this}function an(e){return H(e,"mousedown touchstart dblclick contextmenu",ti),e._leaflet_disable_click=!0,this}function De(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function ii(e){return De(e),ti(e),this}function hl(e){if(e.composedPath)return e.composedPath();for(var n=[],a=e.target;a;)n.push(a),a=a.parentNode;return n}function dl(e,n){if(!n)return new B(e.clientX,e.clientY);var a=Fs(n),c=a.boundingClientRect;return new B((e.clientX-c.left)/a.x-n.clientLeft,(e.clientY-c.top)/a.y-n.clientTop)}var Rd=O.linux&&O.chrome?window.devicePixelRatio:O.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function fl(e){return O.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/Rd:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function Bs(e,n){var a=n.relatedTarget;if(!a)return!0;try{for(;a&&a!==e;)a=a.parentNode}catch{return!1}return a!==e}var Ld={__proto__:null,on:H,off:ce,stopPropagation:ti,disableScrollPropagation:Us,disableClickPropagation:an,preventDefault:De,stop:ii,getPropagationPath:hl,getMousePosition:dl,getWheelDelta:fl,isExternalTarget:Bs,addListener:H,removeListener:ce},pl=Xi.extend({run:function(e,n,a,c){this.stop(),this._el=e,this._inProgress=!0,this._duration=a||.25,this._easeOutPower=1/Math.max(c||.5,.2),this._startPos=ei(e),this._offset=n.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Ve(this._animate,this),this._step()},_step:function(e){var n=+new Date-this._startTime,a=this._duration*1e3;n<a?this._runFrame(this._easeOut(n/a),e):(this._runFrame(1),this._complete())},_runFrame:function(e,n){var a=this._startPos.add(this._offset.multiplyBy(e));n&&a._round(),be(this._el,a),this.fire("step")},_complete:function(){Ye(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),Y=Xi.extend({options:{crs:Cs,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,n){n=S(this,n),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=s(this._onResize,this),this._initEvents(),n.maxBounds&&this.setMaxBounds(n.maxBounds),n.zoom!==void 0&&(this._zoom=this._limitZoom(n.zoom)),n.center&&n.zoom!==void 0&&this.setView(J(n.center),n.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=tn&&O.any3d&&!O.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),H(this._proxy,al,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,n,a){if(n=n===void 0?this._zoom:this._limitZoom(n),e=this._limitCenter(J(e),n,this.options.maxBounds),a=a||{},this._stop(),this._loaded&&!a.reset&&a!==!0){a.animate!==void 0&&(a.zoom=o({animate:a.animate},a.zoom),a.pan=o({animate:a.animate,duration:a.duration},a.pan));var c=this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,n,a.zoom):this._tryAnimatedPan(e,a.pan);if(c)return clearTimeout(this._sizeTimer),this}return this._resetView(e,n,a.pan&&a.pan.noMoveStart),this},setZoom:function(e,n){return this._loaded?this.setView(this.getCenter(),e,{zoom:n}):(this._zoom=e,this)},zoomIn:function(e,n){return e=e||(O.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,n)},zoomOut:function(e,n){return e=e||(O.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,n)},setZoomAround:function(e,n,a){var c=this.getZoomScale(n),h=this.getSize().divideBy(2),f=e instanceof B?e:this.latLngToContainerPoint(e),g=f.subtract(h).multiplyBy(1-1/c),v=this.containerPointToLatLng(h.add(g));return this.setView(v,n,{zoom:a})},_getBoundsCenterZoom:function(e,n){n=n||{},e=e.getBounds?e.getBounds():we(e);var a=z(n.paddingTopLeft||n.padding||[0,0]),c=z(n.paddingBottomRight||n.padding||[0,0]),h=this.getBoundsZoom(e,!1,a.add(c));if(h=typeof n.maxZoom=="number"?Math.min(n.maxZoom,h):h,h===1/0)return{center:e.getCenter(),zoom:h};var f=c.subtract(a).divideBy(2),g=this.project(e.getSouthWest(),h),v=this.project(e.getNorthEast(),h),y=this.unproject(g.add(v).divideBy(2).add(f),h);return{center:y,zoom:h}},fitBounds:function(e,n){if(e=we(e),!e.isValid())throw new Error("Bounds are not valid.");var a=this._getBoundsCenterZoom(e,n);return this.setView(a.center,a.zoom,n)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,n){return this.setView(e,this._zoom,{pan:n})},panBy:function(e,n){if(e=z(e).round(),n=n||{},!e.x&&!e.y)return this.fire("moveend");if(n.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new pl,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),n.noMoveStart||this.fire("movestart"),n.animate!==!1){W(this._mapPane,"leaflet-pan-anim");var a=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,a,n.duration||.25,n.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,n,a){if(a=a||{},a.animate===!1||!O.any3d)return this.setView(e,n,a);this._stop();var c=this.project(this.getCenter()),h=this.project(e),f=this.getSize(),g=this._zoom;e=J(e),n=n===void 0?g:n;var v=Math.max(f.x,f.y),y=v*this.getZoomScale(g,n),T=h.distanceTo(c)||1,E=1.42,V=E*E;function q(Ce){var _r=Ce?-1:1,Tf=Ce?y:v,Sf=y*y-v*v+_r*V*V*T*T,Pf=2*Tf*V*T,Qs=Sf/Pf,ql=Math.sqrt(Qs*Qs+1)-Qs,Ef=ql<1e-9?-18:Math.log(ql);return Ef}function Le(Ce){return(Math.exp(Ce)-Math.exp(-Ce))/2}function Ie(Ce){return(Math.exp(Ce)+Math.exp(-Ce))/2}function et(Ce){return Le(Ce)/Ie(Ce)}var Ue=q(0);function Pi(Ce){return v*(Ie(Ue)/Ie(Ue+E*Ce))}function wf(Ce){return v*(Ie(Ue)*et(Ue+E*Ce)-Le(Ue))/V}function bf(Ce){return 1-Math.pow(1-Ce,1.5)}var Cf=Date.now(),Wl=(q(1)-Ue)/E,xf=a.duration?1e3*a.duration:1e3*Wl*.8;function Gl(){var Ce=(Date.now()-Cf)/xf,_r=bf(Ce)*Wl;Ce<=1?(this._flyToFrame=Ve(Gl,this),this._move(this.unproject(c.add(h.subtract(c).multiplyBy(wf(_r)/T)),g),this.getScaleZoom(v/Pi(_r),g),{flyTo:!0})):this._move(e,n)._moveEnd(!0)}return this._moveStart(!0,a.noMoveStart),Gl.call(this),this},flyToBounds:function(e,n){var a=this._getBoundsCenterZoom(e,n);return this.flyTo(a.center,a.zoom,n)},setMaxBounds:function(e){return e=we(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var n=this.options.minZoom;return this.options.minZoom=e,this._loaded&&n!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var n=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&n!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,n){this._enforcingBounds=!0;var a=this.getCenter(),c=this._limitCenter(a,this._zoom,we(e));return a.equals(c)||this.panTo(c,n),this._enforcingBounds=!1,this},panInside:function(e,n){n=n||{};var a=z(n.paddingTopLeft||n.padding||[0,0]),c=z(n.paddingBottomRight||n.padding||[0,0]),h=this.project(this.getCenter()),f=this.project(e),g=this.getPixelBounds(),v=je([g.min.add(a),g.max.subtract(c)]),y=v.getSize();if(!v.contains(f)){this._enforcingBounds=!0;var T=f.subtract(v.getCenter()),E=v.extend(f).getSize().subtract(y);h.x+=T.x<0?-E.x:E.x,h.y+=T.y<0?-E.y:E.y,this.panTo(this.unproject(h),n),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=o({animate:!1,pan:!0},e===!0?{animate:!0}:e);var n=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var a=this.getSize(),c=n.divideBy(2).round(),h=a.divideBy(2).round(),f=c.subtract(h);return!f.x&&!f.y?this:(e.animate&&e.pan?this.panBy(f):(e.pan&&this._rawPanBy(f),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:n,newSize:a}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=o({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var n=s(this._handleGeolocationResponse,this),a=s(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(n,a,e):navigator.geolocation.getCurrentPosition(n,a,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var n=e.code,a=e.message||(n===1?"permission denied":n===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:n,message:"Geolocation error: "+a+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var n=e.coords.latitude,a=e.coords.longitude,c=new ae(n,a),h=c.toBounds(e.coords.accuracy*2),f=this._locateOptions;if(f.setView){var g=this.getBoundsZoom(h);this.setView(c,f.maxZoom?Math.min(g,f.maxZoom):g)}var v={latlng:c,bounds:h,timestamp:e.timestamp};for(var y in e.coords)typeof e.coords[y]=="number"&&(v[y]=e.coords[y]);this.fire("locationfound",v)}},addHandler:function(e,n){if(!n)return this;var a=this[e]=new n(this);return this._handlers.push(a),this.options[e]&&a.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),me(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Ye(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)me(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,n){var a="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),c=ie("div",a,n||this._mapPane);return e&&(this._panes[e]=c),c},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),n=this.unproject(e.getBottomLeft()),a=this.unproject(e.getTopRight());return new ze(n,a)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,n,a){e=we(e),a=z(a||[0,0]);var c=this.getZoom()||0,h=this.getMinZoom(),f=this.getMaxZoom(),g=e.getNorthWest(),v=e.getSouthEast(),y=this.getSize().subtract(a),T=je(this.project(v,c),this.project(g,c)).getSize(),E=O.any3d?this.options.zoomSnap:1,V=y.x/T.x,q=y.y/T.y,Le=n?Math.max(V,q):Math.min(V,q);return c=this.getScaleZoom(Le,c),E&&(c=Math.round(c/(E/100))*(E/100),c=n?Math.ceil(c/E)*E:Math.floor(c/E)*E),Math.max(h,Math.min(f,c))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new B(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,n){var a=this._getTopLeftPoint(e,n);return new pe(a,a.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,n){var a=this.options.crs;return n=n===void 0?this._zoom:n,a.scale(e)/a.scale(n)},getScaleZoom:function(e,n){var a=this.options.crs;n=n===void 0?this._zoom:n;var c=a.zoom(e*a.scale(n));return isNaN(c)?1/0:c},project:function(e,n){return n=n===void 0?this._zoom:n,this.options.crs.latLngToPoint(J(e),n)},unproject:function(e,n){return n=n===void 0?this._zoom:n,this.options.crs.pointToLatLng(z(e),n)},layerPointToLatLng:function(e){var n=z(e).add(this.getPixelOrigin());return this.unproject(n)},latLngToLayerPoint:function(e){var n=this.project(J(e))._round();return n._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(J(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(we(e))},distance:function(e,n){return this.options.crs.distance(J(e),J(n))},containerPointToLayerPoint:function(e){return z(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return z(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var n=this.containerPointToLayerPoint(z(e));return this.layerPointToLatLng(n)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(J(e)))},mouseEventToContainerPoint:function(e){return dl(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var n=this._container=ll(e);if(n){if(n._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");H(n,"scroll",this._onScroll,this),this._containerId=u(n)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&O.any3d,W(e,"leaflet-container"+(O.touch?" leaflet-touch":"")+(O.retina?" leaflet-retina":"")+(O.ielt9?" leaflet-oldie":"")+(O.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var n=nn(e,"position");n!=="absolute"&&n!=="relative"&&n!=="fixed"&&n!=="sticky"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),be(this._mapPane,new B(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(W(e.markerPane,"leaflet-zoom-hide"),W(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,n,a){be(this._mapPane,new B(0,0));var c=!this._loaded;this._loaded=!0,n=this._limitZoom(n),this.fire("viewprereset");var h=this._zoom!==n;this._moveStart(h,a)._move(e,n)._moveEnd(h),this.fire("viewreset"),c&&this.fire("load")},_moveStart:function(e,n){return e&&this.fire("zoomstart"),n||this.fire("movestart"),this},_move:function(e,n,a,c){n===void 0&&(n=this._zoom);var h=this._zoom!==n;return this._zoom=n,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),c?a&&a.pinch&&this.fire("zoom",a):((h||a&&a.pinch)&&this.fire("zoom",a),this.fire("move",a)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Ye(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){be(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[u(this._container)]=this;var n=e?ce:H;n(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&n(window,"resize",this._onResize,this),O.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Ye(this._resizeRequest),this._resizeRequest=Ve(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,n){for(var a=[],c,h=n==="mouseout"||n==="mouseover",f=e.target||e.srcElement,g=!1;f;){if(c=this._targets[u(f)],c&&(n==="click"||n==="preclick")&&this._draggableMoved(c)){g=!0;break}if(c&&c.listens(n,!0)&&(h&&!Bs(f,e)||(a.push(c),h))||f===this._container)break;f=f.parentNode}return!a.length&&!g&&!h&&this.listens(n,!0)&&(a=[this]),a},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var n=e.target||e.srcElement;if(!(!this._loaded||n._leaflet_disable_events||e.type==="click"&&this._isClickDisabled(n))){var a=e.type;a==="mousedown"&&Ns(n),this._fireDOMEvent(e,a)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,n,a){if(e.type==="click"){var c=o({},e);c.type="preclick",this._fireDOMEvent(c,c.type,a)}var h=this._findEventTargets(e,n);if(a){for(var f=[],g=0;g<a.length;g++)a[g].listens(n,!0)&&f.push(a[g]);h=f.concat(h)}if(h.length){n==="contextmenu"&&De(e);var v=h[0],y={originalEvent:e};if(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"){var T=v.getLatLng&&(!v._radius||v._radius<=10);y.containerPoint=T?this.latLngToContainerPoint(v.getLatLng()):this.mouseEventToContainerPoint(e),y.layerPoint=this.containerPointToLayerPoint(y.containerPoint),y.latlng=T?v.getLatLng():this.layerPointToLatLng(y.layerPoint)}for(g=0;g<h.length;g++)if(h[g].fire(n,y,!0),y.originalEvent._stopped||h[g].options.bubblingMouseEvents===!1&&ke(this._mouseEvents,n)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,n=this._handlers.length;e<n;e++)this._handlers[e].disable()},whenReady:function(e,n){return this._loaded?e.call(n||this,{target:this}):this.on("load",e,n),this},_getMapPanePos:function(){return ei(this._mapPane)||new B(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,n){var a=e&&n!==void 0?this._getNewPixelOrigin(e,n):this.getPixelOrigin();return a.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,n){var a=this.getSize()._divideBy(2);return this.project(e,n)._subtract(a)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,n,a){var c=this._getNewPixelOrigin(a,n);return this.project(e,n)._subtract(c)},_latLngBoundsToNewLayerBounds:function(e,n,a){var c=this._getNewPixelOrigin(a,n);return je([this.project(e.getSouthWest(),n)._subtract(c),this.project(e.getNorthWest(),n)._subtract(c),this.project(e.getSouthEast(),n)._subtract(c),this.project(e.getNorthEast(),n)._subtract(c)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,n,a){if(!a)return e;var c=this.project(e,n),h=this.getSize().divideBy(2),f=new pe(c.subtract(h),c.add(h)),g=this._getBoundsOffset(f,a,n);return Math.abs(g.x)<=1&&Math.abs(g.y)<=1?e:this.unproject(c.add(g),n)},_limitOffset:function(e,n){if(!n)return e;var a=this.getPixelBounds(),c=new pe(a.min.add(e),a.max.add(e));return e.add(this._getBoundsOffset(c,n))},_getBoundsOffset:function(e,n,a){var c=je(this.project(n.getNorthEast(),a),this.project(n.getSouthWest(),a)),h=c.min.subtract(e.min),f=c.max.subtract(e.max),g=this._rebound(h.x,-f.x),v=this._rebound(h.y,-f.y);return new B(g,v)},_rebound:function(e,n){return e+n>0?Math.round(e-n)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(n))},_limitZoom:function(e){var n=this.getMinZoom(),a=this.getMaxZoom(),c=O.any3d?this.options.zoomSnap:1;return c&&(e=Math.round(e/c)*c),Math.max(n,Math.min(a,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){_e(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,n){var a=this._getCenterOffset(e)._trunc();return(n&&n.animate)!==!0&&!this.getSize().contains(a)?!1:(this.panBy(a,n),!0)},_createAnimProxy:function(){var e=this._proxy=ie("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(n){var a=Ms,c=this._proxy.style[a];Qt(this._proxy,this.project(n.center,n.zoom),this.getZoomScale(n.zoom,1)),c===this._proxy.style[a]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){me(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),n=this.getZoom();Qt(this._proxy,this.project(e,n),this.getZoomScale(n,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,n,a){if(this._animatingZoom)return!0;if(a=a||{},!this._zoomAnimated||a.animate===!1||this._nothingToAnimate()||Math.abs(n-this._zoom)>this.options.zoomAnimationThreshold)return!1;var c=this.getZoomScale(n),h=this._getCenterOffset(e)._divideBy(1-1/c);return a.animate!==!0&&!this.getSize().contains(h)?!1:(Ve(function(){this._moveStart(!0,a.noMoveStart||!1)._animateZoom(e,n,!0)},this),!0)},_animateZoom:function(e,n,a,c){this._mapPane&&(a&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=n,W(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:n,noUpdate:c}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(s(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&_e(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Nd(e,n){return new Y(e,n)}var st=xt.extend({options:{position:"topright"},initialize:function(e){S(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var n=this._map;return n&&n.removeControl(this),this.options.position=e,n&&n.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var n=this._container=this.onAdd(e),a=this.getPosition(),c=e._controlCorners[a];return W(n,"leaflet-control"),a.indexOf("bottom")!==-1?c.insertBefore(n,c.firstChild):c.appendChild(n),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(me(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),ln=function(e){return new st(e)};Y.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},n="leaflet-",a=this._controlContainer=ie("div",n+"control-container",this._container);function c(h,f){var g=n+h+" "+n+f;e[h+f]=ie("div",g,a)}c("top","left"),c("top","right"),c("bottom","left"),c("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)me(this._controlCorners[e]);me(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ml=st.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,n,a,c){return a<c?-1:c<a?1:0}},initialize:function(e,n,a){S(this,a),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var c in e)this._addLayer(e[c],c);for(c in n)this._addLayer(n[c],c,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return st.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,n){return this._addLayer(e,n),this._map?this._update():this},addOverlay:function(e,n){return this._addLayer(e,n,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var n=this._getLayer(u(e));return n&&this._layers.splice(this._layers.indexOf(n),1),this._map?this._update():this},expand:function(){W(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(W(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):_e(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return _e(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",n=this._container=ie("div",e),a=this.options.collapsed;n.setAttribute("aria-haspopup",!0),an(n),Us(n);var c=this._section=ie("section",e+"-list");a&&(this._map.on("click",this.collapse,this),H(n,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var h=this._layersLink=ie("a",e+"-toggle",n);h.href="#",h.title="Layers",h.setAttribute("role","button"),H(h,{keydown:function(f){f.keyCode===13&&this._expandSafely()},click:function(f){De(f),this._expandSafely()}},this),a||this.expand(),this._baseLayersList=ie("div",e+"-base",c),this._separator=ie("div",e+"-separator",c),this._overlaysList=ie("div",e+"-overlays",c),n.appendChild(c)},_getLayer:function(e){for(var n=0;n<this._layers.length;n++)if(this._layers[n]&&u(this._layers[n].layer)===e)return this._layers[n]},_addLayer:function(e,n,a){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:n,overlay:a}),this.options.sortLayers&&this._layers.sort(s(function(c,h){return this.options.sortFunction(c.layer,h.layer,c.name,h.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ir(this._baseLayersList),ir(this._overlaysList),this._layerControlInputs=[];var e,n,a,c,h=0;for(a=0;a<this._layers.length;a++)c=this._layers[a],this._addItem(c),n=n||c.overlay,e=e||!c.overlay,h+=c.overlay?0:1;return this.options.hideSingleBase&&(e=e&&h>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=n&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var n=this._getLayer(u(e.target)),a=n.overlay?e.type==="add"?"overlayadd":"overlayremove":e.type==="add"?"baselayerchange":null;a&&this._map.fire(a,n)},_createRadioElement:function(e,n){var a='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(n?' checked="checked"':"")+"/>",c=document.createElement("div");return c.innerHTML=a,c.firstChild},_addItem:function(e){var n=document.createElement("label"),a=this._map.hasLayer(e.layer),c;e.overlay?(c=document.createElement("input"),c.type="checkbox",c.className="leaflet-control-layers-selector",c.defaultChecked=a):c=this._createRadioElement("leaflet-base-layers_"+u(this),a),this._layerControlInputs.push(c),c.layerId=u(e.layer),H(c,"click",this._onInputClick,this);var h=document.createElement("span");h.innerHTML=" "+e.name;var f=document.createElement("span");n.appendChild(f),f.appendChild(c),f.appendChild(h);var g=e.overlay?this._overlaysList:this._baseLayersList;return g.appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){if(!this._preventClick){var e=this._layerControlInputs,n,a,c=[],h=[];this._handlingClick=!0;for(var f=e.length-1;f>=0;f--)n=e[f],a=this._getLayer(n.layerId).layer,n.checked?c.push(a):n.checked||h.push(a);for(f=0;f<h.length;f++)this._map.hasLayer(h[f])&&this._map.removeLayer(h[f]);for(f=0;f<c.length;f++)this._map.hasLayer(c[f])||this._map.addLayer(c[f]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,n,a,c=this._map.getZoom(),h=e.length-1;h>=0;h--)n=e[h],a=this._getLayer(n.layerId).layer,n.disabled=a.options.minZoom!==void 0&&c<a.options.minZoom||a.options.maxZoom!==void 0&&c>a.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,H(e,"click",De),this.expand();var n=this;setTimeout(function(){ce(e,"click",De),n._preventClick=!1})}}),Fd=function(e,n,a){return new ml(e,n,a)},Hs=st.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var n="leaflet-control-zoom",a=ie("div",n+" leaflet-bar"),c=this.options;return this._zoomInButton=this._createButton(c.zoomInText,c.zoomInTitle,n+"-in",a,this._zoomIn),this._zoomOutButton=this._createButton(c.zoomOutText,c.zoomOutTitle,n+"-out",a,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),a},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,n,a,c,h){var f=ie("a",a,c);return f.innerHTML=e,f.href="#",f.title=n,f.setAttribute("role","button"),f.setAttribute("aria-label",n),an(f),H(f,"click",ii),H(f,"click",h,this),H(f,"click",this._refocusOnMap,this),f},_updateDisabled:function(){var e=this._map,n="leaflet-disabled";_e(this._zoomInButton,n),_e(this._zoomOutButton,n),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(W(this._zoomOutButton,n),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(W(this._zoomInButton,n),this._zoomInButton.setAttribute("aria-disabled","true"))}});Y.mergeOptions({zoomControl:!0}),Y.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Hs,this.addControl(this.zoomControl))});var Vd=function(e){return new Hs(e)},gl=st.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var n="leaflet-control-scale",a=ie("div",n),c=this.options;return this._addScales(c,n+"-line",a),e.on(c.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),a},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,n,a){e.metric&&(this._mScale=ie("div",n,a)),e.imperial&&(this._iScale=ie("div",n,a))},_update:function(){var e=this._map,n=e.getSize().y/2,a=e.distance(e.containerPointToLatLng([0,n]),e.containerPointToLatLng([this.options.maxWidth,n]));this._updateScales(a)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var n=this._getRoundNum(e),a=n<1e3?n+" m":n/1e3+" km";this._updateScale(this._mScale,a,n/e)},_updateImperial:function(e){var n=e*3.2808399,a,c,h;n>5280?(a=n/5280,c=this._getRoundNum(a),this._updateScale(this._iScale,c+" mi",c/a)):(h=this._getRoundNum(n),this._updateScale(this._iScale,h+" ft",h/n))},_updateScale:function(e,n,a){e.style.width=Math.round(this.options.maxWidth*a)+"px",e.innerHTML=n},_getRoundNum:function(e){var n=Math.pow(10,(Math.floor(e)+"").length-1),a=e/n;return a=a>=10?10:a>=5?5:a>=3?3:a>=2?2:1,n*a}}),jd=function(e){return new gl(e)},zd='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',$s=st.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(O.inlineSvg?zd+" ":"")+"Leaflet</a>"},initialize:function(e){S(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=ie("div","leaflet-control-attribution"),an(this._container);for(var n in e._layers)e._layers[n].getAttribution&&this.addAttribution(e._layers[n].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var n in this._attributions)this._attributions[n]&&e.push(n);var a=[];this.options.prefix&&a.push(this.options.prefix),e.length&&a.push(e.join(", ")),this._container.innerHTML=a.join(' <span aria-hidden="true">|</span> ')}}});Y.mergeOptions({attributionControl:!0}),Y.addInitHook(function(){this.options.attributionControl&&new $s().addTo(this)});var Ud=function(e){return new $s(e)};st.Layers=ml,st.Zoom=Hs,st.Scale=gl,st.Attribution=$s,ln.layers=Fd,ln.zoom=Vd,ln.scale=jd,ln.attribution=Ud;var mt=xt.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});mt.addTo=function(e,n){return e.addHandler(n,this),this};var Bd={Events:We},vl=O.touch?"touchstart mousedown":"mousedown",Vt=Xi.extend({options:{clickTolerance:3},initialize:function(e,n,a,c){S(this,c),this._element=e,this._dragStartTarget=n||e,this._preventOutline=a},enable:function(){this._enabled||(H(this._dragStartTarget,vl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Vt._dragging===this&&this.finishDrag(!0),ce(this._dragStartTarget,vl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!As(this._element,"leaflet-zoom-anim"))){if(e.touches&&e.touches.length!==1){Vt._dragging===this&&this.finishDrag();return}if(!(Vt._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(Vt._dragging=this,this._preventOutline&&Ns(this._element),Os(),rn(),!this._moving)){this.fire("down");var n=e.touches?e.touches[0]:e,a=cl(this._element);this._startPoint=new B(n.clientX,n.clientY),this._startPos=ei(this._element),this._parentScale=Fs(a);var c=e.type==="mousedown";H(document,c?"mousemove":"touchmove",this._onMove,this),H(document,c?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(e){if(this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var n=e.touches&&e.touches.length===1?e.touches[0]:e,a=new B(n.clientX,n.clientY)._subtract(this._startPoint);!a.x&&!a.y||Math.abs(a.x)+Math.abs(a.y)<this.options.clickTolerance||(a.x/=this._parentScale.x,a.y/=this._parentScale.y,De(e),this._moved||(this.fire("dragstart"),this._moved=!0,W(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),W(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(a),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),be(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){_e(document.body,"leaflet-dragging"),this._lastTarget&&(_e(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ce(document,"mousemove touchmove",this._onMove,this),ce(document,"mouseup touchend touchcancel",this._onUp,this),Rs(),sn();var n=this._moved&&this._moving;this._moving=!1,Vt._dragging=!1,n&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function _l(e,n,a){var c,h=[1,4,2,8],f,g,v,y,T,E,V,q;for(f=0,E=e.length;f<E;f++)e[f]._code=ni(e[f],n);for(v=0;v<4;v++){for(V=h[v],c=[],f=0,E=e.length,g=E-1;f<E;g=f++)y=e[f],T=e[g],y._code&V?T._code&V||(q=ar(T,y,V,n,a),q._code=ni(q,n),c.push(q)):(T._code&V&&(q=ar(T,y,V,n,a),q._code=ni(q,n),c.push(q)),c.push(y));e=c}return e}function yl(e,n){var a,c,h,f,g,v,y,T,E;if(!e||e.length===0)throw new Error("latlngs not passed");Qe(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var V=J([0,0]),q=we(e),Le=q.getNorthWest().distanceTo(q.getSouthWest())*q.getNorthEast().distanceTo(q.getNorthWest());Le<1700&&(V=Zs(e));var Ie=e.length,et=[];for(a=0;a<Ie;a++){var Ue=J(e[a]);et.push(n.project(J([Ue.lat-V.lat,Ue.lng-V.lng])))}for(v=y=T=0,a=0,c=Ie-1;a<Ie;c=a++)h=et[a],f=et[c],g=h.y*f.x-f.y*h.x,y+=(h.x+f.x)*g,T+=(h.y+f.y)*g,v+=g*3;v===0?E=et[0]:E=[y/v,T/v];var Pi=n.unproject(z(E));return J([Pi.lat+V.lat,Pi.lng+V.lng])}function Zs(e){for(var n=0,a=0,c=0,h=0;h<e.length;h++){var f=J(e[h]);n+=f.lat,a+=f.lng,c++}return J([n/c,a/c])}var Hd={__proto__:null,clipPolygon:_l,polygonCenter:yl,centroid:Zs};function wl(e,n){if(!n||!e.length)return e.slice();var a=n*n;return e=Wd(e,a),e=Zd(e,a),e}function bl(e,n,a){return Math.sqrt(cn(e,n,a,!0))}function $d(e,n,a){return cn(e,n,a)}function Zd(e,n){var a=e.length,c=typeof Uint8Array<"u"?Uint8Array:Array,h=new c(a);h[0]=h[a-1]=1,Ws(e,h,n,0,a-1);var f,g=[];for(f=0;f<a;f++)h[f]&&g.push(e[f]);return g}function Ws(e,n,a,c,h){var f=0,g,v,y;for(v=c+1;v<=h-1;v++)y=cn(e[v],e[c],e[h],!0),y>f&&(g=v,f=y);f>a&&(n[g]=1,Ws(e,n,a,c,g),Ws(e,n,a,g,h))}function Wd(e,n){for(var a=[e[0]],c=1,h=0,f=e.length;c<f;c++)Gd(e[c],e[h])>n&&(a.push(e[c]),h=c);return h<f-1&&a.push(e[f-1]),a}var Cl;function xl(e,n,a,c,h){var f=c?Cl:ni(e,a),g=ni(n,a),v,y,T;for(Cl=g;;){if(!(f|g))return[e,n];if(f&g)return!1;v=f||g,y=ar(e,n,v,a,h),T=ni(y,a),v===f?(e=y,f=T):(n=y,g=T)}}function ar(e,n,a,c,h){var f=n.x-e.x,g=n.y-e.y,v=c.min,y=c.max,T,E;return a&8?(T=e.x+f*(y.y-e.y)/g,E=y.y):a&4?(T=e.x+f*(v.y-e.y)/g,E=v.y):a&2?(T=y.x,E=e.y+g*(y.x-e.x)/f):a&1&&(T=v.x,E=e.y+g*(v.x-e.x)/f),new B(T,E,h)}function ni(e,n){var a=0;return e.x<n.min.x?a|=1:e.x>n.max.x&&(a|=2),e.y<n.min.y?a|=4:e.y>n.max.y&&(a|=8),a}function Gd(e,n){var a=n.x-e.x,c=n.y-e.y;return a*a+c*c}function cn(e,n,a,c){var h=n.x,f=n.y,g=a.x-h,v=a.y-f,y=g*g+v*v,T;return y>0&&(T=((e.x-h)*g+(e.y-f)*v)/y,T>1?(h=a.x,f=a.y):T>0&&(h+=g*T,f+=v*T)),g=e.x-h,v=e.y-f,c?g*g+v*v:new B(h,f)}function Qe(e){return!j(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]<"u"}function Tl(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Qe(e)}function Sl(e,n){var a,c,h,f,g,v,y,T;if(!e||e.length===0)throw new Error("latlngs not passed");Qe(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var E=J([0,0]),V=we(e),q=V.getNorthWest().distanceTo(V.getSouthWest())*V.getNorthEast().distanceTo(V.getNorthWest());q<1700&&(E=Zs(e));var Le=e.length,Ie=[];for(a=0;a<Le;a++){var et=J(e[a]);Ie.push(n.project(J([et.lat-E.lat,et.lng-E.lng])))}for(a=0,c=0;a<Le-1;a++)c+=Ie[a].distanceTo(Ie[a+1])/2;if(c===0)T=Ie[0];else for(a=0,f=0;a<Le-1;a++)if(g=Ie[a],v=Ie[a+1],h=g.distanceTo(v),f+=h,f>c){y=(f-c)/h,T=[v.x-y*(v.x-g.x),v.y-y*(v.y-g.y)];break}var Ue=n.unproject(z(T));return J([Ue.lat+E.lat,Ue.lng+E.lng])}var qd={__proto__:null,simplify:wl,pointToSegmentDistance:bl,closestPointOnSegment:$d,clipSegment:xl,_getEdgeIntersection:ar,_getBitCode:ni,_sqClosestPointOnSegment:cn,isFlat:Qe,_flat:Tl,polylineCenter:Sl},Gs={project:function(e){return new B(e.lng,e.lat)},unproject:function(e){return new ae(e.y,e.x)},bounds:new pe([-180,-90],[180,90])},qs={R:6378137,R_MINOR:6356752314245179e-9,bounds:new pe([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var n=Math.PI/180,a=this.R,c=e.lat*n,h=this.R_MINOR/a,f=Math.sqrt(1-h*h),g=f*Math.sin(c),v=Math.tan(Math.PI/4-c/2)/Math.pow((1-g)/(1+g),f/2);return c=-a*Math.log(Math.max(v,1e-10)),new B(e.lng*n*a,c)},unproject:function(e){for(var n=180/Math.PI,a=this.R,c=this.R_MINOR/a,h=Math.sqrt(1-c*c),f=Math.exp(-e.y/a),g=Math.PI/2-2*Math.atan(f),v=0,y=.1,T;v<15&&Math.abs(y)>1e-7;v++)T=h*Math.sin(g),T=Math.pow((1-T)/(1+T),h/2),y=Math.PI/2-2*Math.atan(f*T)-g,g+=y;return new ae(g*n,e.x*n/a)}},Kd={__proto__:null,LonLat:Gs,Mercator:qs,SphericalMercator:ws},Jd=o({},Ft,{code:"EPSG:3395",projection:qs,transformation:function(){var e=.5/(Math.PI*qs.R);return Qi(e,.5,-e,.5)}()}),Pl=o({},Ft,{code:"EPSG:4326",projection:Gs,transformation:Qi(1/180,1,-1/180,.5)}),Yd=o({},Tt,{projection:Gs,transformation:Qi(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,n){var a=n.lng-e.lng,c=n.lat-e.lat;return Math.sqrt(a*a+c*c)},infinite:!0});Tt.Earth=Ft,Tt.EPSG3395=Jd,Tt.EPSG3857=Cs,Tt.EPSG900913=nd,Tt.EPSG4326=Pl,Tt.Simple=Yd;var ot=Xi.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[u(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[u(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var n=e.target;if(n.hasLayer(this)){if(this._map=n,this._zoomAnimated=n._zoomAnimated,this.getEvents){var a=this.getEvents();n.on(a,this),this.once("remove",function(){n.off(a,this)},this)}this.onAdd(n),this.fire("add"),n.fire("layeradd",{layer:this})}}});Y.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var n=u(e);return this._layers[n]?this:(this._layers[n]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var n=u(e);return this._layers[n]?(this._loaded&&e.onRemove(this),delete this._layers[n],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return u(e)in this._layers},eachLayer:function(e,n){for(var a in this._layers)e.call(n,this._layers[a]);return this},_addLayers:function(e){e=e?j(e)?e:[e]:[];for(var n=0,a=e.length;n<a;n++)this.addLayer(e[n])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[u(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var n=u(e);this._zoomBoundLayers[n]&&(delete this._zoomBoundLayers[n],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,n=-1/0,a=this._getZoomSpan();for(var c in this._zoomBoundLayers){var h=this._zoomBoundLayers[c].options;e=h.minZoom===void 0?e:Math.min(e,h.minZoom),n=h.maxZoom===void 0?n:Math.max(n,h.maxZoom)}this._layersMaxZoom=n===-1/0?void 0:n,this._layersMinZoom=e===1/0?void 0:e,a!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var bi=ot.extend({initialize:function(e,n){S(this,n),this._layers={};var a,c;if(e)for(a=0,c=e.length;a<c;a++)this.addLayer(e[a])},addLayer:function(e){var n=this.getLayerId(e);return this._layers[n]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var n=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[n]&&this._map.removeLayer(this._layers[n]),delete this._layers[n],this},hasLayer:function(e){var n=typeof e=="number"?e:this.getLayerId(e);return n in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var n=Array.prototype.slice.call(arguments,1),a,c;for(a in this._layers)c=this._layers[a],c[e]&&c[e].apply(c,n);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,n){for(var a in this._layers)e.call(n,this._layers[a]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return u(e)}}),Xd=function(e,n){return new bi(e,n)},St=bi.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),bi.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),bi.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new ze;for(var n in this._layers){var a=this._layers[n];e.extend(a.getBounds?a.getBounds():a.getLatLng())}return e}}),Qd=function(e,n){return new St(e,n)},Ci=xt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){S(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,n){var a=this._getIconUrl(e);if(!a){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var c=this._createImg(a,n&&n.tagName==="IMG"?n:null);return this._setIconStyles(c,e),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),c},_setIconStyles:function(e,n){var a=this.options,c=a[n+"Size"];typeof c=="number"&&(c=[c,c]);var h=z(c),f=z(n==="shadow"&&a.shadowAnchor||a.iconAnchor||h&&h.divideBy(2,!0));e.className="leaflet-marker-"+n+" "+(a.className||""),f&&(e.style.marginLeft=-f.x+"px",e.style.marginTop=-f.y+"px"),h&&(e.style.width=h.x+"px",e.style.height=h.y+"px")},_createImg:function(e,n){return n=n||document.createElement("img"),n.src=e,n},_getIconUrl:function(e){return O.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function ef(e){return new Ci(e)}var un=Ci.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof un.imagePath!="string"&&(un.imagePath=this._detectIconPath()),(this.options.imagePath||un.imagePath)+Ci.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var n=function(a,c,h){var f=c.exec(a);return f&&f[h]};return e=n(e,/^url\((['"])?(.+)\1\)$/,2),e&&n(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=ie("div","leaflet-default-icon-path",document.body),n=nn(e,"background-image")||nn(e,"backgroundImage");if(document.body.removeChild(e),n=this._stripUrl(n),n)return n;var a=document.querySelector('link[href$="leaflet.css"]');return a?a.href.substring(0,a.href.length-11-1):""}}),El=mt.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new Vt(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),W(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&_e(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var n=this._marker,a=n._map,c=this._marker.options.autoPanSpeed,h=this._marker.options.autoPanPadding,f=ei(n._icon),g=a.getPixelBounds(),v=a.getPixelOrigin(),y=je(g.min._subtract(v).add(h),g.max._subtract(v).subtract(h));if(!y.contains(f)){var T=z((Math.max(y.max.x,f.x)-y.max.x)/(g.max.x-y.max.x)-(Math.min(y.min.x,f.x)-y.min.x)/(g.min.x-y.min.x),(Math.max(y.max.y,f.y)-y.max.y)/(g.max.y-y.max.y)-(Math.min(y.min.y,f.y)-y.min.y)/(g.min.y-y.min.y)).multiplyBy(c);a.panBy(T,{animate:!1}),this._draggable._newPos._add(T),this._draggable._startPos._add(T),be(n._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=Ve(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(Ye(this._panRequest),this._panRequest=Ve(this._adjustPan.bind(this,e)))},_onDrag:function(e){var n=this._marker,a=n._shadow,c=ei(n._icon),h=n._map.layerPointToLatLng(c);a&&be(a,c),n._latlng=h,e.latlng=h,e.oldLatLng=this._oldLatLng,n.fire("move",e).fire("drag",e)},_onDragEnd:function(e){Ye(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),lr=ot.extend({options:{icon:new un,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,n){S(this,n),this._latlng=J(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var n=this._latlng;return this._latlng=J(e),this.update(),this.fire("move",{oldLatLng:n,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,n="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),a=e.icon.createIcon(this._icon),c=!1;a!==this._icon&&(this._icon&&this._removeIcon(),c=!0,e.title&&(a.title=e.title),a.tagName==="IMG"&&(a.alt=e.alt||"")),W(a,n),e.keyboard&&(a.tabIndex="0",a.setAttribute("role","button")),this._icon=a,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&H(a,"focus",this._panOnFocus,this);var h=e.icon.createShadow(this._shadow),f=!1;h!==this._shadow&&(this._removeShadow(),f=!0),h&&(W(h,n),h.alt=""),this._shadow=h,e.opacity<1&&this._updateOpacity(),c&&this.getPane().appendChild(this._icon),this._initInteraction(),h&&f&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ce(this._icon,"focus",this._panOnFocus,this),me(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&me(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&be(this._icon,e),this._shadow&&be(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var n=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(n)},_initInteraction:function(){if(this.options.interactive&&(W(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),El)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new El(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&Xe(this._icon,e),this._shadow&&Xe(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var n=this.options.icon.options,a=n.iconSize?z(n.iconSize):z(0,0),c=n.iconAnchor?z(n.iconAnchor):z(0,0);e.panInside(this._latlng,{paddingTopLeft:c,paddingBottomRight:a.subtract(c)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function tf(e,n){return new lr(e,n)}var jt=ot.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return S(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),cr=jt.extend({options:{fill:!0,radius:10},initialize:function(e,n){S(this,n),this._latlng=J(e),this._radius=this.options.radius},setLatLng:function(e){var n=this._latlng;return this._latlng=J(e),this.redraw(),this.fire("move",{oldLatLng:n,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var n=e&&e.radius||this._radius;return jt.prototype.setStyle.call(this,e),this.setRadius(n),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,n=this._radiusY||e,a=this._clickTolerance(),c=[e+a,n+a];this._pxBounds=new pe(this._point.subtract(c),this._point.add(c))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function nf(e,n){return new cr(e,n)}var Ks=cr.extend({initialize:function(e,n,a){if(typeof n=="number"&&(n=o({},a,{radius:n})),S(this,n),this._latlng=J(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new ze(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:jt.prototype.setStyle,_project:function(){var e=this._latlng.lng,n=this._latlng.lat,a=this._map,c=a.options.crs;if(c.distance===Ft.distance){var h=Math.PI/180,f=this._mRadius/Ft.R/h,g=a.project([n+f,e]),v=a.project([n-f,e]),y=g.add(v).divideBy(2),T=a.unproject(y).lat,E=Math.acos((Math.cos(f*h)-Math.sin(n*h)*Math.sin(T*h))/(Math.cos(n*h)*Math.cos(T*h)))/h;(isNaN(E)||E===0)&&(E=f/Math.cos(Math.PI/180*n)),this._point=y.subtract(a.getPixelOrigin()),this._radius=isNaN(E)?0:y.x-a.project([T,e-E]).x,this._radiusY=y.y-g.y}else{var V=c.unproject(c.project(this._latlng).subtract([this._mRadius,0]));this._point=a.latLngToLayerPoint(this._latlng),this._radius=this._point.x-a.latLngToLayerPoint(V).x}this._updateBounds()}});function rf(e,n,a){return new Ks(e,n,a)}var Pt=jt.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,n){S(this,n),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var n=1/0,a=null,c=cn,h,f,g=0,v=this._parts.length;g<v;g++)for(var y=this._parts[g],T=1,E=y.length;T<E;T++){h=y[T-1],f=y[T];var V=c(e,h,f,!0);V<n&&(n=V,a=c(e,h,f))}return a&&(a.distance=Math.sqrt(n)),a},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Sl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,n){return n=n||this._defaultShape(),e=J(e),n.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new ze,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Qe(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var n=[],a=Qe(e),c=0,h=e.length;c<h;c++)a?(n[c]=J(e[c]),this._bounds.extend(n[c])):n[c]=this._convertLatLngs(e[c]);return n},_project:function(){var e=new pe;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),n=new B(e,e);this._rawPxBounds&&(this._pxBounds=new pe([this._rawPxBounds.min.subtract(n),this._rawPxBounds.max.add(n)]))},_projectLatlngs:function(e,n,a){var c=e[0]instanceof ae,h=e.length,f,g;if(c){for(g=[],f=0;f<h;f++)g[f]=this._map.latLngToLayerPoint(e[f]),a.extend(g[f]);n.push(g)}else for(f=0;f<h;f++)this._projectLatlngs(e[f],n,a)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var n=this._parts,a,c,h,f,g,v,y;for(a=0,h=0,f=this._rings.length;a<f;a++)for(y=this._rings[a],c=0,g=y.length;c<g-1;c++)v=xl(y[c],y[c+1],e,c,!0),v&&(n[h]=n[h]||[],n[h].push(v[0]),(v[1]!==y[c+1]||c===g-2)&&(n[h].push(v[1]),h++))}},_simplifyPoints:function(){for(var e=this._parts,n=this.options.smoothFactor,a=0,c=e.length;a<c;a++)e[a]=wl(e[a],n)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,n){var a,c,h,f,g,v,y=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(a=0,f=this._parts.length;a<f;a++)for(v=this._parts[a],c=0,g=v.length,h=g-1;c<g;h=c++)if(!(!n&&c===0)&&bl(e,v[h],v[c])<=y)return!0;return!1}});function sf(e,n){return new Pt(e,n)}Pt._flat=Tl;var xi=Pt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return yl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var n=Pt.prototype._convertLatLngs.call(this,e),a=n.length;return a>=2&&n[0]instanceof ae&&n[0].equals(n[a-1])&&n.pop(),n},_setLatLngs:function(e){Pt.prototype._setLatLngs.call(this,e),Qe(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Qe(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,n=this.options.weight,a=new B(n,n);if(e=new pe(e.min.subtract(a),e.max.add(a)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var c=0,h=this._rings.length,f;c<h;c++)f=_l(this._rings[c],e,!0),f.length&&this._parts.push(f)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var n=!1,a,c,h,f,g,v,y,T;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(f=0,y=this._parts.length;f<y;f++)for(a=this._parts[f],g=0,T=a.length,v=T-1;g<T;v=g++)c=a[g],h=a[v],c.y>e.y!=h.y>e.y&&e.x<(h.x-c.x)*(e.y-c.y)/(h.y-c.y)+c.x&&(n=!n);return n||Pt.prototype._containsPoint.call(this,e,!0)}});function of(e,n){return new xi(e,n)}var Et=St.extend({initialize:function(e,n){S(this,n),this._layers={},e&&this.addData(e)},addData:function(e){var n=j(e)?e:e.features,a,c,h;if(n){for(a=0,c=n.length;a<c;a++)h=n[a],(h.geometries||h.geometry||h.features||h.coordinates)&&this.addData(h);return this}var f=this.options;if(f.filter&&!f.filter(e))return this;var g=ur(e,f);return g?(g.feature=fr(e),g.defaultOptions=g.options,this.resetStyle(g),f.onEachFeature&&f.onEachFeature(e,g),this.addLayer(g)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=o({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(n){this._setLayerStyle(n,e)},this)},_setLayerStyle:function(e,n){e.setStyle&&(typeof n=="function"&&(n=n(e.feature)),e.setStyle(n))}});function ur(e,n){var a=e.type==="Feature"?e.geometry:e,c=a?a.coordinates:null,h=[],f=n&&n.pointToLayer,g=n&&n.coordsToLatLng||Js,v,y,T,E;if(!c&&!a)return null;switch(a.type){case"Point":return v=g(c),Il(f,e,v,n);case"MultiPoint":for(T=0,E=c.length;T<E;T++)v=g(c[T]),h.push(Il(f,e,v,n));return new St(h);case"LineString":case"MultiLineString":return y=hr(c,a.type==="LineString"?0:1,g),new Pt(y,n);case"Polygon":case"MultiPolygon":return y=hr(c,a.type==="Polygon"?1:2,g),new xi(y,n);case"GeometryCollection":for(T=0,E=a.geometries.length;T<E;T++){var V=ur({geometry:a.geometries[T],type:"Feature",properties:e.properties},n);V&&h.push(V)}return new St(h);case"FeatureCollection":for(T=0,E=a.features.length;T<E;T++){var q=ur(a.features[T],n);q&&h.push(q)}return new St(h);default:throw new Error("Invalid GeoJSON object.")}}function Il(e,n,a,c){return e?e(n,a):new lr(a,c&&c.markersInheritOptions&&c)}function Js(e){return new ae(e[1],e[0],e[2])}function hr(e,n,a){for(var c=[],h=0,f=e.length,g;h<f;h++)g=n?hr(e[h],n-1,a):(a||Js)(e[h]),c.push(g);return c}function Ys(e,n){return e=J(e),e.alt!==void 0?[w(e.lng,n),w(e.lat,n),w(e.alt,n)]:[w(e.lng,n),w(e.lat,n)]}function dr(e,n,a,c){for(var h=[],f=0,g=e.length;f<g;f++)h.push(n?dr(e[f],Qe(e[f])?0:n-1,a,c):Ys(e[f],c));return!n&&a&&h.length>0&&h.push(h[0].slice()),h}function Ti(e,n){return e.feature?o({},e.feature,{geometry:n}):fr(n)}function fr(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}var Xs={toGeoJSON:function(e){return Ti(this,{type:"Point",coordinates:Ys(this.getLatLng(),e)})}};lr.include(Xs),Ks.include(Xs),cr.include(Xs),Pt.include({toGeoJSON:function(e){var n=!Qe(this._latlngs),a=dr(this._latlngs,n?1:0,!1,e);return Ti(this,{type:(n?"Multi":"")+"LineString",coordinates:a})}}),xi.include({toGeoJSON:function(e){var n=!Qe(this._latlngs),a=n&&!Qe(this._latlngs[0]),c=dr(this._latlngs,a?2:n?1:0,!0,e);return n||(c=[c]),Ti(this,{type:(a?"Multi":"")+"Polygon",coordinates:c})}}),bi.include({toMultiPoint:function(e){var n=[];return this.eachLayer(function(a){n.push(a.toGeoJSON(e).geometry.coordinates)}),Ti(this,{type:"MultiPoint",coordinates:n})},toGeoJSON:function(e){var n=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(n==="MultiPoint")return this.toMultiPoint(e);var a=n==="GeometryCollection",c=[];return this.eachLayer(function(h){if(h.toGeoJSON){var f=h.toGeoJSON(e);if(a)c.push(f.geometry);else{var g=fr(f);g.type==="FeatureCollection"?c.push.apply(c,g.features):c.push(g)}}}),a?Ti(this,{geometries:c,type:"GeometryCollection"}):{type:"FeatureCollection",features:c}}});function Ml(e,n){return new Et(e,n)}var af=Ml,pr=ot.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,n,a){this._url=e,this._bounds=we(n),S(this,a)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(W(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){me(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&yi(this._image),this},bringToBack:function(){return this._map&&wi(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=we(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",n=this._image=e?this._url:ie("img");if(W(n,"leaflet-image-layer"),this._zoomAnimated&&W(n,"leaflet-zoom-animated"),this.options.className&&W(n,this.options.className),n.onselectstart=p,n.onmousemove=p,n.onload=s(this.fire,this,"load"),n.onerror=s(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(n.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=n.src;return}n.src=this._url,n.alt=this.options.alt},_animateZoom:function(e){var n=this._map.getZoomScale(e.zoom),a=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;Qt(this._image,a,n)},_reset:function(){var e=this._image,n=new pe(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),a=n.getSize();be(e,n.min),e.style.width=a.x+"px",e.style.height=a.y+"px"},_updateOpacity:function(){Xe(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),lf=function(e,n,a){return new pr(e,n,a)},Al=pr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName==="VIDEO",n=this._image=e?this._url:ie("video");if(W(n,"leaflet-image-layer"),this._zoomAnimated&&W(n,"leaflet-zoom-animated"),this.options.className&&W(n,this.options.className),n.onselectstart=p,n.onmousemove=p,n.onloadeddata=s(this.fire,this,"load"),e){for(var a=n.getElementsByTagName("source"),c=[],h=0;h<a.length;h++)c.push(a[h].src);this._url=a.length>0?c:[n.src];return}j(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(n.style,"objectFit")&&(n.style.objectFit="fill"),n.autoplay=!!this.options.autoplay,n.loop=!!this.options.loop,n.muted=!!this.options.muted,n.playsInline=!!this.options.playsInline;for(var f=0;f<this._url.length;f++){var g=ie("source");g.src=this._url[f],n.appendChild(g)}}});function cf(e,n,a){return new Al(e,n,a)}var kl=pr.extend({_initImage:function(){var e=this._image=this._url;W(e,"leaflet-image-layer"),this._zoomAnimated&&W(e,"leaflet-zoom-animated"),this.options.className&&W(e,this.options.className),e.onselectstart=p,e.onmousemove=p}});function uf(e,n,a){return new kl(e,n,a)}var gt=ot.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,n){e&&(e instanceof ae||j(e))?(this._latlng=J(e),S(this,n)):(S(this,e),this._source=n),this.options.content&&(this._content=this.options.content)},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&Xe(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&Xe(this._container,1),this.bringToFront(),this.options.interactive&&(W(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(Xe(this._container,0),this._removeTimeout=setTimeout(s(me,void 0,this._container),200)):me(this._container),this.options.interactive&&(_e(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=J(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&yi(this._container),this},bringToBack:function(){return this._map&&wi(this._container),this},_prepareOpen:function(e){var n=this._source;if(!n._map)return!1;if(n instanceof St){n=null;var a=this._source._layers;for(var c in a)if(a[c]._map){n=a[c];break}if(!n)return!1;this._source=n}if(!e)if(n.getCenter)e=n.getCenter();else if(n.getLatLng)e=n.getLatLng();else if(n.getBounds)e=n.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,n=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof n=="string")e.innerHTML=n;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(n)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),n=z(this.options.offset),a=this._getAnchor();this._zoomAnimated?be(this._container,e.add(a)):n=n.add(e).add(a);var c=this._containerBottom=-n.y,h=this._containerLeft=-Math.round(this._containerWidth/2)+n.x;this._container.style.bottom=c+"px",this._container.style.left=h+"px"}},_getAnchor:function(){return[0,0]}});Y.include({_initOverlay:function(e,n,a,c){var h=n;return h instanceof e||(h=new e(c).setContent(n)),a&&h.setLatLng(a),h}}),ot.include({_initOverlay:function(e,n,a,c){var h=a;return h instanceof e?(S(h,c),h._source=this):(h=n&&!c?n:new e(c,this),h.setContent(a)),h}});var mr=gt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,gt.prototype.openOn.call(this,e)},onAdd:function(e){gt.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof jt||this._source.on("preclick",ti))},onRemove:function(e){gt.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof jt||this._source.off("preclick",ti))},getEvents:function(){var e=gt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",n=this._container=ie("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),a=this._wrapper=ie("div",e+"-content-wrapper",n);if(this._contentNode=ie("div",e+"-content",a),an(n),Us(this._contentNode),H(n,"contextmenu",ti),this._tipContainer=ie("div",e+"-tip-container",n),this._tip=ie("div",e+"-tip",this._tipContainer),this.options.closeButton){var c=this._closeButton=ie("a",e+"-close-button",n);c.setAttribute("role","button"),c.setAttribute("aria-label","Close popup"),c.href="#close",c.innerHTML='<span aria-hidden="true">&#215;</span>',H(c,"click",function(h){De(h),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,n=e.style;n.width="",n.whiteSpace="nowrap";var a=e.offsetWidth;a=Math.min(a,this.options.maxWidth),a=Math.max(a,this.options.minWidth),n.width=a+1+"px",n.whiteSpace="",n.height="";var c=e.offsetHeight,h=this.options.maxHeight,f="leaflet-popup-scrolled";h&&c>h?(n.height=h+"px",W(e,f)):_e(e,f),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var n=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),a=this._getAnchor();be(this._container,n.add(a))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var e=this._map,n=parseInt(nn(this._container,"marginBottom"),10)||0,a=this._container.offsetHeight+n,c=this._containerWidth,h=new B(this._containerLeft,-a-this._containerBottom);h._add(ei(this._container));var f=e.layerPointToContainerPoint(h),g=z(this.options.autoPanPadding),v=z(this.options.autoPanPaddingTopLeft||g),y=z(this.options.autoPanPaddingBottomRight||g),T=e.getSize(),E=0,V=0;f.x+c+y.x>T.x&&(E=f.x+c-T.x+y.x),f.x-E-v.x<0&&(E=f.x-v.x),f.y+a+y.y>T.y&&(V=f.y+a-T.y+y.y),f.y-V-v.y<0&&(V=f.y-v.y),(E||V)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([E,V]))}},_getAnchor:function(){return z(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),hf=function(e,n){return new mr(e,n)};Y.mergeOptions({closePopupOnClick:!0}),Y.include({openPopup:function(e,n,a){return this._initOverlay(mr,e,n,a).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}}),ot.include({bindPopup:function(e,n){return this._popup=this._initOverlay(mr,this._popup,e,n),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof St||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){ii(e);var n=e.layer||e.target;if(this._popup._source===n&&!(n instanceof jt)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=n,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var gr=gt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){gt.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){gt.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=gt.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip",n=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ie("div",n),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var n,a,c=this._map,h=this._container,f=c.latLngToContainerPoint(c.getCenter()),g=c.layerPointToContainerPoint(e),v=this.options.direction,y=h.offsetWidth,T=h.offsetHeight,E=z(this.options.offset),V=this._getAnchor();v==="top"?(n=y/2,a=T):v==="bottom"?(n=y/2,a=0):v==="center"?(n=y/2,a=T/2):v==="right"?(n=0,a=T/2):v==="left"?(n=y,a=T/2):g.x<f.x?(v="right",n=0,a=T/2):(v="left",n=y+(E.x+V.x)*2,a=T/2),e=e.subtract(z(n,a,!0)).add(E).add(V),_e(h,"leaflet-tooltip-right"),_e(h,"leaflet-tooltip-left"),_e(h,"leaflet-tooltip-top"),_e(h,"leaflet-tooltip-bottom"),W(h,"leaflet-tooltip-"+v),be(h,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&Xe(this._container,e)},_animateZoom:function(e){var n=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(n)},_getAnchor:function(){return z(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),df=function(e,n){return new gr(e,n)};Y.include({openTooltip:function(e,n,a){return this._initOverlay(gr,e,n,a).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),ot.include({bindTooltip:function(e,n){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(gr,this._tooltip,e,n),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var n=e?"off":"on",a={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?a.add=this._openTooltip:(a.mouseover=this._openTooltip,a.mouseout=this.closeTooltip,a.click=this._openTooltip,this._map?this._addFocusListeners():a.add=this._addFocusListeners),this._tooltip.options.sticky&&(a.mousemove=this._moveTooltip),this[n](a),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof St||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var n=typeof e.getElement=="function"&&e.getElement();n&&(H(n,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),H(n,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var n=typeof e.getElement=="function"&&e.getElement();n&&n.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var n=this;this._map.once("moveend",function(){n._openOnceFlag=!1,n._openTooltip(e)});return}this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)}},_moveTooltip:function(e){var n=e.latlng,a,c;this._tooltip.options.sticky&&e.originalEvent&&(a=this._map.mouseEventToContainerPoint(e.originalEvent),c=this._map.containerPointToLayerPoint(a),n=this._map.layerPointToLatLng(c)),this._tooltip.setLatLng(n)}});var Dl=Ci.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var n=e&&e.tagName==="DIV"?e:document.createElement("div"),a=this.options;if(a.html instanceof Element?(ir(n),n.appendChild(a.html)):n.innerHTML=a.html!==!1?a.html:"",a.bgPos){var c=z(a.bgPos);n.style.backgroundPosition=-c.x+"px "+-c.y+"px"}return this._setIconStyles(n,"icon"),n},createShadow:function(){return null}});function ff(e){return new Dl(e)}Ci.Default=un;var hn=ot.extend({options:{tileSize:256,opacity:1,updateWhenIdle:O.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){S(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),me(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(yi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(wi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof B?e:new B(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var n=this.getPane().children,a=-e(-1/0,1/0),c=0,h=n.length,f;c<h;c++)f=n[c].style.zIndex,n[c]!==this._container&&f&&(a=e(a,+f));isFinite(a)&&(this.options.zIndex=a+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!O.ielt9){Xe(this._container,this.options.opacity);var e=+new Date,n=!1,a=!1;for(var c in this._tiles){var h=this._tiles[c];if(!(!h.current||!h.loaded)){var f=Math.min(1,(e-h.loaded)/200);Xe(h.el,f),f<1?n=!0:(h.active?a=!0:this._onOpaqueTile(h),h.active=!0)}}a&&!this._noPrune&&this._pruneTiles(),n&&(Ye(this._fadeFrame),this._fadeFrame=Ve(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=ie("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,n=this.options.maxZoom;if(e!==void 0){for(var a in this._levels)a=Number(a),this._levels[a].el.children.length||a===e?(this._levels[a].el.style.zIndex=n-Math.abs(e-a),this._onUpdateLevel(a)):(me(this._levels[a].el),this._removeTilesAtZoom(a),this._onRemoveLevel(a),delete this._levels[a]);var c=this._levels[e],h=this._map;return c||(c=this._levels[e]={},c.el=ie("div","leaflet-tile-container leaflet-zoom-animated",this._container),c.el.style.zIndex=n,c.origin=h.project(h.unproject(h.getPixelOrigin()),e).round(),c.zoom=e,this._setZoomTransform(c,h.getCenter(),h.getZoom()),p(c.el.offsetWidth),this._onCreateLevel(c)),this._level=c,c}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var e,n,a=this._map.getZoom();if(a>this.options.maxZoom||a<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)n=this._tiles[e],n.retain=n.current;for(e in this._tiles)if(n=this._tiles[e],n.current&&!n.active){var c=n.coords;this._retainParent(c.x,c.y,c.z,c.z-5)||this._retainChildren(c.x,c.y,c.z,c.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var n in this._tiles)this._tiles[n].coords.z===e&&this._removeTile(n)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)me(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,n,a,c){var h=Math.floor(e/2),f=Math.floor(n/2),g=a-1,v=new B(+h,+f);v.z=+g;var y=this._tileCoordsToKey(v),T=this._tiles[y];return T&&T.active?(T.retain=!0,!0):(T&&T.loaded&&(T.retain=!0),g>c?this._retainParent(h,f,g,c):!1)},_retainChildren:function(e,n,a,c){for(var h=2*e;h<2*e+2;h++)for(var f=2*n;f<2*n+2;f++){var g=new B(h,f);g.z=a+1;var v=this._tileCoordsToKey(g),y=this._tiles[v];if(y&&y.active){y.retain=!0;continue}else y&&y.loaded&&(y.retain=!0);a+1<c&&this._retainChildren(h,f,a+1,c)}},_resetView:function(e){var n=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),n,n)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var n=this.options;return n.minNativeZoom!==void 0&&e<n.minNativeZoom?n.minNativeZoom:n.maxNativeZoom!==void 0&&n.maxNativeZoom<e?n.maxNativeZoom:e},_setView:function(e,n,a,c){var h=Math.round(n);this.options.maxZoom!==void 0&&h>this.options.maxZoom||this.options.minZoom!==void 0&&h<this.options.minZoom?h=void 0:h=this._clampZoom(h);var f=this.options.updateWhenZooming&&h!==this._tileZoom;(!c||f)&&(this._tileZoom=h,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),h!==void 0&&this._update(e),a||this._pruneTiles(),this._noPrune=!!a),this._setZoomTransforms(e,n)},_setZoomTransforms:function(e,n){for(var a in this._levels)this._setZoomTransform(this._levels[a],e,n)},_setZoomTransform:function(e,n,a){var c=this._map.getZoomScale(a,e.zoom),h=e.origin.multiplyBy(c).subtract(this._map._getNewPixelOrigin(n,a)).round();O.any3d?Qt(e.el,h,c):be(e.el,h)},_resetGrid:function(){var e=this._map,n=e.options.crs,a=this._tileSize=this.getTileSize(),c=this._tileZoom,h=this._map.getPixelWorldBounds(this._tileZoom);h&&(this._globalTileRange=this._pxBoundsToTileRange(h)),this._wrapX=n.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,n.wrapLng[0]],c).x/a.x),Math.ceil(e.project([0,n.wrapLng[1]],c).x/a.y)],this._wrapY=n.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([n.wrapLat[0],0],c).y/a.x),Math.ceil(e.project([n.wrapLat[1],0],c).y/a.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var n=this._map,a=n._animatingZoom?Math.max(n._animateToZoom,n.getZoom()):n.getZoom(),c=n.getZoomScale(a,this._tileZoom),h=n.project(e,this._tileZoom).floor(),f=n.getSize().divideBy(c*2);return new pe(h.subtract(f),h.add(f))},_update:function(e){var n=this._map;if(n){var a=this._clampZoom(n.getZoom());if(e===void 0&&(e=n.getCenter()),this._tileZoom!==void 0){var c=this._getTiledPixelBounds(e),h=this._pxBoundsToTileRange(c),f=h.getCenter(),g=[],v=this.options.keepBuffer,y=new pe(h.getBottomLeft().subtract([v,-v]),h.getTopRight().add([v,-v]));if(!(isFinite(h.min.x)&&isFinite(h.min.y)&&isFinite(h.max.x)&&isFinite(h.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var T in this._tiles){var E=this._tiles[T].coords;(E.z!==this._tileZoom||!y.contains(new B(E.x,E.y)))&&(this._tiles[T].current=!1)}if(Math.abs(a-this._tileZoom)>1){this._setView(e,a);return}for(var V=h.min.y;V<=h.max.y;V++)for(var q=h.min.x;q<=h.max.x;q++){var Le=new B(q,V);if(Le.z=this._tileZoom,!!this._isValidTile(Le)){var Ie=this._tiles[this._tileCoordsToKey(Le)];Ie?Ie.current=!0:g.push(Le)}}if(g.sort(function(Ue,Pi){return Ue.distanceTo(f)-Pi.distanceTo(f)}),g.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var et=document.createDocumentFragment();for(q=0;q<g.length;q++)this._addTile(g[q],et);this._level.el.appendChild(et)}}}},_isValidTile:function(e){var n=this._map.options.crs;if(!n.infinite){var a=this._globalTileRange;if(!n.wrapLng&&(e.x<a.min.x||e.x>a.max.x)||!n.wrapLat&&(e.y<a.min.y||e.y>a.max.y))return!1}if(!this.options.bounds)return!0;var c=this._tileCoordsToBounds(e);return we(this.options.bounds).overlaps(c)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var n=this._map,a=this.getTileSize(),c=e.scaleBy(a),h=c.add(a),f=n.unproject(c,e.z),g=n.unproject(h,e.z);return[f,g]},_tileCoordsToBounds:function(e){var n=this._tileCoordsToNwSe(e),a=new ze(n[0],n[1]);return this.options.noWrap||(a=this._map.wrapLatLngBounds(a)),a},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var n=e.split(":"),a=new B(+n[0],+n[1]);return a.z=+n[2],a},_removeTile:function(e){var n=this._tiles[e];n&&(me(n.el),delete this._tiles[e],this.fire("tileunload",{tile:n.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){W(e,"leaflet-tile");var n=this.getTileSize();e.style.width=n.x+"px",e.style.height=n.y+"px",e.onselectstart=p,e.onmousemove=p,O.ielt9&&this.options.opacity<1&&Xe(e,this.options.opacity)},_addTile:function(e,n){var a=this._getTilePos(e),c=this._tileCoordsToKey(e),h=this.createTile(this._wrapCoords(e),s(this._tileReady,this,e));this._initTile(h),this.createTile.length<2&&Ve(s(this._tileReady,this,e,null,h)),be(h,a),this._tiles[c]={el:h,coords:e,current:!0},n.appendChild(h),this.fire("tileloadstart",{tile:h,coords:e})},_tileReady:function(e,n,a){n&&this.fire("tileerror",{error:n,tile:a,coords:e});var c=this._tileCoordsToKey(e);a=this._tiles[c],a&&(a.loaded=+new Date,this._map._fadeAnimated?(Xe(a.el,0),Ye(this._fadeFrame),this._fadeFrame=Ve(this._updateOpacity,this)):(a.active=!0,this._pruneTiles()),n||(W(a.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:a.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),O.ielt9||!this._map._fadeAnimated?Ve(this._pruneTiles,this):setTimeout(s(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var n=new B(this._wrapX?m(e.x,this._wrapX):e.x,this._wrapY?m(e.y,this._wrapY):e.y);return n.z=e.z,n},_pxBoundsToTileRange:function(e){var n=this.getTileSize();return new pe(e.min.unscaleBy(n).floor(),e.max.unscaleBy(n).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function pf(e){return new hn(e)}var Si=hn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,n){this._url=e,n=S(this,n),n.detectRetina&&O.retina&&n.maxZoom>0?(n.tileSize=Math.floor(n.tileSize/2),n.zoomReverse?(n.zoomOffset--,n.minZoom=Math.min(n.maxZoom,n.minZoom+1)):(n.zoomOffset++,n.maxZoom=Math.max(n.minZoom,n.maxZoom-1)),n.minZoom=Math.max(0,n.minZoom)):n.zoomReverse?n.minZoom=Math.min(n.maxZoom,n.minZoom):n.maxZoom=Math.max(n.minZoom,n.maxZoom),typeof n.subdomains=="string"&&(n.subdomains=n.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,n){return this._url===e&&n===void 0&&(n=!0),this._url=e,n||this.redraw(),this},createTile:function(e,n){var a=document.createElement("img");return H(a,"load",s(this._tileOnLoad,this,n,a)),H(a,"error",s(this._tileOnError,this,n,a)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(a.referrerPolicy=this.options.referrerPolicy),a.alt="",a.src=this.getTileUrl(e),a},getTileUrl:function(e){var n={r:O.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var a=this._globalTileRange.max.y-e.y;this.options.tms&&(n.y=a),n["-y"]=a}return F(this._url,o(n,this.options))},_tileOnLoad:function(e,n){O.ielt9?setTimeout(s(e,this,null,n),0):e(null,n)},_tileOnError:function(e,n,a){var c=this.options.errorTileUrl;c&&n.getAttribute("src")!==c&&(n.src=c),e(a,n)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,n=this.options.maxZoom,a=this.options.zoomReverse,c=this.options.zoomOffset;return a&&(e=n-e),e+c},_getSubdomain:function(e){var n=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[n]},_abortLoading:function(){var e,n;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(n=this._tiles[e].el,n.onload=p,n.onerror=p,!n.complete)){n.src=G;var a=this._tiles[e].coords;me(n),delete this._tiles[e],this.fire("tileabort",{tile:n,coords:a})}},_removeTile:function(e){var n=this._tiles[e];if(n)return n.el.setAttribute("src",G),hn.prototype._removeTile.call(this,e)},_tileReady:function(e,n,a){if(!(!this._map||a&&a.getAttribute("src")===G))return hn.prototype._tileReady.call(this,e,n,a)}});function Ol(e,n){return new Si(e,n)}var Rl=Si.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,n){this._url=e;var a=o({},this.defaultWmsParams);for(var c in n)c in this.options||(a[c]=n[c]);n=S(this,n);var h=n.detectRetina&&O.retina?2:1,f=this.getTileSize();a.width=f.x*h,a.height=f.y*h,this.wmsParams=a},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var n=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[n]=this._crs.code,Si.prototype.onAdd.call(this,e)},getTileUrl:function(e){var n=this._tileCoordsToNwSe(e),a=this._crs,c=je(a.project(n[0]),a.project(n[1])),h=c.min,f=c.max,g=(this._wmsVersion>=1.3&&this._crs===Pl?[h.y,h.x,f.y,f.x]:[h.x,h.y,f.x,f.y]).join(","),v=Si.prototype.getTileUrl.call(this,e);return v+A(this.wmsParams,v,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+g},setParams:function(e,n){return o(this.wmsParams,e),n||this.redraw(),this}});function mf(e,n){return new Rl(e,n)}Si.WMS=Rl,Ol.wms=mf;var It=ot.extend({options:{padding:.1},initialize:function(e){S(this,e),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),W(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,n){var a=this._map.getZoomScale(n,this._zoom),c=this._map.getSize().multiplyBy(.5+this.options.padding),h=this._map.project(this._center,n),f=c.multiplyBy(-a).add(h).subtract(this._map._getNewPixelOrigin(e,n));O.any3d?Qt(this._container,f,a):be(this._container,f)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,n=this._map.getSize(),a=this._map.containerPointToLayerPoint(n.multiplyBy(-e)).round();this._bounds=new pe(a,a.add(n.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ll=It.extend({options:{tolerance:0},getEvents:function(){var e=It.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){It.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");H(e,"mousemove",this._onMouseMove,this),H(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),H(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){Ye(this._redrawRequest),delete this._ctx,me(this._container),ce(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var n in this._layers)e=this._layers[n],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){It.prototype._update.call(this);var e=this._bounds,n=this._container,a=e.getSize(),c=O.retina?2:1;be(n,e.min),n.width=c*a.x,n.height=c*a.y,n.style.width=a.x+"px",n.style.height=a.y+"px",O.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){It.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[u(e)]=e;var n=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=n),this._drawLast=n,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var n=e._order,a=n.next,c=n.prev;a?a.prev=c:this._drawLast=c,c?c.next=a:this._drawFirst=a,delete e._order,delete this._layers[u(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){var n=e.options.dashArray.split(/[, ]+/),a=[],c,h;for(h=0;h<n.length;h++){if(c=Number(n[h]),isNaN(c))return;a.push(c)}e.options._dashArray=a}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||Ve(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var n=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new pe,this._redrawBounds.extend(e._pxBounds.min.subtract([n,n])),this._redrawBounds.extend(e._pxBounds.max.add([n,n]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var n=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,n.x,n.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,n=this._redrawBounds;if(this._ctx.save(),n){var a=n.getSize();this._ctx.beginPath(),this._ctx.rect(n.min.x,n.min.y,a.x,a.y),this._ctx.clip()}this._drawing=!0;for(var c=this._drawFirst;c;c=c.next)e=c.layer,(!n||e._pxBounds&&e._pxBounds.intersects(n))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,n){if(this._drawing){var a,c,h,f,g=e._parts,v=g.length,y=this._ctx;if(v){for(y.beginPath(),a=0;a<v;a++){for(c=0,h=g[a].length;c<h;c++)f=g[a][c],y[c?"lineTo":"moveTo"](f.x,f.y);n&&y.closePath()}this._fillStroke(y,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var n=e._point,a=this._ctx,c=Math.max(Math.round(e._radius),1),h=(Math.max(Math.round(e._radiusY),1)||c)/c;h!==1&&(a.save(),a.scale(1,h)),a.beginPath(),a.arc(n.x,n.y/h,c,0,Math.PI*2,!1),h!==1&&a.restore(),this._fillStroke(a,e)}},_fillStroke:function(e,n){var a=n.options;a.fill&&(e.globalAlpha=a.fillOpacity,e.fillStyle=a.fillColor||a.color,e.fill(a.fillRule||"evenodd")),a.stroke&&a.weight!==0&&(e.setLineDash&&e.setLineDash(n.options&&n.options._dashArray||[]),e.globalAlpha=a.opacity,e.lineWidth=a.weight,e.strokeStyle=a.color,e.lineCap=a.lineCap,e.lineJoin=a.lineJoin,e.stroke())},_onClick:function(e){for(var n=this._map.mouseEventToLayerPoint(e),a,c,h=this._drawFirst;h;h=h.next)a=h.layer,a.options.interactive&&a._containsPoint(n)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(a))&&(c=a);this._fireEvent(c?[c]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var n=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,n)}},_handleMouseOut:function(e){var n=this._hoveredLayer;n&&(_e(this._container,"leaflet-interactive"),this._fireEvent([n],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,n){if(!this._mouseHoverThrottled){for(var a,c,h=this._drawFirst;h;h=h.next)a=h.layer,a.options.interactive&&a._containsPoint(n)&&(c=a);c!==this._hoveredLayer&&(this._handleMouseOut(e),c&&(W(this._container,"leaflet-interactive"),this._fireEvent([c],e,"mouseover"),this._hoveredLayer=c)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(s(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,n,a){this._map._fireDOMEvent(n,a||n.type,e)},_bringToFront:function(e){var n=e._order;if(n){var a=n.next,c=n.prev;if(a)a.prev=c;else return;c?c.next=a:a&&(this._drawFirst=a),n.prev=this._drawLast,this._drawLast.next=n,n.next=null,this._drawLast=n,this._requestRedraw(e)}},_bringToBack:function(e){var n=e._order;if(n){var a=n.next,c=n.prev;if(c)c.next=a;else return;a?a.prev=c:c&&(this._drawLast=c),n.prev=null,n.next=this._drawFirst,this._drawFirst.prev=n,this._drawFirst=n,this._requestRedraw(e)}}});function Nl(e){return O.canvas?new Ll(e):null}var dn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch{}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),gf={_initContainer:function(){this._container=ie("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(It.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var n=e._container=dn("shape");W(n,"leaflet-vml-shape "+(this.options.className||"")),n.coordsize="1 1",e._path=dn("path"),n.appendChild(e._path),this._updateStyle(e),this._layers[u(e)]=e},_addPath:function(e){var n=e._container;this._container.appendChild(n),e.options.interactive&&e.addInteractiveTarget(n)},_removePath:function(e){var n=e._container;me(n),e.removeInteractiveTarget(n),delete this._layers[u(e)]},_updateStyle:function(e){var n=e._stroke,a=e._fill,c=e.options,h=e._container;h.stroked=!!c.stroke,h.filled=!!c.fill,c.stroke?(n||(n=e._stroke=dn("stroke")),h.appendChild(n),n.weight=c.weight+"px",n.color=c.color,n.opacity=c.opacity,c.dashArray?n.dashStyle=j(c.dashArray)?c.dashArray.join(" "):c.dashArray.replace(/( *, *)/g," "):n.dashStyle="",n.endcap=c.lineCap.replace("butt","flat"),n.joinstyle=c.lineJoin):n&&(h.removeChild(n),e._stroke=null),c.fill?(a||(a=e._fill=dn("fill")),h.appendChild(a),a.color=c.fillColor||c.color,a.opacity=c.fillOpacity):a&&(h.removeChild(a),e._fill=null)},_updateCircle:function(e){var n=e._point.round(),a=Math.round(e._radius),c=Math.round(e._radiusY||a);this._setPath(e,e._empty()?"M0 0":"AL "+n.x+","+n.y+" "+a+","+c+" 0,"+65535*360)},_setPath:function(e,n){e._path.v=n},_bringToFront:function(e){yi(e._container)},_bringToBack:function(e){wi(e._container)}},vr=O.vml?dn:za,fn=It.extend({_initContainer:function(){this._container=vr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=vr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){me(this._container),ce(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){It.prototype._update.call(this);var e=this._bounds,n=e.getSize(),a=this._container;(!this._svgSize||!this._svgSize.equals(n))&&(this._svgSize=n,a.setAttribute("width",n.x),a.setAttribute("height",n.y)),be(a,e.min),a.setAttribute("viewBox",[e.min.x,e.min.y,n.x,n.y].join(" ")),this.fire("update")}},_initPath:function(e){var n=e._path=vr("path");e.options.className&&W(n,e.options.className),e.options.interactive&&W(n,"leaflet-interactive"),this._updateStyle(e),this._layers[u(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){me(e._path),e.removeInteractiveTarget(e._path),delete this._layers[u(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var n=e._path,a=e.options;n&&(a.stroke?(n.setAttribute("stroke",a.color),n.setAttribute("stroke-opacity",a.opacity),n.setAttribute("stroke-width",a.weight),n.setAttribute("stroke-linecap",a.lineCap),n.setAttribute("stroke-linejoin",a.lineJoin),a.dashArray?n.setAttribute("stroke-dasharray",a.dashArray):n.removeAttribute("stroke-dasharray"),a.dashOffset?n.setAttribute("stroke-dashoffset",a.dashOffset):n.removeAttribute("stroke-dashoffset")):n.setAttribute("stroke","none"),a.fill?(n.setAttribute("fill",a.fillColor||a.color),n.setAttribute("fill-opacity",a.fillOpacity),n.setAttribute("fill-rule",a.fillRule||"evenodd")):n.setAttribute("fill","none"))},_updatePoly:function(e,n){this._setPath(e,Ua(e._parts,n))},_updateCircle:function(e){var n=e._point,a=Math.max(Math.round(e._radius),1),c=Math.max(Math.round(e._radiusY),1)||a,h="a"+a+","+c+" 0 1,0 ",f=e._empty()?"M0 0":"M"+(n.x-a)+","+n.y+h+a*2+",0 "+h+-a*2+",0 ";this._setPath(e,f)},_setPath:function(e,n){e._path.setAttribute("d",n)},_bringToFront:function(e){yi(e._path)},_bringToBack:function(e){wi(e._path)}});O.vml&&fn.include(gf);function Fl(e){return O.svg||O.vml?new fn(e):null}Y.include({getRenderer:function(e){var n=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return n||(n=this._renderer=this._createRenderer()),this.hasLayer(n)||this.addLayer(n),n},_getPaneRenderer:function(e){if(e==="overlayPane"||e===void 0)return!1;var n=this._paneRenderers[e];return n===void 0&&(n=this._createRenderer({pane:e}),this._paneRenderers[e]=n),n},_createRenderer:function(e){return this.options.preferCanvas&&Nl(e)||Fl(e)}});var Vl=xi.extend({initialize:function(e,n){xi.prototype.initialize.call(this,this._boundsToLatLngs(e),n)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=we(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function vf(e,n){return new Vl(e,n)}fn.create=vr,fn.pointsToPath=Ua,Et.geometryToLayer=ur,Et.coordsToLatLng=Js,Et.coordsToLatLngs=hr,Et.latLngToCoords=Ys,Et.latLngsToCoords=dr,Et.getFeature=Ti,Et.asFeature=fr,Y.mergeOptions({boxZoom:!0});var jl=mt.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){H(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ce(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){me(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),rn(),Os(),this._startPoint=this._map.mouseEventToContainerPoint(e),H(document,{contextmenu:ii,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=ie("div","leaflet-zoom-box",this._container),W(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var n=new pe(this._point,this._startPoint),a=n.getSize();be(this._box,n.min),this._box.style.width=a.x+"px",this._box.style.height=a.y+"px"},_finish:function(){this._moved&&(me(this._box),_e(this._container,"leaflet-crosshair")),sn(),Rs(),ce(document,{contextmenu:ii,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(s(this._resetState,this),0);var n=new ze(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(n).fire("boxzoomend",{boxZoomBounds:n})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Y.addInitHook("addHandler","boxZoom",jl),Y.mergeOptions({doubleClickZoom:!0});var zl=mt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var n=this._map,a=n.getZoom(),c=n.options.zoomDelta,h=e.originalEvent.shiftKey?a-c:a+c;n.options.doubleClickZoom==="center"?n.setZoom(h):n.setZoomAround(e.containerPoint,h)}});Y.addInitHook("addHandler","doubleClickZoom",zl),Y.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ul=mt.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new Vt(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}W(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){_e(this._map._container,"leaflet-grab"),_e(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var n=we(this._map.options.maxBounds);this._offsetLimit=je(this._map.latLngToContainerPoint(n.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(n.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var n=this._lastTime=+new Date,a=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(a),this._times.push(n),this._prunePositions(n)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),n=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=n.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,n){return e-(e-n)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),n=this._offsetLimit;e.x<n.min.x&&(e.x=this._viscousLimit(e.x,n.min.x)),e.y<n.min.y&&(e.y=this._viscousLimit(e.y,n.min.y)),e.x>n.max.x&&(e.x=this._viscousLimit(e.x,n.max.x)),e.y>n.max.y&&(e.y=this._viscousLimit(e.y,n.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,n=Math.round(e/2),a=this._initialWorldOffset,c=this._draggable._newPos.x,h=(c-n+a)%e+n-a,f=(c+n+a)%e-n-a,g=Math.abs(h+a)<Math.abs(f+a)?h:f;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=g},_onDragEnd:function(e){var n=this._map,a=n.options,c=!a.inertia||e.noInertia||this._times.length<2;if(n.fire("dragend",e),c)n.fire("moveend");else{this._prunePositions(+new Date);var h=this._lastPos.subtract(this._positions[0]),f=(this._lastTime-this._times[0])/1e3,g=a.easeLinearity,v=h.multiplyBy(g/f),y=v.distanceTo([0,0]),T=Math.min(a.inertiaMaxSpeed,y),E=v.multiplyBy(T/y),V=T/(a.inertiaDeceleration*g),q=E.multiplyBy(-V/2).round();!q.x&&!q.y?n.fire("moveend"):(q=n._limitOffset(q,n.options.maxBounds),Ve(function(){n.panBy(q,{duration:V,easeLinearity:g,noMoveStart:!0,animate:!0})}))}}});Y.addInitHook("addHandler","dragging",Ul),Y.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Bl=mt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),H(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ce(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,n=document.documentElement,a=e.scrollTop||n.scrollTop,c=e.scrollLeft||n.scrollLeft;this._map._container.focus(),window.scrollTo(c,a)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var n=this._panKeys={},a=this.keyCodes,c,h;for(c=0,h=a.left.length;c<h;c++)n[a.left[c]]=[-1*e,0];for(c=0,h=a.right.length;c<h;c++)n[a.right[c]]=[e,0];for(c=0,h=a.down.length;c<h;c++)n[a.down[c]]=[0,e];for(c=0,h=a.up.length;c<h;c++)n[a.up[c]]=[0,-1*e]},_setZoomDelta:function(e){var n=this._zoomKeys={},a=this.keyCodes,c,h;for(c=0,h=a.zoomIn.length;c<h;c++)n[a.zoomIn[c]]=e;for(c=0,h=a.zoomOut.length;c<h;c++)n[a.zoomOut[c]]=-e},_addHooks:function(){H(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ce(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var n=e.keyCode,a=this._map,c;if(n in this._panKeys){if(!a._panAnim||!a._panAnim._inProgress)if(c=this._panKeys[n],e.shiftKey&&(c=z(c).multiplyBy(3)),a.options.maxBounds&&(c=a._limitOffset(z(c),a.options.maxBounds)),a.options.worldCopyJump){var h=a.wrapLatLng(a.unproject(a.project(a.getCenter()).add(c)));a.panTo(h)}else a.panBy(c)}else if(n in this._zoomKeys)a.setZoom(a.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else if(n===27&&a._popup&&a._popup.options.closeOnEscapeKey)a.closePopup();else return;ii(e)}}});Y.addInitHook("addHandler","keyboard",Bl),Y.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Hl=mt.extend({addHooks:function(){H(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ce(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var n=fl(e),a=this._map.options.wheelDebounceTime;this._delta+=n,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var c=Math.max(a-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s(this._performZoom,this),c),ii(e)},_performZoom:function(){var e=this._map,n=e.getZoom(),a=this._map.options.zoomSnap||0;e._stop();var c=this._delta/(this._map.options.wheelPxPerZoomLevel*4),h=4*Math.log(2/(1+Math.exp(-Math.abs(c))))/Math.LN2,f=a?Math.ceil(h/a)*a:h,g=e._limitZoom(n+(this._delta>0?f:-f))-n;this._delta=0,this._startTime=null,g&&(e.options.scrollWheelZoom==="center"?e.setZoom(n+g):e.setZoomAround(this._lastMousePos,n+g))}});Y.addInitHook("addHandler","scrollWheelZoom",Hl);var _f=600;Y.mergeOptions({tapHold:O.touchNative&&O.safari&&O.mobile,tapTolerance:15});var $l=mt.extend({addHooks:function(){H(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ce(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var n=e.touches[0];this._startPos=this._newPos=new B(n.clientX,n.clientY),this._holdTimeout=setTimeout(s(function(){this._cancel(),this._isTapValid()&&(H(document,"touchend",De),H(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",n))},this),_f),H(document,"touchend touchcancel contextmenu",this._cancel,this),H(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){ce(document,"touchend",De),ce(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),ce(document,"touchend touchcancel contextmenu",this._cancel,this),ce(document,"touchmove",this._onMove,this)},_onMove:function(e){var n=e.touches[0];this._newPos=new B(n.clientX,n.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,n){var a=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:n.screenX,screenY:n.screenY,clientX:n.clientX,clientY:n.clientY});a._simulated=!0,n.target.dispatchEvent(a)}});Y.addInitHook("addHandler","tapHold",$l),Y.mergeOptions({touchZoom:O.touch,bounceAtZoomLimits:!0});var Zl=mt.extend({addHooks:function(){W(this._map._container,"leaflet-touch-zoom"),H(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){_e(this._map._container,"leaflet-touch-zoom"),ce(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var n=this._map;if(!(!e.touches||e.touches.length!==2||n._animatingZoom||this._zooming)){var a=n.mouseEventToContainerPoint(e.touches[0]),c=n.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=n.getSize()._divideBy(2),this._startLatLng=n.containerPointToLatLng(this._centerPoint),n.options.touchZoom!=="center"&&(this._pinchStartLatLng=n.containerPointToLatLng(a.add(c)._divideBy(2))),this._startDist=a.distanceTo(c),this._startZoom=n.getZoom(),this._moved=!1,this._zooming=!0,n._stop(),H(document,"touchmove",this._onTouchMove,this),H(document,"touchend touchcancel",this._onTouchEnd,this),De(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var n=this._map,a=n.mouseEventToContainerPoint(e.touches[0]),c=n.mouseEventToContainerPoint(e.touches[1]),h=a.distanceTo(c)/this._startDist;if(this._zoom=n.getScaleZoom(h,this._startZoom),!n.options.bounceAtZoomLimits&&(this._zoom<n.getMinZoom()&&h<1||this._zoom>n.getMaxZoom()&&h>1)&&(this._zoom=n._limitZoom(this._zoom)),n.options.touchZoom==="center"){if(this._center=this._startLatLng,h===1)return}else{var f=a._add(c)._divideBy(2)._subtract(this._centerPoint);if(h===1&&f.x===0&&f.y===0)return;this._center=n.unproject(n.project(this._pinchStartLatLng,this._zoom).subtract(f),this._zoom)}this._moved||(n._moveStart(!0,!1),this._moved=!0),Ye(this._animRequest);var g=s(n._move,n,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Ve(g,this,!0),De(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Ye(this._animRequest),ce(document,"touchmove",this._onTouchMove,this),ce(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Y.addInitHook("addHandler","touchZoom",Zl),Y.BoxZoom=jl,Y.DoubleClickZoom=zl,Y.Drag=Ul,Y.Keyboard=Bl,Y.ScrollWheelZoom=Hl,Y.TapHold=$l,Y.TouchZoom=Zl,r.Bounds=pe,r.Browser=O,r.CRS=Tt,r.Canvas=Ll,r.Circle=Ks,r.CircleMarker=cr,r.Class=xt,r.Control=st,r.DivIcon=Dl,r.DivOverlay=gt,r.DomEvent=Ld,r.DomUtil=Od,r.Draggable=Vt,r.Evented=Xi,r.FeatureGroup=St,r.GeoJSON=Et,r.GridLayer=hn,r.Handler=mt,r.Icon=Ci,r.ImageOverlay=pr,r.LatLng=ae,r.LatLngBounds=ze,r.Layer=ot,r.LayerGroup=bi,r.LineUtil=qd,r.Map=Y,r.Marker=lr,r.Mixin=Bd,r.Path=jt,r.Point=B,r.PolyUtil=Hd,r.Polygon=xi,r.Polyline=Pt,r.Popup=mr,r.PosAnimation=pl,r.Projection=Kd,r.Rectangle=Vl,r.Renderer=It,r.SVG=fn,r.SVGOverlay=kl,r.TileLayer=Si,r.Tooltip=gr,r.Transformation=bs,r.Util=td,r.VideoOverlay=Al,r.bind=s,r.bounds=je,r.canvas=Nl,r.circle=rf,r.circleMarker=nf,r.control=ln,r.divIcon=ff,r.extend=o,r.featureGroup=Qd,r.geoJSON=Ml,r.geoJson=af,r.gridLayer=pf,r.icon=ef,r.imageOverlay=lf,r.latLng=J,r.latLngBounds=we,r.layerGroup=Xd,r.map=Nd,r.marker=tf,r.point=z,r.polygon=of,r.polyline=sf,r.popup=hf,r.rectangle=vf,r.setOptions=S,r.stamp=u,r.svg=Fl,r.svgOverlay=uf,r.tileLayer=Ol,r.tooltip=df,r.transformation=Qi,r.version=t,r.videoOverlay=cf;var yf=window.L;r.noConflict=function(){return window.L=yf,this},window.L=r})});var Sn=class{},Nr=class{},Ae=class r{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(o=>{let i=o.indexOf(":");if(i>0){let s=o.slice(0,i),l=s.toLowerCase(),u=o.slice(i+1).trim();this.maybeSetNormalizedName(s,l),this.headers.has(l)?this.headers.get(l).push(u):this.headers.set(l,[u])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((o,i)=>{this.setHeaderEntries(i,o)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([o,i])=>{this.setHeaderEntries(o,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let o=this.headers.get(t.toLowerCase());return o&&o.length>0?o[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,o){return this.clone({name:t,value:o,op:"a"})}set(t,o){return this.clone({name:t,value:o,op:"s"})}delete(t,o){return this.clone({name:t,value:o,op:"d"})}maybeSetNormalizedName(t,o){this.normalizedNames.has(o)||this.normalizedNames.set(o,t)}init(){this.lazyInit&&(this.lazyInit instanceof r?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(o=>{this.headers.set(o,t.headers.get(o)),this.normalizedNames.set(o,t.normalizedNames.get(o))})}clone(t){let o=new r;return o.lazyInit=this.lazyInit&&this.lazyInit instanceof r?this.lazyInit:this,o.lazyUpdate=(this.lazyUpdate||[]).concat([t]),o}applyUpdate(t){let o=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,o);let s=(t.op==="a"?this.headers.get(o):void 0)||[];s.push(...i),this.headers.set(o,s);break;case"d":let l=t.value;if(!l)this.headers.delete(o),this.normalizedNames.delete(o);else{let u=this.headers.get(o);if(!u)return;u=u.filter(d=>l.indexOf(d)===-1),u.length===0?(this.headers.delete(o),this.normalizedNames.delete(o)):this.headers.set(o,u)}break}}setHeaderEntries(t,o){let i=(Array.isArray(o)?o:[o]).map(l=>l.toString()),s=t.toLowerCase();this.headers.set(s,i),this.maybeSetNormalizedName(t,s)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(o=>t(this.normalizedNames.get(o),this.headers.get(o)))}};var wo=class{encodeKey(t){return Xc(t)}encodeValue(t){return Xc(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function Of(r,t){let o=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(s=>{let l=s.indexOf("="),[u,d]=l==-1?[t.decodeKey(s),""]:[t.decodeKey(s.slice(0,l)),t.decodeValue(s.slice(l+1))],m=o.get(u)||[];m.push(d),o.set(u,m)}),o}var Rf=/%(\d[a-f0-9])/gi,Lf={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Xc(r){return encodeURIComponent(r).replace(Rf,(t,o)=>Lf[o]??t)}function Lr(r){return`${r}`}var Ze=class r{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new wo,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Of(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(o=>{let i=t.fromObject[o],s=Array.isArray(i)?i.map(Lr):[Lr(i)];this.map.set(o,s)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let o=this.map.get(t);return o?o[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,o){return this.clone({param:t,value:o,op:"a"})}appendAll(t){let o=[];return Object.keys(t).forEach(i=>{let s=t[i];Array.isArray(s)?s.forEach(l=>{o.push({param:i,value:l,op:"a"})}):o.push({param:i,value:s,op:"a"})}),this.clone(o)}set(t,o){return this.clone({param:t,value:o,op:"s"})}delete(t,o){return this.clone({param:t,value:o,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let o=this.encoder.encodeKey(t);return this.map.get(t).map(i=>o+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let o=new r({encoder:this.encoder});return o.cloneFrom=this.cloneFrom||this,o.updates=(this.updates||[]).concat(t),o}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let o=(t.op==="a"?this.map.get(t.param):void 0)||[];o.push(Lr(t.value)),this.map.set(t.param,o);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],s=i.indexOf(Lr(t.value));s!==-1&&i.splice(s,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var bo=class{constructor(){this.map=new Map}set(t,o){return this.map.set(t,o),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function Nf(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Qc(r){return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer}function eu(r){return typeof Blob<"u"&&r instanceof Blob}function tu(r){return typeof FormData<"u"&&r instanceof FormData}function Ff(r){return typeof URLSearchParams<"u"&&r instanceof URLSearchParams}var Tn=class r{constructor(t,o,i,s){this.url=o,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let l;if(Nf(this.method)||s?(this.body=i!==void 0?i:null,l=s):l=i,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params),this.transferCache=l.transferCache),this.headers??=new Ae,this.context??=new bo,!this.params)this.params=new Ze,this.urlWithParams=o;else{let u=this.params.toString();if(u.length===0)this.urlWithParams=o;else{let d=o.indexOf("?"),m=d===-1?"?":d<o.length-1?"&":"";this.urlWithParams=o+m+u}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Qc(this.body)||eu(this.body)||tu(this.body)||Ff(this.body)?this.body:this.body instanceof Ze?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||tu(this.body)?null:eu(this.body)?this.body.type||null:Qc(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Ze?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let o=t.method||this.method,i=t.url||this.url,s=t.responseType||this.responseType,l=t.transferCache??this.transferCache,u=t.body!==void 0?t.body:this.body,d=t.withCredentials??this.withCredentials,m=t.reportProgress??this.reportProgress,p=t.headers||this.headers,w=t.params||this.params,P=t.context??this.context;return t.setHeaders!==void 0&&(p=Object.keys(t.setHeaders).reduce((_,S)=>_.set(S,t.setHeaders[S]),p)),t.setParams&&(w=Object.keys(t.setParams).reduce((_,S)=>_.set(S,t.setParams[S]),w)),new r(o,i,u,{params:w,headers:p,context:P,reportProgress:m,responseType:s,withCredentials:d,transferCache:l})}},Fi=function(r){return r[r.Sent=0]="Sent",r[r.UploadProgress=1]="UploadProgress",r[r.ResponseHeader=2]="ResponseHeader",r[r.DownloadProgress=3]="DownloadProgress",r[r.Response=4]="Response",r[r.User=5]="User",r}(Fi||{}),Pn=class{constructor(t,o=jr.Ok,i="OK"){this.headers=t.headers||new Ae,this.status=t.status!==void 0?t.status:o,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},Co=class r extends Pn{constructor(t={}){super(t),this.type=Fi.ResponseHeader}clone(t={}){return new r({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Fr=class r extends Pn{constructor(t={}){super(t),this.type=Fi.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new r({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Vr=class extends Pn{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},jr=function(r){return r[r.Continue=100]="Continue",r[r.SwitchingProtocols=101]="SwitchingProtocols",r[r.Processing=102]="Processing",r[r.EarlyHints=103]="EarlyHints",r[r.Ok=200]="Ok",r[r.Created=201]="Created",r[r.Accepted=202]="Accepted",r[r.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",r[r.NoContent=204]="NoContent",r[r.ResetContent=205]="ResetContent",r[r.PartialContent=206]="PartialContent",r[r.MultiStatus=207]="MultiStatus",r[r.AlreadyReported=208]="AlreadyReported",r[r.ImUsed=226]="ImUsed",r[r.MultipleChoices=300]="MultipleChoices",r[r.MovedPermanently=301]="MovedPermanently",r[r.Found=302]="Found",r[r.SeeOther=303]="SeeOther",r[r.NotModified=304]="NotModified",r[r.UseProxy=305]="UseProxy",r[r.Unused=306]="Unused",r[r.TemporaryRedirect=307]="TemporaryRedirect",r[r.PermanentRedirect=308]="PermanentRedirect",r[r.BadRequest=400]="BadRequest",r[r.Unauthorized=401]="Unauthorized",r[r.PaymentRequired=402]="PaymentRequired",r[r.Forbidden=403]="Forbidden",r[r.NotFound=404]="NotFound",r[r.MethodNotAllowed=405]="MethodNotAllowed",r[r.NotAcceptable=406]="NotAcceptable",r[r.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",r[r.RequestTimeout=408]="RequestTimeout",r[r.Conflict=409]="Conflict",r[r.Gone=410]="Gone",r[r.LengthRequired=411]="LengthRequired",r[r.PreconditionFailed=412]="PreconditionFailed",r[r.PayloadTooLarge=413]="PayloadTooLarge",r[r.UriTooLong=414]="UriTooLong",r[r.UnsupportedMediaType=415]="UnsupportedMediaType",r[r.RangeNotSatisfiable=416]="RangeNotSatisfiable",r[r.ExpectationFailed=417]="ExpectationFailed",r[r.ImATeapot=418]="ImATeapot",r[r.MisdirectedRequest=421]="MisdirectedRequest",r[r.UnprocessableEntity=422]="UnprocessableEntity",r[r.Locked=423]="Locked",r[r.FailedDependency=424]="FailedDependency",r[r.TooEarly=425]="TooEarly",r[r.UpgradeRequired=426]="UpgradeRequired",r[r.PreconditionRequired=428]="PreconditionRequired",r[r.TooManyRequests=429]="TooManyRequests",r[r.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",r[r.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",r[r.InternalServerError=500]="InternalServerError",r[r.NotImplemented=501]="NotImplemented",r[r.BadGateway=502]="BadGateway",r[r.ServiceUnavailable=503]="ServiceUnavailable",r[r.GatewayTimeout=504]="GatewayTimeout",r[r.HttpVersionNotSupported=505]="HttpVersionNotSupported",r[r.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",r[r.InsufficientStorage=507]="InsufficientStorage",r[r.LoopDetected=508]="LoopDetected",r[r.NotExtended=510]="NotExtended",r[r.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",r}(jr||{});function yo(r,t){return{body:t,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials,transferCache:r.transferCache}}var En=(()=>{let t=class t{constructor(i){this.handler=i}request(i,s,l={}){let u;if(i instanceof Tn)u=i;else{let p;l.headers instanceof Ae?p=l.headers:p=new Ae(l.headers);let w;l.params&&(l.params instanceof Ze?w=l.params:w=new Ze({fromObject:l.params})),u=new Tn(i,s,l.body!==void 0?l.body:null,{headers:p,context:l.context,params:w,reportProgress:l.reportProgress,responseType:l.responseType||"json",withCredentials:l.withCredentials,transferCache:l.transferCache})}let d=R(u).pipe(ri(p=>this.handler.handle(p)));if(i instanceof Tn||l.observe==="events")return d;let m=d.pipe(Pe(p=>p instanceof Fr));switch(l.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return m.pipe(K(p=>{if(p.body!==null&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return m.pipe(K(p=>{if(p.body!==null&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return m.pipe(K(p=>{if(p.body!==null&&typeof p.body!="string")throw new Error("Response is not a string.");return p.body}));case"json":default:return m.pipe(K(p=>p.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${l.observe}}`)}}delete(i,s={}){return this.request("DELETE",i,s)}get(i,s={}){return this.request("GET",i,s)}head(i,s={}){return this.request("HEAD",i,s)}jsonp(i,s){return this.request("JSONP",i,{params:new Ze().append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,s={}){return this.request("OPTIONS",i,s)}patch(i,s,l={}){return this.request("PATCH",i,yo(l,s))}post(i,s,l={}){return this.request("POST",i,yo(l,s))}put(i,s,l={}){return this.request("PUT",i,yo(l,s))}};t.\u0275fac=function(s){return new(s||t)(D(Sn))},t.\u0275prov=N({token:t,factory:t.\u0275fac});let r=t;return r})();function Vf(r,t){return t(r)}function jf(r,t,o){return(i,s)=>At(o,()=>t(i,l=>r(l,s)))}var ru=new re(""),su=new re(""),zf=new re(""),Uf=new re("");var iu=(()=>{let t=class t extends Sn{constructor(i,s){super(),this.backend=i,this.injector=s,this.chain=null,this.pendingTasks=k(Cr);let l=k(Uf,{optional:!0});this.backend=l??i}handle(i){if(this.chain===null){let l=Array.from(new Set([...this.injector.get(su),...this.injector.get(zf,[])]));this.chain=l.reduceRight((u,d)=>jf(u,d,this.injector),Vf)}let s=this.pendingTasks.add();return this.chain(i,l=>this.backend.handle(l)).pipe(Ei(()=>this.pendingTasks.remove(s)))}};t.\u0275fac=function(s){return new(s||t)(D(Nr),D(Mi))},t.\u0275prov=N({token:t,factory:t.\u0275fac});let r=t;return r})();var Bf=/^\)\]\}',?\n/;function Hf(r){return"responseURL"in r&&r.responseURL?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):null}var nu=(()=>{let t=class t{constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new ue(-2800,!1);let s=this.xhrFactory;return(s.\u0275loadImpl?Oe(s.\u0275loadImpl()):R(null)).pipe($e(()=>new yr(u=>{let d=s.build();if(d.open(i.method,i.urlWithParams),i.withCredentials&&(d.withCredentials=!0),i.headers.forEach((F,j)=>d.setRequestHeader(F,j.join(","))),i.headers.has("Accept")||d.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){let F=i.detectContentTypeHeader();F!==null&&d.setRequestHeader("Content-Type",F)}if(i.responseType){let F=i.responseType.toLowerCase();d.responseType=F!=="json"?F:"text"}let m=i.serializeBody(),p=null,w=()=>{if(p!==null)return p;let F=d.statusText||"OK",j=new Ae(d.getAllResponseHeaders()),ke=Hf(d)||i.url;return p=new Co({headers:j,status:d.status,statusText:F,url:ke}),p},P=()=>{let{headers:F,status:j,statusText:ke,url:G}=w(),fe=null;j!==jr.NoContent&&(fe=typeof d.response>"u"?d.responseText:d.response),j===0&&(j=fe?jr.Ok:0);let Ct=j>=200&&j<300;if(i.responseType==="json"&&typeof fe=="string"){let vi=fe;fe=fe.replace(Bf,"");try{fe=fe!==""?JSON.parse(fe):null}catch(Nt){fe=vi,Ct&&(Ct=!1,fe={error:Nt,text:fe})}}Ct?(u.next(new Fr({body:fe,headers:F,status:j,statusText:ke,url:G||void 0})),u.complete()):u.error(new Vr({error:fe,headers:F,status:j,statusText:ke,url:G||void 0}))},_=F=>{let{url:j}=w(),ke=new Vr({error:F,status:d.status||0,statusText:d.statusText||"Unknown Error",url:j||void 0});u.error(ke)},S=!1,A=F=>{S||(u.next(w()),S=!0);let j={type:Fi.DownloadProgress,loaded:F.loaded};F.lengthComputable&&(j.total=F.total),i.responseType==="text"&&d.responseText&&(j.partialText=d.responseText),u.next(j)},te=F=>{let j={type:Fi.UploadProgress,loaded:F.loaded};F.lengthComputable&&(j.total=F.total),u.next(j)};return d.addEventListener("load",P),d.addEventListener("error",_),d.addEventListener("timeout",_),d.addEventListener("abort",_),i.reportProgress&&(d.addEventListener("progress",A),m!==null&&d.upload&&d.upload.addEventListener("progress",te)),d.send(m),u.next({type:Fi.Sent}),()=>{d.removeEventListener("error",_),d.removeEventListener("abort",_),d.removeEventListener("load",P),d.removeEventListener("timeout",_),i.reportProgress&&(d.removeEventListener("progress",A),m!==null&&d.upload&&d.upload.removeEventListener("progress",te)),d.readyState!==d.DONE&&d.abort()}})))}};t.\u0275fac=function(s){return new(s||t)(D(Ar))},t.\u0275prov=N({token:t,factory:t.\u0275fac});let r=t;return r})(),ou=new re(""),$f="XSRF-TOKEN",Zf=new re("",{providedIn:"root",factory:()=>$f}),Wf="X-XSRF-TOKEN",Gf=new re("",{providedIn:"root",factory:()=>Wf}),zr=class{},qf=(()=>{let t=class t{constructor(i,s,l){this.doc=i,this.platform=s,this.cookieName=l,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ir(i,this.cookieName),this.lastCookieString=i),this.lastToken}};t.\u0275fac=function(s){return new(s||t)(D(ve),D(vt),D(Zf))},t.\u0275prov=N({token:t,factory:t.\u0275fac});let r=t;return r})();function Kf(r,t){let o=r.url.toLowerCase();if(!k(ou)||r.method==="GET"||r.method==="HEAD"||o.startsWith("http://")||o.startsWith("https://"))return t(r);let i=k(zr).getToken(),s=k(Gf);return i!=null&&!r.headers.has(s)&&(r=r.clone({headers:r.headers.set(s,i)})),t(r)}function au(...r){let t=[En,nu,iu,{provide:Sn,useExisting:iu},{provide:Nr,useExisting:nu},{provide:su,useValue:Kf,multi:!0},{provide:ou,useValue:!0},{provide:zr,useClass:qf}];for(let o of r)t.push(...o.\u0275providers);return ct(t)}var So=class extends Bc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Po=class r extends So{static makeCurrent(){Uc(new r)}onAndCancel(t,o,i){return t.addEventListener(o,i),()=>{t.removeEventListener(o,i)}}dispatchEvent(t,o){t.dispatchEvent(o)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,o){return o=o||this.getDefaultDocument(),o.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,o){return o==="window"?window:o==="document"?t:o==="body"?t.body:null}getBaseHref(t){let o=Xf();return o==null?null:Qf(o)}resetBaseElement(){In=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Ir(document.cookie,t)}},In=null;function Xf(){return In=In||document.querySelector("base"),In?In.getAttribute("href"):null}function Qf(r){return new URL(r,document.baseURI).pathname}var ep=(()=>{let t=class t{build(){return new XMLHttpRequest}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=N({token:t,factory:t.\u0275fac});let r=t;return r})(),Eo=new re(""),du=(()=>{let t=class t{constructor(i,s){this._zone=s,this._eventNameToPlugin=new Map,i.forEach(l=>{l.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,s,l){return this._findPluginFor(s).addEventListener(i,s,l)}getZone(){return this._zone}_findPluginFor(i){let s=this._eventNameToPlugin.get(i);if(s)return s;if(s=this._plugins.find(u=>u.supports(i)),!s)throw new ue(5101,!1);return this._eventNameToPlugin.set(i,s),s}};t.\u0275fac=function(s){return new(s||t)(D(Eo),D(ye))},t.\u0275prov=N({token:t,factory:t.\u0275fac});let r=t;return r})(),Ur=class{constructor(t){this._doc=t}},xo="ng-app-id",fu=(()=>{let t=class t{constructor(i,s,l,u={}){this.doc=i,this.appId=s,this.nonce=l,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ci(u),this.resetHostNodes()}addStyles(i){for(let s of i)this.changeUsageCount(s,1)===1&&this.onStyleAdded(s)}removeStyles(i){for(let s of i)this.changeUsageCount(s,-1)<=0&&this.onStyleRemoved(s)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(s=>s.remove()),i.clear());for(let s of this.getAllStyles())this.onStyleRemoved(s);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let s of this.getAllStyles())this.addStyleToHost(i,s)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let s of this.hostNodes)this.addStyleToHost(s,i)}onStyleRemoved(i){let s=this.styleRef;s.get(i)?.elements?.forEach(l=>l.remove()),s.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${xo}="${this.appId}"]`);if(i?.length){let s=new Map;return i.forEach(l=>{l.textContent!=null&&s.set(l.textContent,l)}),s}return null}changeUsageCount(i,s){let l=this.styleRef;if(l.has(i)){let u=l.get(i);return u.usage+=s,u.usage}return l.set(i,{usage:s,elements:[]}),s}getStyleElement(i,s){let l=this.styleNodesInDOM,u=l?.get(s);if(u?.parentNode===i)return l.delete(s),u.removeAttribute(xo),u;{let d=this.doc.createElement("style");return this.nonce&&d.setAttribute("nonce",this.nonce),d.textContent=s,this.platformIsServer&&d.setAttribute(xo,this.appId),i.appendChild(d),d}}addStyleToHost(i,s){let l=this.getStyleElement(i,s),u=this.styleRef,d=u.get(s)?.elements;d?d.push(l):u.set(s,{elements:[l],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};t.\u0275fac=function(s){return new(s||t)(D(ve),D(ao),D(lo,8),D(vt))},t.\u0275prov=N({token:t,factory:t.\u0275fac});let r=t;return r})(),To={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Mo=/%COMP%/g,pu="%COMP%",tp=`_nghost-${pu}`,ip=`_ngcontent-${pu}`,np=!0,rp=new re("",{providedIn:"root",factory:()=>np});function sp(r){return ip.replace(Mo,r)}function op(r){return tp.replace(Mo,r)}function mu(r,t){return t.map(o=>o.replace(Mo,r))}var Vi=(()=>{let t=class t{constructor(i,s,l,u,d,m,p,w=null){this.eventManager=i,this.sharedStylesHost=s,this.appId=l,this.removeStylesOnCompDestroy=u,this.doc=d,this.platformId=m,this.ngZone=p,this.nonce=w,this.rendererByCompId=new Map,this.platformIsServer=ci(m),this.defaultRenderer=new Mn(i,d,p,this.platformIsServer)}createRenderer(i,s){if(!i||!s)return this.defaultRenderer;this.platformIsServer&&s.encapsulation===mn.ShadowDom&&(s=le(I({},s),{encapsulation:mn.Emulated}));let l=this.getOrCreateRenderer(i,s);return l instanceof Br?l.applyToHost(i):l instanceof An&&l.applyStyles(),l}getOrCreateRenderer(i,s){let l=this.rendererByCompId,u=l.get(s.id);if(!u){let d=this.doc,m=this.ngZone,p=this.eventManager,w=this.sharedStylesHost,P=this.removeStylesOnCompDestroy,_=this.platformIsServer;switch(s.encapsulation){case mn.Emulated:u=new Br(p,w,s,this.appId,P,d,m,_);break;case mn.ShadowDom:return new Io(p,w,i,s,d,m,this.nonce,_);default:u=new An(p,w,s,P,d,m,_);break}l.set(s.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}};t.\u0275fac=function(s){return new(s||t)(D(du),D(fu),D(ao),D(rp),D(ve),D(vt),D(ye),D(lo))},t.\u0275prov=N({token:t,factory:t.\u0275fac});let r=t;return r})(),Mn=class{constructor(t,o,i,s){this.eventManager=t,this.doc=o,this.ngZone=i,this.platformIsServer=s,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,o){return o?this.doc.createElementNS(To[o]||o,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,o){(cu(t)?t.content:t).appendChild(o)}insertBefore(t,o,i){t&&(cu(t)?t.content:t).insertBefore(o,i)}removeChild(t,o){t&&t.removeChild(o)}selectRootElement(t,o){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new ue(-5104,!1);return o||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,o,i,s){if(s){o=s+":"+o;let l=To[s];l?t.setAttributeNS(l,o,i):t.setAttribute(o,i)}else t.setAttribute(o,i)}removeAttribute(t,o,i){if(i){let s=To[i];s?t.removeAttributeNS(s,o):t.removeAttribute(`${i}:${o}`)}else t.removeAttribute(o)}addClass(t,o){t.classList.add(o)}removeClass(t,o){t.classList.remove(o)}setStyle(t,o,i,s){s&(vn.DashCase|vn.Important)?t.style.setProperty(o,i,s&vn.Important?"important":""):t.style[o]=i}removeStyle(t,o,i){i&vn.DashCase?t.style.removeProperty(o):t.style[o]=""}setProperty(t,o,i){t!=null&&(t[o]=i)}setValue(t,o){t.nodeValue=o}listen(t,o,i){if(typeof t=="string"&&(t=Ni().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${o}`);return this.eventManager.addEventListener(t,o,this.decoratePreventDefault(i))}decoratePreventDefault(t){return o=>{if(o==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(o)):t(o))===!1&&o.preventDefault()}}};function cu(r){return r.tagName==="TEMPLATE"&&r.content!==void 0}var Io=class extends Mn{constructor(t,o,i,s,l,u,d,m){super(t,l,u,m),this.sharedStylesHost=o,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let p=mu(s.id,s.styles);for(let w of p){let P=document.createElement("style");d&&P.setAttribute("nonce",d),P.textContent=w,this.shadowRoot.appendChild(P)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,o){return super.appendChild(this.nodeOrShadowRoot(t),o)}insertBefore(t,o,i){return super.insertBefore(this.nodeOrShadowRoot(t),o,i)}removeChild(t,o){return super.removeChild(this.nodeOrShadowRoot(t),o)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},An=class extends Mn{constructor(t,o,i,s,l,u,d,m){super(t,l,u,d),this.sharedStylesHost=o,this.removeStylesOnCompDestroy=s,this.styles=m?mu(m,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Br=class extends An{constructor(t,o,i,s,l,u,d,m){let p=s+"-"+i.id;super(t,o,i,l,u,d,m,p),this.contentAttr=sp(p),this.hostAttr=op(p)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,o){let i=super.createElement(t,o);return super.setAttribute(i,this.contentAttr,""),i}},ap=(()=>{let t=class t extends Ur{constructor(i){super(i)}supports(i){return!0}addEventListener(i,s,l){return i.addEventListener(s,l,!1),()=>this.removeEventListener(i,s,l)}removeEventListener(i,s,l){return i.removeEventListener(s,l)}};t.\u0275fac=function(s){return new(s||t)(D(ve))},t.\u0275prov=N({token:t,factory:t.\u0275fac});let r=t;return r})(),uu=["alt","control","meta","shift"],lp={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},cp={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey},up=(()=>{let t=class t extends Ur{constructor(i){super(i)}supports(i){return t.parseEventName(i)!=null}addEventListener(i,s,l){let u=t.parseEventName(s),d=t.eventCallback(u.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ni().onAndCancel(i,u.domEventName,d))}static parseEventName(i){let s=i.toLowerCase().split("."),l=s.shift();if(s.length===0||!(l==="keydown"||l==="keyup"))return null;let u=t._normalizeKey(s.pop()),d="",m=s.indexOf("code");if(m>-1&&(s.splice(m,1),d="code."),uu.forEach(w=>{let P=s.indexOf(w);P>-1&&(s.splice(P,1),d+=w+".")}),d+=u,s.length!=0||u.length===0)return null;let p={};return p.domEventName=l,p.fullKey=d,p}static matchEventFullKeyCode(i,s){let l=lp[i.key]||i.key,u="";return s.indexOf("code.")>-1&&(l=i.code,u="code."),l==null||!l?!1:(l=l.toLowerCase(),l===" "?l="space":l==="."&&(l="dot"),uu.forEach(d=>{if(d!==l){let m=cp[d];m(i)&&(u+=d+".")}}),u+=l,u===s)}static eventCallback(i,s,l){return u=>{t.matchEventFullKeyCode(u,i)&&l.runGuarded(()=>s(u))}}static _normalizeKey(i){return i==="esc"?"escape":i}};t.\u0275fac=function(s){return new(s||t)(D(ve))},t.\u0275prov=N({token:t,factory:t.\u0275fac});let r=t;return r})();function gu(r,t){return zc(I({rootComponent:r},hp(t)))}function hp(r){return{appProviders:[...gp,...r?.providers??[]],platformProviders:mp}}function dp(){Po.makeCurrent()}function fp(){return new oo}function pp(){return fc(document),document}var mp=[{provide:vt,useValue:Wc},{provide:pc,useValue:dp,multi:!0},{provide:ve,useFactory:pp,deps:[]}];var gp=[{provide:hc,useValue:"root"},{provide:oo,useFactory:fp,deps:[]},{provide:Eo,useClass:ap,multi:!0,deps:[ve,ye,vt]},{provide:Eo,useClass:up,multi:!0,deps:[ve]},Vi,fu,du,{provide:Di,useExisting:Vi},{provide:Ar,useClass:ep,deps:[]},[]];var vu=(()=>{let t=class t{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};t.\u0275fac=function(s){return new(s||t)(D(ve))},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var Ao=(()=>{let t=class t{};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=N({token:t,factory:function(s){let l=null;return s?l=new(s||t):l=D(vp),l},providedIn:"root"});let r=t;return r})(),vp=(()=>{let t=class t extends Ao{constructor(i){super(),this._doc=i}sanitize(i,s){if(s==null)return null;switch(i){case Rt.NONE:return s;case Rt.HTML:return ki(s,"HTML")?Ai(s):bc(this._doc,String(s)).toString();case Rt.STYLE:return ki(s,"Style")?Ai(s):s;case Rt.SCRIPT:if(ki(s,"Script"))return Ai(s);throw new ue(5200,!1);case Rt.URL:return ki(s,"URL")?Ai(s):wc(String(s));case Rt.RESOURCE_URL:if(ki(s,"ResourceURL"))return Ai(s);throw new ue(5201,!1);default:throw new ue(5202,!1)}}bypassSecurityTrustHtml(i){return mc(i)}bypassSecurityTrustStyle(i){return gc(i)}bypassSecurityTrustScript(i){return vc(i)}bypassSecurityTrustUrl(i){return _c(i)}bypassSecurityTrustResourceUrl(i){return yc(i)}};t.\u0275fac=function(s){return new(s||t)(D(ve))},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var Z="primary",Zn=Symbol("RouteTitle"),Lo=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let o=this.params[t];return Array.isArray(o)?o[0]:o}return null}getAll(t){if(this.has(t)){let o=this.params[t];return Array.isArray(o)?o:[o]}return[]}get keys(){return Object.keys(this.params)}};function Hi(r){return new Lo(r)}function _p(r,t,o){let i=o.path.split("/");if(i.length>r.length||o.pathMatch==="full"&&(t.hasChildren()||i.length<r.length))return null;let s={};for(let l=0;l<i.length;l++){let u=i[l],d=r[l];if(u.startsWith(":"))s[u.substring(1)]=d;else if(u!==d.path)return null}return{consumed:r.slice(0,i.length),posParams:s}}function yp(r,t){if(r.length!==t.length)return!1;for(let o=0;o<r.length;++o)if(!_t(r[o],t[o]))return!1;return!0}function _t(r,t){let o=r?No(r):void 0,i=t?No(t):void 0;if(!o||!i||o.length!=i.length)return!1;let s;for(let l=0;l<o.length;l++)if(s=o[l],!Tu(r[s],t[s]))return!1;return!0}function No(r){return[...Object.keys(r),...Object.getOwnPropertySymbols(r)]}function Tu(r,t){if(Array.isArray(r)&&Array.isArray(t)){if(r.length!==t.length)return!1;let o=[...r].sort(),i=[...t].sort();return o.every((s,l)=>i[l]===s)}else return r===t}function Su(r){return r.length>0?r[r.length-1]:null}function Yt(r){return Yl(r)?r:Pr(r)?Oe(Promise.resolve(r)):R(r)}var wp={exact:Eu,subset:Iu},Pu={exact:bp,subset:Cp,ignored:()=>!0};function yu(r,t,o){return wp[o.paths](r.root,t.root,o.matrixParams)&&Pu[o.queryParams](r.queryParams,t.queryParams)&&!(o.fragment==="exact"&&r.fragment!==t.fragment)}function bp(r,t){return _t(r,t)}function Eu(r,t,o){if(!di(r.segments,t.segments)||!Zr(r.segments,t.segments,o)||r.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!r.children[i]||!Eu(r.children[i],t.children[i],o))return!1;return!0}function Cp(r,t){return Object.keys(t).length<=Object.keys(r).length&&Object.keys(t).every(o=>Tu(r[o],t[o]))}function Iu(r,t,o){return Mu(r,t,t.segments,o)}function Mu(r,t,o,i){if(r.segments.length>o.length){let s=r.segments.slice(0,o.length);return!(!di(s,o)||t.hasChildren()||!Zr(s,o,i))}else if(r.segments.length===o.length){if(!di(r.segments,o)||!Zr(r.segments,o,i))return!1;for(let s in t.children)if(!r.children[s]||!Iu(r.children[s],t.children[s],i))return!1;return!0}else{let s=o.slice(0,r.segments.length),l=o.slice(r.segments.length);return!di(r.segments,s)||!Zr(r.segments,s,i)||!r.children[Z]?!1:Mu(r.children[Z],t,l,i)}}function Zr(r,t,o){return t.every((i,s)=>Pu[o](r[s].parameters,i.parameters))}var qt=class{constructor(t=new oe([],{}),o={},i=null){this.root=t,this.queryParams=o,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Hi(this.queryParams),this._queryParamMap}toString(){return Sp.serialize(this)}},oe=class{constructor(t,o){this.segments=t,this.children=o,this.parent=null,Object.values(o).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wr(this)}},hi=class{constructor(t,o){this.path=t,this.parameters=o}get parameterMap(){return this._parameterMap??=Hi(this.parameters),this._parameterMap}toString(){return ku(this)}};function xp(r,t){return di(r,t)&&r.every((o,i)=>_t(o.parameters,t[i].parameters))}function di(r,t){return r.length!==t.length?!1:r.every((o,i)=>o.path===t[i].path)}function Tp(r,t){let o=[];return Object.entries(r.children).forEach(([i,s])=>{i===Z&&(o=o.concat(t(s,i)))}),Object.entries(r.children).forEach(([i,s])=>{i!==Z&&(o=o.concat(t(s,i)))}),o}var la=(()=>{let t=class t{};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=N({token:t,factory:()=>new qr,providedIn:"root"});let r=t;return r})(),qr=class{parse(t){let o=new Vo(t);return new qt(o.parseRootSegment(),o.parseQueryParams(),o.parseFragment())}serialize(t){let o=`/${kn(t.root,!0)}`,i=Ip(t.queryParams),s=typeof t.fragment=="string"?`#${Pp(t.fragment)}`:"";return`${o}${i}${s}`}},Sp=new qr;function Wr(r){return r.segments.map(t=>ku(t)).join("/")}function kn(r,t){if(!r.hasChildren())return Wr(r);if(t){let o=r.children[Z]?kn(r.children[Z],!1):"",i=[];return Object.entries(r.children).forEach(([s,l])=>{s!==Z&&i.push(`${s}:${kn(l,!1)}`)}),i.length>0?`${o}(${i.join("//")})`:o}else{let o=Tp(r,(i,s)=>s===Z?[kn(r.children[Z],!1)]:[`${s}:${kn(i,!1)}`]);return Object.keys(r.children).length===1&&r.children[Z]!=null?`${Wr(r)}/${o[0]}`:`${Wr(r)}/(${o.join("//")})`}}function Au(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Hr(r){return Au(r).replace(/%3B/gi,";")}function Pp(r){return encodeURI(r)}function Fo(r){return Au(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gr(r){return decodeURIComponent(r)}function wu(r){return Gr(r.replace(/\+/g,"%20"))}function ku(r){return`${Fo(r.path)}${Ep(r.parameters)}`}function Ep(r){return Object.entries(r).map(([t,o])=>`;${Fo(t)}=${Fo(o)}`).join("")}function Ip(r){let t=Object.entries(r).map(([o,i])=>Array.isArray(i)?i.map(s=>`${Hr(o)}=${Hr(s)}`).join("&"):`${Hr(o)}=${Hr(i)}`).filter(o=>o);return t.length?`?${t.join("&")}`:""}var Mp=/^[^\/()?;#]+/;function ko(r){let t=r.match(Mp);return t?t[0]:""}var Ap=/^[^\/()?;=#]+/;function kp(r){let t=r.match(Ap);return t?t[0]:""}var Dp=/^[^=?&#]+/;function Op(r){let t=r.match(Dp);return t?t[0]:""}var Rp=/^[^&#]+/;function Lp(r){let t=r.match(Rp);return t?t[0]:""}var Vo=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new oe([],{}):new oe([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let o={};this.peekStartsWith("/(")&&(this.capture("/"),o=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(o).length>0)&&(i[Z]=new oe(t,o)),i}parseSegment(){let t=ko(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new ue(4009,!1);return this.capture(t),new hi(Gr(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let o=kp(this.remaining);if(!o)return;this.capture(o);let i="";if(this.consumeOptional("=")){let s=ko(this.remaining);s&&(i=s,this.capture(i))}t[Gr(o)]=Gr(i)}parseQueryParam(t){let o=Op(this.remaining);if(!o)return;this.capture(o);let i="";if(this.consumeOptional("=")){let u=Lp(this.remaining);u&&(i=u,this.capture(i))}let s=wu(o),l=wu(i);if(t.hasOwnProperty(s)){let u=t[s];Array.isArray(u)||(u=[u],t[s]=u),u.push(l)}else t[s]=l}parseParens(t){let o={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=ko(this.remaining),s=this.remaining[i.length];if(s!=="/"&&s!==")"&&s!==";")throw new ue(4010,!1);let l;i.indexOf(":")>-1?(l=i.slice(0,i.indexOf(":")),this.capture(l),this.capture(":")):t&&(l=Z);let u=this.parseChildren();o[l]=Object.keys(u).length===1?u[Z]:new oe([],u),this.consumeOptional("//")}return o}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new ue(4011,!1)}};function Du(r){return r.segments.length>0?new oe([],{[Z]:r}):r}function Ou(r){let t={};for(let[i,s]of Object.entries(r.children)){let l=Ou(s);if(i===Z&&l.segments.length===0&&l.hasChildren())for(let[u,d]of Object.entries(l.children))t[u]=d;else(l.segments.length>0||l.hasChildren())&&(t[i]=l)}let o=new oe(r.segments,t);return Np(o)}function Np(r){if(r.numberOfChildren===1&&r.children[Z]){let t=r.children[Z];return new oe(r.segments.concat(t.segments),t.children)}return r}function $i(r){return r instanceof qt}function Fp(r,t,o=null,i=null){let s=Ru(r);return Lu(s,t,o,i)}function Ru(r){let t;function o(l){let u={};for(let m of l.children){let p=o(m);u[m.outlet]=p}let d=new oe(l.url,u);return l===r&&(t=d),d}let i=o(r.root),s=Du(i);return t??s}function Lu(r,t,o,i){let s=r;for(;s.parent;)s=s.parent;if(t.length===0)return Do(s,s,s,o,i);let l=Vp(t);if(l.toRoot())return Do(s,s,new oe([],{}),o,i);let u=jp(l,s,r),d=u.processChildren?Rn(u.segmentGroup,u.index,l.commands):Fu(u.segmentGroup,u.index,l.commands);return Do(s,u.segmentGroup,d,o,i)}function Kr(r){return typeof r=="object"&&r!=null&&!r.outlets&&!r.segmentPath}function Fn(r){return typeof r=="object"&&r!=null&&r.outlets}function Do(r,t,o,i,s){let l={};i&&Object.entries(i).forEach(([m,p])=>{l[m]=Array.isArray(p)?p.map(w=>`${w}`):`${p}`});let u;r===t?u=o:u=Nu(r,t,o);let d=Du(Ou(u));return new qt(d,l,s)}function Nu(r,t,o){let i={};return Object.entries(r.children).forEach(([s,l])=>{l===t?i[s]=o:i[s]=Nu(l,t,o)}),new oe(r.segments,i)}var Jr=class{constructor(t,o,i){if(this.isAbsolute=t,this.numberOfDoubleDots=o,this.commands=i,t&&i.length>0&&Kr(i[0]))throw new ue(4003,!1);let s=i.find(Fn);if(s&&s!==Su(i))throw new ue(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Vp(r){if(typeof r[0]=="string"&&r.length===1&&r[0]==="/")return new Jr(!0,0,r);let t=0,o=!1,i=r.reduce((s,l,u)=>{if(typeof l=="object"&&l!=null){if(l.outlets){let d={};return Object.entries(l.outlets).forEach(([m,p])=>{d[m]=typeof p=="string"?p.split("/"):p}),[...s,{outlets:d}]}if(l.segmentPath)return[...s,l.segmentPath]}return typeof l!="string"?[...s,l]:u===0?(l.split("/").forEach((d,m)=>{m==0&&d==="."||(m==0&&d===""?o=!0:d===".."?t++:d!=""&&s.push(d))}),s):[...s,l]},[]);return new Jr(o,t,i)}var Ui=class{constructor(t,o,i){this.segmentGroup=t,this.processChildren=o,this.index=i}};function jp(r,t,o){if(r.isAbsolute)return new Ui(t,!0,0);if(!o)return new Ui(t,!1,NaN);if(o.parent===null)return new Ui(o,!0,0);let i=Kr(r.commands[0])?0:1,s=o.segments.length-1+i;return zp(o,s,r.numberOfDoubleDots)}function zp(r,t,o){let i=r,s=t,l=o;for(;l>s;){if(l-=s,i=i.parent,!i)throw new ue(4005,!1);s=i.segments.length}return new Ui(i,!1,s-l)}function Up(r){return Fn(r[0])?r[0].outlets:{[Z]:r}}function Fu(r,t,o){if(r??=new oe([],{}),r.segments.length===0&&r.hasChildren())return Rn(r,t,o);let i=Bp(r,t,o),s=o.slice(i.commandIndex);if(i.match&&i.pathIndex<r.segments.length){let l=new oe(r.segments.slice(0,i.pathIndex),{});return l.children[Z]=new oe(r.segments.slice(i.pathIndex),r.children),Rn(l,0,s)}else return i.match&&s.length===0?new oe(r.segments,{}):i.match&&!r.hasChildren()?jo(r,t,o):i.match?Rn(r,0,s):jo(r,t,o)}function Rn(r,t,o){if(o.length===0)return new oe(r.segments,{});{let i=Up(o),s={};if(Object.keys(i).some(l=>l!==Z)&&r.children[Z]&&r.numberOfChildren===1&&r.children[Z].segments.length===0){let l=Rn(r.children[Z],t,o);return new oe(r.segments,l.children)}return Object.entries(i).forEach(([l,u])=>{typeof u=="string"&&(u=[u]),u!==null&&(s[l]=Fu(r.children[l],t,u))}),Object.entries(r.children).forEach(([l,u])=>{i[l]===void 0&&(s[l]=u)}),new oe(r.segments,s)}}function Bp(r,t,o){let i=0,s=t,l={match:!1,pathIndex:0,commandIndex:0};for(;s<r.segments.length;){if(i>=o.length)return l;let u=r.segments[s],d=o[i];if(Fn(d))break;let m=`${d}`,p=i<o.length-1?o[i+1]:null;if(s>0&&m===void 0)break;if(m&&p&&typeof p=="object"&&p.outlets===void 0){if(!Cu(m,p,u))return l;i+=2}else{if(!Cu(m,{},u))return l;i++}s++}return{match:!0,pathIndex:s,commandIndex:i}}function jo(r,t,o){let i=r.segments.slice(0,t),s=0;for(;s<o.length;){let l=o[s];if(Fn(l)){let m=Hp(l.outlets);return new oe(i,m)}if(s===0&&Kr(o[0])){let m=r.segments[t];i.push(new hi(m.path,bu(o[0]))),s++;continue}let u=Fn(l)?l.outlets[Z]:`${l}`,d=s<o.length-1?o[s+1]:null;u&&d&&Kr(d)?(i.push(new hi(u,bu(d))),s+=2):(i.push(new hi(u,{})),s++)}return new oe(i,{})}function Hp(r){let t={};return Object.entries(r).forEach(([o,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[o]=jo(new oe([],{}),0,i))}),t}function bu(r){let t={};return Object.entries(r).forEach(([o,i])=>t[o]=`${i}`),t}function Cu(r,t,o){return r==o.path&&_t(t,o.parameters)}var Ln="imperative",Re=function(r){return r[r.NavigationStart=0]="NavigationStart",r[r.NavigationEnd=1]="NavigationEnd",r[r.NavigationCancel=2]="NavigationCancel",r[r.NavigationError=3]="NavigationError",r[r.RoutesRecognized=4]="RoutesRecognized",r[r.ResolveStart=5]="ResolveStart",r[r.ResolveEnd=6]="ResolveEnd",r[r.GuardsCheckStart=7]="GuardsCheckStart",r[r.GuardsCheckEnd=8]="GuardsCheckEnd",r[r.RouteConfigLoadStart=9]="RouteConfigLoadStart",r[r.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",r[r.ChildActivationStart=11]="ChildActivationStart",r[r.ChildActivationEnd=12]="ChildActivationEnd",r[r.ActivationStart=13]="ActivationStart",r[r.ActivationEnd=14]="ActivationEnd",r[r.Scroll=15]="Scroll",r[r.NavigationSkipped=16]="NavigationSkipped",r}(Re||{}),nt=class{constructor(t,o){this.id=t,this.url=o}},Vn=class extends nt{constructor(t,o,i="imperative",s=null){super(t,o),this.type=Re.NavigationStart,this.navigationTrigger=i,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Kt=class extends nt{constructor(t,o,i){super(t,o),this.urlAfterRedirects=i,this.type=Re.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Je=function(r){return r[r.Redirect=0]="Redirect",r[r.SupersededByNewNavigation=1]="SupersededByNewNavigation",r[r.NoDataFromResolver=2]="NoDataFromResolver",r[r.GuardRejected=3]="GuardRejected",r}(Je||{}),zo=function(r){return r[r.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",r[r.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",r}(zo||{}),Jt=class extends nt{constructor(t,o,i,s){super(t,o),this.reason=i,this.code=s,this.type=Re.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},fi=class extends nt{constructor(t,o,i,s){super(t,o),this.reason=i,this.code=s,this.type=Re.NavigationSkipped}},jn=class extends nt{constructor(t,o,i,s){super(t,o),this.error=i,this.target=s,this.type=Re.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Yr=class extends nt{constructor(t,o,i,s){super(t,o),this.urlAfterRedirects=i,this.state=s,this.type=Re.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Uo=class extends nt{constructor(t,o,i,s){super(t,o),this.urlAfterRedirects=i,this.state=s,this.type=Re.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bo=class extends nt{constructor(t,o,i,s,l){super(t,o),this.urlAfterRedirects=i,this.state=s,this.shouldActivate=l,this.type=Re.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ho=class extends nt{constructor(t,o,i,s){super(t,o),this.urlAfterRedirects=i,this.state=s,this.type=Re.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$o=class extends nt{constructor(t,o,i,s){super(t,o),this.urlAfterRedirects=i,this.state=s,this.type=Re.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zo=class{constructor(t){this.route=t,this.type=Re.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Wo=class{constructor(t){this.route=t,this.type=Re.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Go=class{constructor(t){this.snapshot=t,this.type=Re.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qo=class{constructor(t){this.snapshot=t,this.type=Re.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ko=class{constructor(t){this.snapshot=t,this.type=Re.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jo=class{constructor(t){this.snapshot=t,this.type=Re.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var zn=class{},Un=class{constructor(t){this.url=t}};var Yo=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ns,this.attachRef=null}},ns=(()=>{let t=class t{constructor(){this.contexts=new Map}onChildOutletCreated(i,s){let l=this.getOrCreateContext(i);l.outlet=s,this.contexts.set(i,l)}onChildOutletDestroyed(i){let s=this.getContext(i);s&&(s.outlet=null,s.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let s=this.getContext(i);return s||(s=new Yo,this.contexts.set(i,s)),s}getContext(i){return this.contexts.get(i)||null}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})(),Xr=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let o=this.pathFromRoot(t);return o.length>1?o[o.length-2]:null}children(t){let o=Xo(t,this._root);return o?o.children.map(i=>i.value):[]}firstChild(t){let o=Xo(t,this._root);return o&&o.children.length>0?o.children[0].value:null}siblings(t){let o=Qo(t,this._root);return o.length<2?[]:o[o.length-2].children.map(s=>s.value).filter(s=>s!==t)}pathFromRoot(t){return Qo(t,this._root).map(o=>o.value)}};function Xo(r,t){if(r===t.value)return t;for(let o of t.children){let i=Xo(r,o);if(i)return i}return null}function Qo(r,t){if(r===t.value)return[t];for(let o of t.children){let i=Qo(r,o);if(i.length)return i.unshift(t),i}return[]}var Ke=class{constructor(t,o){this.value=t,this.children=o}toString(){return`TreeNode(${this.value})`}};function zi(r){let t={};return r&&r.children.forEach(o=>t[o.value.outlet]=o),t}var Qr=class extends Xr{constructor(t,o){super(t),this.snapshot=o,ua(this,t)}toString(){return this.snapshot.toString()}};function Vu(r){let t=$p(r),o=new Be([new hi("",{})]),i=new Be({}),s=new Be({}),l=new Be({}),u=new Be(""),d=new pi(o,i,l,u,s,Z,r,t.root);return d.snapshot=t.root,new Qr(new Ke(d,[]),t)}function $p(r){let t={},o={},i={},s="",l=new Bn([],t,i,s,o,Z,r,null,{});return new es("",new Ke(l,[]))}var pi=class{constructor(t,o,i,s,l,u,d,m){this.urlSubject=t,this.paramsSubject=o,this.queryParamsSubject=i,this.fragmentSubject=s,this.dataSubject=l,this.outlet=u,this.component=d,this._futureSnapshot=m,this.title=this.dataSubject?.pipe(K(p=>p[Zn]))??R(void 0),this.url=t,this.params=o,this.queryParams=i,this.fragment=s,this.data=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(K(t=>Hi(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(K(t=>Hi(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ca(r,t,o="emptyOnly"){let i,{routeConfig:s}=r;return t!==null&&(o==="always"||s?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:I(I({},t.params),r.params),data:I(I({},t.data),r.data),resolve:I(I(I(I({},r.data),t.data),s?.data),r._resolvedData)}:i={params:I({},r.params),data:I({},r.data),resolve:I(I({},r.data),r._resolvedData??{})},s&&zu(s)&&(i.resolve[Zn]=s.title),i}var Bn=class{get title(){return this.data?.[Zn]}constructor(t,o,i,s,l,u,d,m,p){this.url=t,this.params=o,this.queryParams=i,this.fragment=s,this.data=l,this.outlet=u,this.component=d,this.routeConfig=m,this._resolve=p}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Hi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Hi(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),o=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${o}')`}},es=class extends Xr{constructor(t,o){super(o),this.url=t,ua(this,o)}toString(){return ju(this._root)}};function ua(r,t){t.value._routerState=r,t.children.forEach(o=>ua(r,o))}function ju(r){let t=r.children.length>0?` { ${r.children.map(ju).join(", ")} } `:"";return`${r.value}${t}`}function Oo(r){if(r.snapshot){let t=r.snapshot,o=r._futureSnapshot;r.snapshot=o,_t(t.queryParams,o.queryParams)||r.queryParamsSubject.next(o.queryParams),t.fragment!==o.fragment&&r.fragmentSubject.next(o.fragment),_t(t.params,o.params)||r.paramsSubject.next(o.params),yp(t.url,o.url)||r.urlSubject.next(o.url),_t(t.data,o.data)||r.dataSubject.next(o.data)}else r.snapshot=r._futureSnapshot,r.dataSubject.next(r._futureSnapshot.data)}function ea(r,t){let o=_t(r.params,t.params)&&xp(r.url,t.url),i=!r.parent!=!t.parent;return o&&!i&&(!r.parent||ea(r.parent,t.parent))}function zu(r){return typeof r.title=="string"||r.title===null}var ha=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Z,this.activateEvents=new Ne,this.deactivateEvents=new Ne,this.attachEvents=new Ne,this.detachEvents=new Ne,this.parentContexts=k(ns),this.location=k(Sc),this.changeDetector=k(Cn),this.environmentInjector=k(Mi),this.inputBinder=k(da,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:s,previousValue:l}=i.name;if(s)return;this.isTrackedInParentContexts(l)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(l)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ue(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ue(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ue(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,s){this.activated=i,this._activatedRoute=s,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,s){if(this.isActivated)throw new ue(4013,!1);this._activatedRoute=i;let l=this.location,d=i.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,p=new ta(i,m,l.injector);this.activated=l.createComponent(d,{index:l.length,injector:p,environmentInjector:s??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(s){return new(s||t)},t.\u0275dir=Ge({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[si]});let r=t;return r})(),ta=class r{__ngOutletInjector(t){return new r(this.route,this.childContexts,t)}constructor(t,o,i){this.route=t,this.childContexts=o,this.parent=i}get(t,o){return t===pi?this.route:t===ns?this.childContexts:this.parent.get(t,o)}},da=new re("");function Zp(r,t,o){let i=Hn(r,t._root,o?o._root:void 0);return new Qr(i,t)}function Hn(r,t,o){if(o&&r.shouldReuseRoute(t.value,o.value.snapshot)){let i=o.value;i._futureSnapshot=t.value;let s=Wp(r,t,o);return new Ke(i,s)}else{if(r.shouldAttach(t.value)){let l=r.retrieve(t.value);if(l!==null){let u=l.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(d=>Hn(r,d)),u}}let i=Gp(t.value),s=t.children.map(l=>Hn(r,l));return new Ke(i,s)}}function Wp(r,t,o){return t.children.map(i=>{for(let s of o.children)if(r.shouldReuseRoute(i.value,s.value.snapshot))return Hn(r,i,s);return Hn(r,i)})}function Gp(r){return new pi(new Be(r.url),new Be(r.params),new Be(r.queryParams),new Be(r.fragment),new Be(r.data),r.outlet,r.component,r)}var Uu="ngNavigationCancelingError";function Bu(r,t){let{redirectTo:o,navigationBehaviorOptions:i}=$i(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,s=Hu(!1,Je.Redirect);return s.url=o,s.navigationBehaviorOptions=i,s}function Hu(r,t){let o=new Error(`NavigationCancelingError: ${r||""}`);return o[Uu]=!0,o.cancellationCode=t,o}function qp(r){return $u(r)&&$i(r.url)}function $u(r){return!!r&&r[Uu]}var Kp=(()=>{let t=class t{};t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=ee({type:t,selectors:[["ng-component"]],standalone:!0,features:[ne],decls:1,vars:0,template:function(s,l){s&1&&Q(0,"router-outlet")},dependencies:[ha],encapsulation:2});let r=t;return r})();function Jp(r,t){return r.providers&&!r._injector&&(r._injector=Ic(r.providers,t,`Route: ${r.path}`)),r._injector??t}function fa(r){let t=r.children&&r.children.map(fa),o=t?le(I({},r),{children:t}):I({},r);return!o.component&&!o.loadComponent&&(t||o.loadChildren)&&o.outlet&&o.outlet!==Z&&(o.component=Kp),o}function yt(r){return r.outlet||Z}function Yp(r,t){let o=r.filter(i=>yt(i)===t);return o.push(...r.filter(i=>yt(i)!==t)),o}function Wn(r){if(!r)return null;if(r.routeConfig?._injector)return r.routeConfig._injector;for(let t=r.parent;t;t=t.parent){let o=t.routeConfig;if(o?._loadedInjector)return o._loadedInjector;if(o?._injector)return o._injector}return null}var Xp=(r,t,o,i)=>K(s=>(new ia(t,s.targetRouterState,s.currentRouterState,o,i).activate(r),s)),ia=class{constructor(t,o,i,s,l){this.routeReuseStrategy=t,this.futureState=o,this.currState=i,this.forwardEvent=s,this.inputBindingEnabled=l}activate(t){let o=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(o,i,t),Oo(this.futureState.root),this.activateChildRoutes(o,i,t)}deactivateChildRoutes(t,o,i){let s=zi(o);t.children.forEach(l=>{let u=l.value.outlet;this.deactivateRoutes(l,s[u],i),delete s[u]}),Object.values(s).forEach(l=>{this.deactivateRouteAndItsChildren(l,i)})}deactivateRoutes(t,o,i){let s=t.value,l=o?o.value:null;if(s===l)if(s.component){let u=i.getContext(s.outlet);u&&this.deactivateChildRoutes(t,o,u.children)}else this.deactivateChildRoutes(t,o,i);else l&&this.deactivateRouteAndItsChildren(o,i)}deactivateRouteAndItsChildren(t,o){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,o):this.deactivateRouteAndOutlet(t,o)}detachAndStoreRouteSubtree(t,o){let i=o.getContext(t.value.outlet),s=i&&t.value.component?i.children:o,l=zi(t);for(let u of Object.values(l))this.deactivateRouteAndItsChildren(u,s);if(i&&i.outlet){let u=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:d})}}deactivateRouteAndOutlet(t,o){let i=o.getContext(t.value.outlet),s=i&&t.value.component?i.children:o,l=zi(t);for(let u of Object.values(l))this.deactivateRouteAndItsChildren(u,s);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,o,i){let s=zi(o);t.children.forEach(l=>{this.activateRoutes(l,s[l.value.outlet],i),this.forwardEvent(new Jo(l.value.snapshot))}),t.children.length&&this.forwardEvent(new qo(t.value.snapshot))}activateRoutes(t,o,i){let s=t.value,l=o?o.value:null;if(Oo(s),s===l)if(s.component){let u=i.getOrCreateContext(s.outlet);this.activateChildRoutes(t,o,u.children)}else this.activateChildRoutes(t,o,i);else if(s.component){let u=i.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){let d=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),u.children.onOutletReAttached(d.contexts),u.attachRef=d.componentRef,u.route=d.route.value,u.outlet&&u.outlet.attach(d.componentRef,d.route.value),Oo(d.route.value),this.activateChildRoutes(t,null,u.children)}else{let d=Wn(s.snapshot);u.attachRef=null,u.route=s,u.injector=d,u.outlet&&u.outlet.activateWith(s,u.injector),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}},ts=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Bi=class{constructor(t,o){this.component=t,this.route=o}};function Qp(r,t,o){let i=r._root,s=t?t._root:null;return Dn(i,s,o,[i.value])}function em(r){let t=r.routeConfig?r.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:r,guards:t}}function Wi(r,t){let o=Symbol(),i=t.get(r,o);return i===o?typeof r=="function"&&!uc(r)?r:t.get(r):i}function Dn(r,t,o,i,s={canDeactivateChecks:[],canActivateChecks:[]}){let l=zi(t);return r.children.forEach(u=>{tm(u,l[u.value.outlet],o,i.concat([u.value]),s),delete l[u.value.outlet]}),Object.entries(l).forEach(([u,d])=>Nn(d,o.getContext(u),s)),s}function tm(r,t,o,i,s={canDeactivateChecks:[],canActivateChecks:[]}){let l=r.value,u=t?t.value:null,d=o?o.getContext(r.value.outlet):null;if(u&&l.routeConfig===u.routeConfig){let m=im(u,l,l.routeConfig.runGuardsAndResolvers);m?s.canActivateChecks.push(new ts(i)):(l.data=u.data,l._resolvedData=u._resolvedData),l.component?Dn(r,t,d?d.children:null,i,s):Dn(r,t,o,i,s),m&&d&&d.outlet&&d.outlet.isActivated&&s.canDeactivateChecks.push(new Bi(d.outlet.component,u))}else u&&Nn(t,d,s),s.canActivateChecks.push(new ts(i)),l.component?Dn(r,null,d?d.children:null,i,s):Dn(r,null,o,i,s);return s}function im(r,t,o){if(typeof o=="function")return o(r,t);switch(o){case"pathParamsChange":return!di(r.url,t.url);case"pathParamsOrQueryParamsChange":return!di(r.url,t.url)||!_t(r.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ea(r,t)||!_t(r.queryParams,t.queryParams);case"paramsChange":default:return!ea(r,t)}}function Nn(r,t,o){let i=zi(r),s=r.value;Object.entries(i).forEach(([l,u])=>{s.component?t?Nn(u,t.children.getContext(l),o):Nn(u,null,o):Nn(u,t,o)}),s.component?t&&t.outlet&&t.outlet.isActivated?o.canDeactivateChecks.push(new Bi(t.outlet.component,s)):o.canDeactivateChecks.push(new Bi(null,s)):o.canDeactivateChecks.push(new Bi(null,s))}function Gn(r){return typeof r=="function"}function nm(r){return typeof r=="boolean"}function rm(r){return r&&Gn(r.canLoad)}function sm(r){return r&&Gn(r.canActivate)}function om(r){return r&&Gn(r.canActivateChild)}function am(r){return r&&Gn(r.canDeactivate)}function lm(r){return r&&Gn(r.canMatch)}function Zu(r){return r instanceof Xl||r?.name==="EmptyError"}var $r=Symbol("INITIAL_VALUE");function Zi(){return $e(r=>pn(r.map(t=>t.pipe(Bt(1),lc($r)))).pipe(K(t=>{for(let o of t)if(o!==!0){if(o===$r)return $r;if(o===!1||o instanceof qt)return o}return!0}),Pe(t=>t!==$r),Bt(1)))}function cm(r,t){return He(o=>{let{targetSnapshot:i,currentSnapshot:s,guards:{canActivateChecks:l,canDeactivateChecks:u}}=o;return u.length===0&&l.length===0?R(le(I({},o),{guardsResult:!0})):um(u,i,s,r).pipe(He(d=>d&&nm(d)?hm(i,l,r,t):R(d)),K(d=>le(I({},o),{guardsResult:d})))})}function um(r,t,o,i){return Oe(r).pipe(He(s=>gm(s.component,s.route,o,t,i)),it(s=>s!==!0,!0))}function hm(r,t,o,i){return Oe(t).pipe(ri(s=>ec(fm(s.route.parent,i),dm(s.route,i),mm(r,s.path,o),pm(r,s.route,o))),it(s=>s!==!0,!0))}function dm(r,t){return r!==null&&t&&t(new Ko(r)),R(!0)}function fm(r,t){return r!==null&&t&&t(new Go(r)),R(!0)}function pm(r,t,o){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return R(!0);let s=i.map(l=>io(()=>{let u=Wn(t)??o,d=Wi(l,u),m=sm(d)?d.canActivate(t,r):At(u,()=>d(t,r));return Yt(m).pipe(it())}));return R(s).pipe(Zi())}function mm(r,t,o){let i=t[t.length-1],l=t.slice(0,t.length-1).reverse().map(u=>em(u)).filter(u=>u!==null).map(u=>io(()=>{let d=u.guards.map(m=>{let p=Wn(u.node)??o,w=Wi(m,p),P=om(w)?w.canActivateChild(i,r):At(p,()=>w(i,r));return Yt(P).pipe(it())});return R(d).pipe(Zi())}));return R(l).pipe(Zi())}function gm(r,t,o,i,s){let l=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!l||l.length===0)return R(!0);let u=l.map(d=>{let m=Wn(t)??s,p=Wi(d,m),w=am(p)?p.canDeactivate(r,t,o,i):At(m,()=>p(r,t,o,i));return Yt(w).pipe(it())});return R(u).pipe(Zi())}function vm(r,t,o,i){let s=t.canLoad;if(s===void 0||s.length===0)return R(!0);let l=s.map(u=>{let d=Wi(u,r),m=rm(d)?d.canLoad(t,o):At(r,()=>d(t,o));return Yt(m)});return R(l).pipe(Zi(),Wu(i))}function Wu(r){return Jl(xe(t=>{if($i(t))throw Bu(r,t)}),K(t=>t===!0))}function _m(r,t,o,i){let s=t.canMatch;if(!s||s.length===0)return R(!0);let l=s.map(u=>{let d=Wi(u,r),m=lm(d)?d.canMatch(t,o):At(r,()=>d(t,o));return Yt(m)});return R(l).pipe(Zi(),Wu(i))}var $n=class{constructor(t){this.segmentGroup=t||null}},is=class extends Error{constructor(t){super(),this.urlTree=t}};function ji(r){return Mt(new $n(r))}function ym(r){return Mt(new ue(4e3,!1))}function wm(r){return Mt(Hu(!1,Je.GuardRejected))}var na=class{constructor(t,o){this.urlSerializer=t,this.urlTree=o}lineralizeSegments(t,o){let i=[],s=o.root;for(;;){if(i=i.concat(s.segments),s.numberOfChildren===0)return R(i);if(s.numberOfChildren>1||!s.children[Z])return ym(t.redirectTo);s=s.children[Z]}}applyRedirectCommands(t,o,i){let s=this.applyRedirectCreateUrlTree(o,this.urlSerializer.parse(o),t,i);if(o.startsWith("/"))throw new is(s);return s}applyRedirectCreateUrlTree(t,o,i,s){let l=this.createSegmentGroup(t,o.root,i,s);return new qt(l,this.createQueryParams(o.queryParams,this.urlTree.queryParams),o.fragment)}createQueryParams(t,o){let i={};return Object.entries(t).forEach(([s,l])=>{if(typeof l=="string"&&l.startsWith(":")){let d=l.substring(1);i[s]=o[d]}else i[s]=l}),i}createSegmentGroup(t,o,i,s){let l=this.createSegments(t,o.segments,i,s),u={};return Object.entries(o.children).forEach(([d,m])=>{u[d]=this.createSegmentGroup(t,m,i,s)}),new oe(l,u)}createSegments(t,o,i,s){return o.map(l=>l.path.startsWith(":")?this.findPosParam(t,l,s):this.findOrReturn(l,i))}findPosParam(t,o,i){let s=i[o.path.substring(1)];if(!s)throw new ue(4001,!1);return s}findOrReturn(t,o){let i=0;for(let s of o){if(s.path===t.path)return o.splice(i),s;i++}return t}},ra={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bm(r,t,o,i,s){let l=pa(r,t,o);return l.matched?(i=Jp(t,i),_m(i,t,o,s).pipe(K(u=>u===!0?l:I({},ra)))):R(l)}function pa(r,t,o){if(t.path==="**")return Cm(o);if(t.path==="")return t.pathMatch==="full"&&(r.hasChildren()||o.length>0)?I({},ra):{matched:!0,consumedSegments:[],remainingSegments:o,parameters:{},positionalParamSegments:{}};let s=(t.matcher||_p)(o,r,t);if(!s)return I({},ra);let l={};Object.entries(s.posParams??{}).forEach(([d,m])=>{l[d]=m.path});let u=s.consumed.length>0?I(I({},l),s.consumed[s.consumed.length-1].parameters):l;return{matched:!0,consumedSegments:s.consumed,remainingSegments:o.slice(s.consumed.length),parameters:u,positionalParamSegments:s.posParams??{}}}function Cm(r){return{matched:!0,parameters:r.length>0?Su(r).parameters:{},consumedSegments:r,remainingSegments:[],positionalParamSegments:{}}}function xu(r,t,o,i){return o.length>0&&Sm(r,o,i)?{segmentGroup:new oe(t,Tm(i,new oe(o,r.children))),slicedSegments:[]}:o.length===0&&Pm(r,o,i)?{segmentGroup:new oe(r.segments,xm(r,o,i,r.children)),slicedSegments:o}:{segmentGroup:new oe(r.segments,r.children),slicedSegments:o}}function xm(r,t,o,i){let s={};for(let l of o)if(rs(r,t,l)&&!i[yt(l)]){let u=new oe([],{});s[yt(l)]=u}return I(I({},i),s)}function Tm(r,t){let o={};o[Z]=t;for(let i of r)if(i.path===""&&yt(i)!==Z){let s=new oe([],{});o[yt(i)]=s}return o}function Sm(r,t,o){return o.some(i=>rs(r,t,i)&&yt(i)!==Z)}function Pm(r,t,o){return o.some(i=>rs(r,t,i))}function rs(r,t,o){return(r.hasChildren()||t.length>0)&&o.pathMatch==="full"?!1:o.path===""}function Em(r,t,o,i){return yt(r)!==i&&(i===Z||!rs(t,o,r))?!1:pa(t,r,o).matched}function Im(r,t,o){return t.length===0&&!r.children[o]}var sa=class{};function Mm(r,t,o,i,s,l,u="emptyOnly"){return new oa(r,t,o,i,s,u,l).recognize()}var Am=31,oa=class{constructor(t,o,i,s,l,u,d){this.injector=t,this.configLoader=o,this.rootComponentType=i,this.config=s,this.urlTree=l,this.paramsInheritanceStrategy=u,this.urlSerializer=d,this.applyRedirects=new na(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new ue(4002,`'${t.segmentGroup}'`)}recognize(){let t=xu(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(K(o=>{let i=new Bn([],Object.freeze({}),Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,{},Z,this.rootComponentType,null,{}),s=new Ke(i,o),l=new es("",s),u=Fp(i,[],this.urlTree.queryParams,this.urlTree.fragment);return u.queryParams=this.urlTree.queryParams,l.url=this.urlSerializer.serialize(u),this.inheritParamsAndData(l._root,null),{state:l,tree:u}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,Z).pipe(tt(i=>{if(i instanceof is)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof $n?this.noMatchError(i):i}))}inheritParamsAndData(t,o){let i=t.value,s=ca(i,o,this.paramsInheritanceStrategy);i.params=Object.freeze(s.params),i.data=Object.freeze(s.data),t.children.forEach(l=>this.inheritParamsAndData(l,i))}processSegmentGroup(t,o,i,s){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,o,i):this.processSegment(t,o,i,i.segments,s,!0).pipe(K(l=>l instanceof Ke?[l]:[]))}processChildren(t,o,i){let s=[];for(let l of Object.keys(i.children))l==="primary"?s.unshift(l):s.push(l);return Oe(s).pipe(ri(l=>{let u=i.children[l],d=Yp(o,l);return this.processSegmentGroup(t,d,u,l)}),ac((l,u)=>(l.push(...u),l)),no(null),oc(),He(l=>{if(l===null)return ji(i);let u=Gu(l);return km(u),R(u)}))}processSegment(t,o,i,s,l,u){return Oe(o).pipe(ri(d=>this.processSegmentAgainstRoute(d._injector??t,o,d,i,s,l,u).pipe(tt(m=>{if(m instanceof $n)return R(null);throw m}))),it(d=>!!d),tt(d=>{if(Zu(d))return Im(i,s,l)?R(new sa):ji(i);throw d}))}processSegmentAgainstRoute(t,o,i,s,l,u,d){return Em(i,s,l,u)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,s,i,l,u):this.allowRedirects&&d?this.expandSegmentAgainstRouteUsingRedirect(t,s,o,i,l,u):ji(s):ji(s)}expandSegmentAgainstRouteUsingRedirect(t,o,i,s,l,u){let{matched:d,consumedSegments:m,positionalParamSegments:p,remainingSegments:w}=pa(o,s,l);if(!d)return ji(o);s.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Am&&(this.allowRedirects=!1));let P=this.applyRedirects.applyRedirectCommands(m,s.redirectTo,p);return this.applyRedirects.lineralizeSegments(s,P).pipe(He(_=>this.processSegment(t,i,o,_.concat(w),u,!1)))}matchSegmentAgainstRoute(t,o,i,s,l){let u=bm(o,i,s,t,this.urlSerializer);return i.path==="**"&&(o.children={}),u.pipe($e(d=>d.matched?(t=i._injector??t,this.getChildConfig(t,i,s).pipe($e(({routes:m})=>{let p=i._loadedInjector??t,{consumedSegments:w,remainingSegments:P,parameters:_}=d,S=new Bn(w,_,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,Om(i),yt(i),i.component??i._loadedComponent??null,i,Rm(i)),{segmentGroup:A,slicedSegments:te}=xu(o,w,P,m);if(te.length===0&&A.hasChildren())return this.processChildren(p,m,A).pipe(K(j=>j===null?null:new Ke(S,j)));if(m.length===0&&te.length===0)return R(new Ke(S,[]));let F=yt(i)===l;return this.processSegment(p,m,A,te,F?Z:l,!0).pipe(K(j=>new Ke(S,j instanceof Ke?[j]:[])))}))):ji(o)))}getChildConfig(t,o,i){return o.children?R({routes:o.children,injector:t}):o.loadChildren?o._loadedRoutes!==void 0?R({routes:o._loadedRoutes,injector:o._loadedInjector}):vm(t,o,i,this.urlSerializer).pipe(He(s=>s?this.configLoader.loadChildren(t,o).pipe(xe(l=>{o._loadedRoutes=l.routes,o._loadedInjector=l.injector})):wm(o))):R({routes:[],injector:t})}};function km(r){r.sort((t,o)=>t.value.outlet===Z?-1:o.value.outlet===Z?1:t.value.outlet.localeCompare(o.value.outlet))}function Dm(r){let t=r.value.routeConfig;return t&&t.path===""}function Gu(r){let t=[],o=new Set;for(let i of r){if(!Dm(i)){t.push(i);continue}let s=t.find(l=>i.value.routeConfig===l.value.routeConfig);s!==void 0?(s.children.push(...i.children),o.add(s)):t.push(i)}for(let i of o){let s=Gu(i.children);t.push(new Ke(i.value,s))}return t.filter(i=>!o.has(i))}function Om(r){return r.data||{}}function Rm(r){return r.resolve||{}}function Lm(r,t,o,i,s,l){return He(u=>Mm(r,t,o,i,u.extractedUrl,s,l).pipe(K(({state:d,tree:m})=>le(I({},u),{targetSnapshot:d,urlAfterRedirects:m}))))}function Nm(r,t){return He(o=>{let{targetSnapshot:i,guards:{canActivateChecks:s}}=o;if(!s.length)return R(o);let l=new Set(s.map(m=>m.route)),u=new Set;for(let m of l)if(!u.has(m))for(let p of qu(m))u.add(p);let d=0;return Oe(u).pipe(ri(m=>l.has(m)?Fm(m,i,r,t):(m.data=ca(m,m.parent,r).resolve,R(void 0))),xe(()=>d++),ro(1),He(m=>d===u.size?R(o):zt))})}function qu(r){let t=r.children.map(o=>qu(o)).flat();return[r,...t]}function Fm(r,t,o,i){let s=r.routeConfig,l=r._resolve;return s?.title!==void 0&&!zu(s)&&(l[Zn]=s.title),Vm(l,r,t,i).pipe(K(u=>(r._resolvedData=u,r.data=ca(r,r.parent,o).resolve,null)))}function Vm(r,t,o,i){let s=No(r);if(s.length===0)return R({});let l={};return Oe(s).pipe(He(u=>jm(r[u],t,o,i).pipe(it(),xe(d=>{l[u]=d}))),ro(1),sc(l),tt(u=>Zu(u)?zt:Mt(u)))}function jm(r,t,o,i){let s=Wn(t)??i,l=Wi(r,s),u=l.resolve?l.resolve(t,o):At(s,()=>l(t,o));return Yt(u)}function Ro(r){return $e(t=>{let o=r(t);return o?Oe(o).pipe(K(()=>t)):R(t)})}var Ku=(()=>{let t=class t{buildTitle(i){let s,l=i.root;for(;l!==void 0;)s=this.getResolvedTitleForRoute(l)??s,l=l.children.find(u=>u.outlet===Z);return s}getResolvedTitleForRoute(i){return i.data[Zn]}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=N({token:t,factory:()=>k(zm),providedIn:"root"});let r=t;return r})(),zm=(()=>{let t=class t extends Ku{constructor(i){super(),this.title=i}updateTitle(i){let s=this.buildTitle(i);s!==void 0&&this.title.setTitle(s)}};t.\u0275fac=function(s){return new(s||t)(D(vu))},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})(),ma=new re("",{providedIn:"root",factory:()=>({})}),ga=new re(""),Um=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(mo)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return R(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let s=Yt(i.loadComponent()).pipe(K(Ju),xe(u=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=u}),Ei(()=>{this.componentLoaders.delete(i)})),l=new to(s,()=>new Se).pipe(eo());return this.componentLoaders.set(i,l),l}loadChildren(i,s){if(this.childrenLoaders.get(s))return this.childrenLoaders.get(s);if(s._loadedRoutes)return R({routes:s._loadedRoutes,injector:s._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(s);let u=Bm(s,this.compiler,i,this.onLoadEndListener).pipe(Ei(()=>{this.childrenLoaders.delete(s)})),d=new to(u,()=>new Se).pipe(eo());return this.childrenLoaders.set(s,d),d}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();function Bm(r,t,o,i){return Yt(r.loadChildren()).pipe(K(Ju),He(s=>s instanceof Ec||Array.isArray(s)?R(s):Oe(t.compileModuleAsync(s))),K(s=>{i&&i(r);let l,u,d=!1;return Array.isArray(s)?(u=s,d=!0):(l=s.create(o).injector,u=l.get(ga,[],{optional:!0,self:!0}).flat()),{routes:u.map(fa),injector:l}}))}function Hm(r){return r&&typeof r=="object"&&"default"in r}function Ju(r){return Hm(r)?r.default:r}var va=(()=>{let t=class t{};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=N({token:t,factory:()=>k($m),providedIn:"root"});let r=t;return r})(),$m=(()=>{let t=class t{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,s){return i}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})(),Zm=new re("");var Wm=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Se,this.transitionAbortSubject=new Se,this.configLoader=k(Um),this.environmentInjector=k(Mi),this.urlSerializer=k(la),this.rootContexts=k(ns),this.location=k(Er),this.inputBindingEnabled=k(da,{optional:!0})!==null,this.titleStrategy=k(Ku),this.options=k(ma,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(va),this.createViewTransition=k(Zm,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>R(void 0),this.rootComponentType=null;let i=l=>this.events.next(new Zo(l)),s=l=>this.events.next(new Wo(l));this.configLoader.onLoadEndListener=s,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let s=++this.navigationId;this.transitions?.next(le(I(I({},this.transitions.value),i),{id:s}))}setupNavigations(i,s,l){return this.transitions=new Be({id:0,currentUrlTree:s,currentRawUrl:s,extractedUrl:this.urlHandlingStrategy.extract(s),urlAfterRedirects:this.urlHandlingStrategy.extract(s),rawUrl:s,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ln,restoredState:null,currentSnapshot:l.snapshot,targetSnapshot:null,currentRouterState:l,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Pe(u=>u.id!==0),K(u=>le(I({},u),{extractedUrl:this.urlHandlingStrategy.extract(u.rawUrl)})),$e(u=>{let d=!1,m=!1;return R(u).pipe($e(p=>{if(this.navigationId>u.id)return this.cancelNavigationTransition(u,"",Je.SupersededByNewNavigation),zt;this.currentTransition=u,this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?le(I({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let w=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),P=p.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!w&&P!=="reload"){let _="";return this.events.next(new fi(p.id,this.urlSerializer.serialize(p.rawUrl),_,zo.IgnoredSameUrlNavigation)),p.resolve(null),zt}if(this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return R(p).pipe($e(_=>{let S=this.transitions?.getValue();return this.events.next(new Vn(_.id,this.urlSerializer.serialize(_.extractedUrl),_.source,_.restoredState)),S!==this.transitions?.getValue()?zt:Promise.resolve(_)}),Lm(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),xe(_=>{u.targetSnapshot=_.targetSnapshot,u.urlAfterRedirects=_.urlAfterRedirects,this.currentNavigation=le(I({},this.currentNavigation),{finalUrl:_.urlAfterRedirects});let S=new Yr(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(S)}));if(w&&this.urlHandlingStrategy.shouldProcessUrl(p.currentRawUrl)){let{id:_,extractedUrl:S,source:A,restoredState:te,extras:F}=p,j=new Vn(_,this.urlSerializer.serialize(S),A,te);this.events.next(j);let ke=Vu(this.rootComponentType).snapshot;return this.currentTransition=u=le(I({},p),{targetSnapshot:ke,urlAfterRedirects:S,extras:le(I({},F),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=S,R(u)}else{let _="";return this.events.next(new fi(p.id,this.urlSerializer.serialize(p.extractedUrl),_,zo.IgnoredByUrlHandlingStrategy)),p.resolve(null),zt}}),xe(p=>{let w=new Uo(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(w)}),K(p=>(this.currentTransition=u=le(I({},p),{guards:Qp(p.targetSnapshot,p.currentSnapshot,this.rootContexts)}),u)),cm(this.environmentInjector,p=>this.events.next(p)),xe(p=>{if(u.guardsResult=p.guardsResult,$i(p.guardsResult))throw Bu(this.urlSerializer,p.guardsResult);let w=new Bo(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.events.next(w)}),Pe(p=>p.guardsResult?!0:(this.cancelNavigationTransition(p,"",Je.GuardRejected),!1)),Ro(p=>{if(p.guards.canActivateChecks.length)return R(p).pipe(xe(w=>{let P=new Ho(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(P)}),$e(w=>{let P=!1;return R(w).pipe(Nm(this.paramsInheritanceStrategy,this.environmentInjector),xe({next:()=>P=!0,complete:()=>{P||this.cancelNavigationTransition(w,"",Je.NoDataFromResolver)}}))}),xe(w=>{let P=new $o(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(P)}))}),Ro(p=>{let w=P=>{let _=[];P.routeConfig?.loadComponent&&!P.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(P.routeConfig).pipe(xe(S=>{P.component=S}),K(()=>{})));for(let S of P.children)_.push(...w(S));return _};return pn(w(p.targetSnapshot.root)).pipe(no(null),Bt(1))}),Ro(()=>this.afterPreactivation()),$e(()=>{let{currentSnapshot:p,targetSnapshot:w}=u,P=this.createViewTransition?.(this.environmentInjector,p.root,w.root);return P?Oe(P).pipe(K(()=>u)):R(u)}),K(p=>{let w=Zp(i.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return this.currentTransition=u=le(I({},p),{targetRouterState:w}),this.currentNavigation.targetRouterState=w,u}),xe(()=>{this.events.next(new zn)}),Xp(this.rootContexts,i.routeReuseStrategy,p=>this.events.next(p),this.inputBindingEnabled),Bt(1),xe({next:p=>{d=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Kt(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects))),this.titleStrategy?.updateTitle(p.targetRouterState.snapshot),p.resolve(!0)},complete:()=>{d=!0}}),cc(this.transitionAbortSubject.pipe(xe(p=>{throw p}))),Ei(()=>{!d&&!m&&this.cancelNavigationTransition(u,"",Je.SupersededByNewNavigation),this.currentTransition?.id===u.id&&(this.currentNavigation=null,this.currentTransition=null)}),tt(p=>{if(m=!0,$u(p))this.events.next(new Jt(u.id,this.urlSerializer.serialize(u.extractedUrl),p.message,p.cancellationCode)),qp(p)?this.events.next(new Un(p.url)):u.resolve(!1);else{this.events.next(new jn(u.id,this.urlSerializer.serialize(u.extractedUrl),p,u.targetSnapshot??void 0));try{u.resolve(i.errorHandler(p))}catch(w){this.options.resolveNavigationPromiseOnError?u.resolve(!1):u.reject(w)}}return zt}))}))}cancelNavigationTransition(i,s,l){let u=new Jt(i.id,this.urlSerializer.serialize(i.extractedUrl),s,l);this.events.next(u),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();function Gm(r){return r!==Ln}var qm=(()=>{let t=class t{};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=N({token:t,factory:()=>k(Km),providedIn:"root"});let r=t;return r})(),aa=class{shouldDetach(t){return!1}store(t,o){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,o){return t.routeConfig===o.routeConfig}},Km=(()=>{let t=class t extends aa{};t.\u0275fac=(()=>{let i;return function(l){return(i||(i=$t(t)))(l||t)}})(),t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})(),Yu=(()=>{let t=class t{};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=N({token:t,factory:()=>k(Jm),providedIn:"root"});let r=t;return r})(),Jm=(()=>{let t=class t extends Yu{constructor(){super(...arguments),this.location=k(Er),this.urlSerializer=k(la),this.options=k(ma,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(va),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new qt,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Vu(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(s=>{s.type==="popstate"&&i(s.url,s.state)})}handleRouterEvent(i,s){if(i instanceof Vn)this.stateMemento=this.createStateMemento();else if(i instanceof fi)this.rawUrlTree=s.initialUrl;else if(i instanceof Yr){if(this.urlUpdateStrategy==="eager"&&!s.extras.skipLocationChange){let l=this.urlHandlingStrategy.merge(s.finalUrl,s.initialUrl);this.setBrowserUrl(l,s)}}else i instanceof zn?(this.currentUrlTree=s.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(s.finalUrl,s.initialUrl),this.routerState=s.targetRouterState,this.urlUpdateStrategy==="deferred"&&(s.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,s))):i instanceof Jt&&(i.code===Je.GuardRejected||i.code===Je.NoDataFromResolver)?this.restoreHistory(s):i instanceof jn?this.restoreHistory(s,!0):i instanceof Kt&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,s){let l=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(l)||s.extras.replaceUrl){let u=this.browserPageId,d=I(I({},s.extras.state),this.generateNgRouterState(s.id,u));this.location.replaceState(l,"",d)}else{let u=I(I({},s.extras.state),this.generateNgRouterState(s.id,this.browserPageId+1));this.location.go(l,"",u)}}restoreHistory(i,s=!1){if(this.canceledNavigationResolution==="computed"){let l=this.browserPageId,u=this.currentPageId-l;u!==0?this.location.historyGo(u):this.currentUrlTree===i.finalUrl&&u===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(s&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,s){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:s}:{navigationId:i}}};t.\u0275fac=(()=>{let i;return function(l){return(i||(i=$t(t)))(l||t)}})(),t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})(),On=function(r){return r[r.COMPLETE=0]="COMPLETE",r[r.FAILED=1]="FAILED",r[r.REDIRECTING=2]="REDIRECTING",r}(On||{});function Ym(r,t){r.events.pipe(Pe(o=>o instanceof Kt||o instanceof Jt||o instanceof jn||o instanceof fi),K(o=>o instanceof Kt||o instanceof fi?On.COMPLETE:(o instanceof Jt?o.code===Je.Redirect||o.code===Je.SupersededByNewNavigation:!1)?On.REDIRECTING:On.FAILED),Pe(o=>o!==On.REDIRECTING),Bt(1)).subscribe(()=>{t()})}function Xm(r){throw r}var Qm={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},eg={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},mi=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=k(Sr),this.stateManager=k(Yu),this.options=k(ma,{optional:!0})||{},this.pendingTasks=k(Cr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(Wm),this.urlSerializer=k(la),this.location=k(Er),this.urlHandlingStrategy=k(va),this._events=new Se,this.errorHandler=this.options.errorHandler||Xm,this.navigated=!1,this.routeReuseStrategy=k(qm),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(ga,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(da,{optional:!0}),this.eventsSubscription=new Kl,this.isNgZoneEnabled=k(ye)instanceof ye&&ye.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(s=>{try{let l=this.navigationTransitions.currentTransition,u=this.navigationTransitions.currentNavigation;if(l!==null&&u!==null){if(this.stateManager.handleRouterEvent(s,u),s instanceof Jt&&s.code!==Je.Redirect&&s.code!==Je.SupersededByNewNavigation)this.navigated=!0;else if(s instanceof Kt)this.navigated=!0;else if(s instanceof Un){let d=this.urlHandlingStrategy.merge(s.url,l.currentRawUrl),m={info:l.extras.info,skipLocationChange:l.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||Gm(l.source)};this.scheduleNavigation(d,Ln,null,m,{resolve:l.resolve,reject:l.reject,promise:l.promise})}}ig(s)&&this._events.next(s)}catch(l){this.navigationTransitions.transitionAbortSubject.next(l)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ln,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,s)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",s)},0)})}navigateToSyncWithBrowser(i,s,l){let u={replaceUrl:!0},d=l?.navigationId?l:null;if(l){let p=I({},l);delete p.navigationId,delete p.\u0275routerPageId,Object.keys(p).length!==0&&(u.state=p)}let m=this.parseUrl(i);this.scheduleNavigation(m,s,d,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(fa),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,s={}){let{relativeTo:l,queryParams:u,fragment:d,queryParamsHandling:m,preserveFragment:p}=s,w=p?this.currentUrlTree.fragment:d,P=null;switch(m){case"merge":P=I(I({},this.currentUrlTree.queryParams),u);break;case"preserve":P=this.currentUrlTree.queryParams;break;default:P=u||null}P!==null&&(P=this.removeEmptyProps(P));let _;try{let S=l?l.snapshot:this.routerState.snapshot.root;_=Ru(S)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),_=this.currentUrlTree.root}return Lu(_,i,P,w??null)}navigateByUrl(i,s={skipLocationChange:!1}){let l=$i(i)?i:this.parseUrl(i),u=this.urlHandlingStrategy.merge(l,this.rawUrlTree);return this.scheduleNavigation(u,Ln,null,s)}navigate(i,s={skipLocationChange:!1}){return tg(i),this.navigateByUrl(this.createUrlTree(i,s),s)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,s){let l;if(s===!0?l=I({},Qm):s===!1?l=I({},eg):l=s,$i(i))return yu(this.currentUrlTree,i,l);let u=this.parseUrl(i);return yu(this.currentUrlTree,u,l)}removeEmptyProps(i){return Object.entries(i).reduce((s,[l,u])=>(u!=null&&(s[l]=u),s),{})}scheduleNavigation(i,s,l,u,d){if(this.disposed)return Promise.resolve(!1);let m,p,w;d?(m=d.resolve,p=d.reject,w=d.promise):w=new Promise((_,S)=>{m=_,p=S});let P=this.pendingTasks.add();return Ym(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(P))}),this.navigationTransitions.handleNavigationRequest({source:s,restoredState:l,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:u,resolve:m,reject:p,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(_=>Promise.reject(_))}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();function tg(r){for(let t=0;t<r.length;t++)if(r[t]==null)throw new ue(4008,!1)}function ig(r){return!(r instanceof zn)&&!(r instanceof Un)}var wt=(()=>{let t=class t{constructor(i,s,l,u,d,m){this.router=i,this.route=s,this.tabIndexAttribute=l,this.renderer=u,this.el=d,this.locationStrategy=m,this.href=null,this.commands=null,this.onChanges=new Se,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let p=d.nativeElement.tagName?.toLowerCase();this.isAnchorElement=p==="a"||p==="area",this.isAnchorElement?this.subscription=i.events.subscribe(w=>{w instanceof Kt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){i!=null?(this.commands=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(i,s,l,u,d){let m=this.urlTree;if(m===null||this.isAnchorElement&&(i!==0||s||l||u||d||typeof this.target=="string"&&this.target!="_self"))return!0;let p={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(m,p),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let i=this.urlTree;this.href=i!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(i)):null;let s=this.href===null?null:xc(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",s)}applyAttributeValue(i,s){let l=this.renderer,u=this.el.nativeElement;s!==null?l.setAttribute(u,i,s):l.removeAttribute(u,i)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};t.\u0275fac=function(s){return new(s||t)($(mi),$(pi),dc("tabindex"),$(ai),$(Ot),$(go))},t.\u0275dir=Ge({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(s,l){s&1&&Me("click",function(d){return l.onClick(d.button,d.ctrlKey,d.shiftKey,d.altKey,d.metaKey)}),s&2&&Zt("target",l.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Ht.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Li],skipLocationChange:[Ht.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Li],replaceUrl:[Ht.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Li],routerLink:"routerLink"},standalone:!0,features:[Pc,si]});let r=t;return r})();var ng=new re("");function Xu(r,...t){return ct([{provide:ga,multi:!0,useValue:r},[],{provide:pi,useFactory:rg,deps:[mi]},{provide:po,multi:!0,useFactory:sg},t.map(o=>o.\u0275providers)])}function rg(r){return r.routerState.root}function sg(){let r=k(oi);return t=>{let o=r.get(Gt);if(t!==o.components[0])return;let i=r.get(mi),s=r.get(og);r.get(ag)===1&&i.initialNavigation(),r.get(lg,null,so.Optional)?.setUpPreloading(),r.get(ng,null,so.Optional)?.init(),i.resetRootComponentType(o.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}var og=new re("",{factory:()=>new Se}),ag=new re("",{providedIn:"root",factory:()=>1});var lg=new re("");var ss={production:!1,googleClientId:"154063165170-j4d87oamru8tm9tlr6t85ehjm1mn6vbc.apps.googleusercontent.com",apiUrl:"https://back-end-angular-app.netlify.app",open_weather_api_key:"07e6c440f864f9dbfd33a5035c3b536c"};var ya=class{validateSignature(t){return Promise.resolve(null)}validateAtHash(t){return Promise.resolve(!0)}},os=class{};var qn=class{},cg=(()=>{let t=class t extends qn{now(){return Date.now()}new(){return new Date}};t.\u0275fac=(()=>{let i;return function(l){return(i||(i=$t(t)))(l||t)}})(),t.\u0275prov=N({token:t,factory:t.\u0275fac});let r=t;return r})();var as=class{},ls=class{},ug=(()=>{let t=class t{constructor(){this.data=new Map}getItem(i){return this.data.get(i)}removeItem(i){this.data.delete(i)}setItem(i,s){this.data.set(i,s)}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=N({token:t,factory:t.\u0275fac});let r=t;return r})();var Kn=class{constructor(t){this.type=t}},Fe=class extends Kn{constructor(t,o=null){super(t),this.info=o}},dt=class extends Kn{constructor(t,o=null){super(t),this.info=o}},ge=class extends Kn{constructor(t,o,i=null){super(t),this.reason=o,this.params=i}};function eh(r){let t=r.replace(/-/g,"+").replace(/_/g,"/");return decodeURIComponent(atob(t).split("").map(function(o){return"%"+("00"+o.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function th(r){return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}var Gi=class{constructor(t){this.clientId="",this.redirectUri="",this.postLogoutRedirectUri="",this.redirectUriAsPostLogoutRedirectUriFallback=!0,this.loginUrl="",this.scope="openid profile",this.resource="",this.rngUrl="",this.oidc=!0,this.requestAccessToken=!0,this.options=null,this.issuer="",this.logoutUrl="",this.clearHashAfterLogin=!0,this.tokenEndpoint=null,this.revocationEndpoint=null,this.customTokenParameters=[],this.userinfoEndpoint=null,this.responseType="",this.showDebugInformation=!1,this.silentRefreshRedirectUri="",this.silentRefreshMessagePrefix="",this.silentRefreshShowIFrame=!1,this.siletRefreshTimeout=1e3*20,this.silentRefreshTimeout=1e3*20,this.dummyClientSecret="",this.requireHttps="remoteOnly",this.strictDiscoveryDocumentValidation=!0,this.jwks=null,this.customQueryParams=null,this.silentRefreshIFrameName="angular-oauth-oidc-silent-refresh-iframe",this.timeoutFactor=.75,this.sessionChecksEnabled=!1,this.sessionCheckIntervall=3*1e3,this.sessionCheckIFrameUrl=null,this.sessionCheckIFrameName="angular-oauth-oidc-check-session-iframe",this.disableAtHashCheck=!1,this.skipSubjectCheck=!1,this.useIdTokenHintForSilentRefresh=!1,this.skipIssuerCheck=!1,this.nonceStateSeparator=";",this.useHttpBasicAuth=!1,this.decreaseExpirationBySec=0,this.waitForTokenInMsec=0,this.disablePKCE=!1,this.preserveRequestedRoute=!1,this.disableIdTokenTimer=!1,this.checkOrigin=!1,this.openUri=o=>{location.href=o},t&&Object.assign(this,t)}},gi=class{encodeKey(t){return encodeURIComponent(t)}encodeValue(t){return encodeURIComponent(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}},cs=class{};var ih=(()=>{let t=class t{getHashFragmentParams(i){let s=i||window.location.hash;if(s=decodeURIComponent(s),s.indexOf("#")!==0)return{};let l=s.indexOf("?");return l>-1?s=s.substr(l+1):s=s.substr(1),this.parseQueryString(s)}parseQueryString(i){let s={},l,u,d,m,p,w;if(i===null)return s;let P=i.split("&");for(let _=0;_<P.length;_++)l=P[_],u=l.indexOf("="),u===-1?(d=l,m=null):(d=l.substr(0,u),m=l.substr(u+1)),p=decodeURIComponent(d),w=decodeURIComponent(m),p.substr(0,1)==="/"&&(p=p.substr(1)),s[p]=w;return s}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=N({token:t,factory:t.\u0275fac});let r=t;return r})(),nh=32,hg=64,dg=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function _a(r,t,o,i,s){let l,u,d,m,p,w,P,_,S,A,te,F,j;for(;s>=64;){for(l=t[0],u=t[1],d=t[2],m=t[3],p=t[4],w=t[5],P=t[6],_=t[7],A=0;A<16;A++)te=i+A*4,r[A]=(o[te]&255)<<24|(o[te+1]&255)<<16|(o[te+2]&255)<<8|o[te+3]&255;for(A=16;A<64;A++)S=r[A-2],F=(S>>>17|S<<15)^(S>>>19|S<<13)^S>>>10,S=r[A-15],j=(S>>>7|S<<25)^(S>>>18|S<<14)^S>>>3,r[A]=(F+r[A-7]|0)+(j+r[A-16]|0);for(A=0;A<64;A++)F=(((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&w^~p&P)|0)+(_+(dg[A]+r[A]|0)|0)|0,j=((l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10))+(l&u^l&d^u&d)|0,_=P,P=w,w=p,p=m+F|0,m=d,d=u,u=l,l=F+j|0;t[0]+=l,t[1]+=u,t[2]+=d,t[3]+=m,t[4]+=p,t[5]+=w,t[6]+=P,t[7]+=_,i+=64,s-=64}return i}var wa=class{constructor(){this.digestLength=nh,this.blockSize=hg,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}reset(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this}clean(){for(let t=0;t<this.buffer.length;t++)this.buffer[t]=0;for(let t=0;t<this.temp.length;t++)this.temp[t]=0;this.reset()}update(t,o=t.length){if(this.finished)throw new Error("SHA256: can't update because hash was finished.");let i=0;if(this.bytesHashed+=o,this.bufferLength>0){for(;this.bufferLength<64&&o>0;)this.buffer[this.bufferLength++]=t[i++],o--;this.bufferLength===64&&(_a(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(o>=64&&(i=_a(this.temp,this.state,t,i,o),o%=64);o>0;)this.buffer[this.bufferLength++]=t[i++],o--;return this}finish(t){if(!this.finished){let o=this.bytesHashed,i=this.bufferLength,s=o/536870912|0,l=o<<3,u=o%64<56?64:128;this.buffer[i]=128;for(let d=i+1;d<u-8;d++)this.buffer[d]=0;this.buffer[u-8]=s>>>24&255,this.buffer[u-7]=s>>>16&255,this.buffer[u-6]=s>>>8&255,this.buffer[u-5]=s>>>0&255,this.buffer[u-4]=l>>>24&255,this.buffer[u-3]=l>>>16&255,this.buffer[u-2]=l>>>8&255,this.buffer[u-1]=l>>>0&255,_a(this.temp,this.state,this.buffer,0,u),this.finished=!0}for(let o=0;o<8;o++)t[o*4+0]=this.state[o]>>>24&255,t[o*4+1]=this.state[o]>>>16&255,t[o*4+2]=this.state[o]>>>8&255,t[o*4+3]=this.state[o]>>>0&255;return this}digest(){let t=new Uint8Array(this.digestLength);return this.finish(t),t}_saveState(t){for(let o=0;o<this.state.length;o++)t[o]=this.state[o]}_restoreState(t,o){for(let i=0;i<this.state.length;i++)this.state[i]=t[i];this.bytesHashed=o,this.finished=!1,this.bufferLength=0}};function fg(r){let t=new wa().update(r),o=t.digest();return t.clean(),o}var uy=new Uint8Array(nh);var us=class{};function pg(r){if(typeof r!="string")throw new TypeError("expected string");let t=r,o=new Uint8Array(t.length);for(let i=0;i<t.length;i++)o[i]=t.charCodeAt(i);return o}function mg(r){let t=[];for(let o=0;o<r.length;o++)t.push(String.fromCharCode(r[o]));return t.join("")}var gg=(()=>{let t=class t{calcHash(i,s){return X(this,null,function*(){return mg(fg(pg(i)))})}toHashString2(i){let s="";for(let l of i)s+=String.fromCharCode(l);return s}toHashString(i){let s=new Uint8Array(i),l="";for(let u of s)l+=String.fromCharCode(u);return l}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=N({token:t,factory:t.\u0275fac});let r=t;return r})(),ds=(()=>{let t=class t extends Gi{constructor(i,s,l,u,d,m,p,w,P,_){super(),this.ngZone=i,this.http=s,this.config=d,this.urlHelper=m,this.logger=p,this.crypto=w,this.dateTimeService=_,this.discoveryDocumentLoaded=!1,this.state="",this.eventsSubject=new Se,this.discoveryDocumentLoadedSubject=new Se,this.grantTypesSupported=[],this.inImplicitFlow=!1,this.saveNoncesInLocalStorage=!1,this.debug("angular-oauth2-oidc v10"),this.document=P,d||(d={}),this.discoveryDocumentLoaded$=this.discoveryDocumentLoadedSubject.asObservable(),this.events=this.eventsSubject.asObservable(),u&&(this.tokenValidationHandler=u),d&&this.configure(d);try{l?this.setStorage(l):typeof sessionStorage<"u"&&this.setStorage(sessionStorage)}catch(S){console.error("No OAuthStorage provided and cannot access default (sessionStorage).Consider providing a custom OAuthStorage implementation in your module.",S)}if(this.checkLocalStorageAccessable()){let S=window?.navigator?.userAgent;(S?.includes("MSIE ")||S?.includes("Trident"))&&(this.saveNoncesInLocalStorage=!0)}this.setupRefreshTimer()}checkLocalStorageAccessable(){if(typeof window>"u")return!1;let i="test";try{return typeof window.localStorage>"u"?!1:(localStorage.setItem(i,i),localStorage.removeItem(i),!0)}catch{return!1}}configure(i){Object.assign(this,new Gi,i),this.config=Object.assign({},new Gi,i),this.sessionChecksEnabled&&this.setupSessionCheck(),this.configChanged()}configChanged(){this.setupRefreshTimer()}restartSessionChecksIfStillLoggedIn(){this.hasValidIdToken()&&this.initSessionCheck()}restartRefreshTimerIfStillLoggedIn(){this.setupExpirationTimers()}setupSessionCheck(){this.events.pipe(Pe(i=>i.type==="token_received")).subscribe(()=>{this.initSessionCheck()})}setupAutomaticSilentRefresh(i={},s,l=!0){let u=!0;this.clearAutomaticRefreshTimer(),this.automaticRefreshSubscription=this.events.pipe(xe(d=>{d.type==="token_received"?u=!0:d.type==="logout"&&(u=!1)}),Pe(d=>d.type==="token_expires"&&(s==null||s==="any"||d.info===s)),rc(1e3)).subscribe(()=>{u&&this.refreshInternal(i,l).catch(()=>{this.debug("Automatic silent refresh did not work")})}),this.restartRefreshTimerIfStillLoggedIn()}refreshInternal(i,s){return!this.useSilentRefresh&&this.responseType==="code"?this.refreshToken():this.silentRefresh(i,s)}loadDiscoveryDocumentAndTryLogin(i=null){return this.loadDiscoveryDocument().then(()=>this.tryLogin(i))}loadDiscoveryDocumentAndLogin(i=null){return i=i||{},this.loadDiscoveryDocumentAndTryLogin(i).then(()=>{if(!this.hasValidIdToken()||!this.hasValidAccessToken()){let s=typeof i.state=="string"?i.state:"";return this.initLoginFlow(s),!1}else return!0})}debug(...i){this.showDebugInformation&&this.logger.debug(...i)}validateUrlFromDiscoveryDocument(i){let s=[],l=this.validateUrlForHttps(i),u=this.validateUrlAgainstIssuer(i);return l||s.push("https for all urls required. Also for urls received by discovery."),u||s.push("Every url in discovery document has to start with the issuer url.Also see property strictDiscoveryDocumentValidation."),s}validateUrlForHttps(i){if(!i)return!0;let s=i.toLowerCase();return this.requireHttps===!1||(s.match(/^http:\/\/localhost($|[:/])/)||s.match(/^http:\/\/localhost($|[:/])/))&&this.requireHttps==="remoteOnly"?!0:s.startsWith("https://")}assertUrlNotNullAndCorrectProtocol(i,s){if(!i)throw new Error(`'${s}' should not be null`);if(!this.validateUrlForHttps(i))throw new Error(`'${s}' must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).`)}validateUrlAgainstIssuer(i){return!this.strictDiscoveryDocumentValidation||!i?!0:i.toLowerCase().startsWith(this.issuer.toLowerCase())}setupRefreshTimer(){if(typeof window>"u"){this.debug("timer not supported on this plattform");return}(this.hasValidIdToken()||this.hasValidAccessToken())&&(this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()),this.tokenReceivedSubscription&&this.tokenReceivedSubscription.unsubscribe(),this.tokenReceivedSubscription=this.events.pipe(Pe(i=>i.type==="token_received")).subscribe(()=>{this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()})}setupExpirationTimers(){this.hasValidAccessToken()&&this.setupAccessTokenTimer(),!this.disableIdTokenTimer&&this.hasValidIdToken()&&this.setupIdTokenTimer()}setupAccessTokenTimer(){let i=this.getAccessTokenExpiration(),s=this.getAccessTokenStoredAt(),l=this.calcTimeout(s,i);this.ngZone.runOutsideAngular(()=>{this.accessTokenTimeoutSubscription=R(new dt("token_expires","access_token")).pipe(wr(l)).subscribe(u=>{this.ngZone.run(()=>{this.eventsSubject.next(u)})})})}setupIdTokenTimer(){let i=this.getIdTokenExpiration(),s=this.getIdTokenStoredAt(),l=this.calcTimeout(s,i);this.ngZone.runOutsideAngular(()=>{this.idTokenTimeoutSubscription=R(new dt("token_expires","id_token")).pipe(wr(l)).subscribe(u=>{this.ngZone.run(()=>{this.eventsSubject.next(u)})})})}stopAutomaticRefresh(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.clearAutomaticRefreshTimer()}clearAccessTokenTimer(){this.accessTokenTimeoutSubscription&&this.accessTokenTimeoutSubscription.unsubscribe()}clearIdTokenTimer(){this.idTokenTimeoutSubscription&&this.idTokenTimeoutSubscription.unsubscribe()}clearAutomaticRefreshTimer(){this.automaticRefreshSubscription&&this.automaticRefreshSubscription.unsubscribe()}calcTimeout(i,s){let l=this.dateTimeService.now(),u=(s-i)*this.timeoutFactor-(l-i),d=Math.max(0,u),m=2147483647;return d>m?m:d}setStorage(i){this._storage=i,this.configChanged()}loadDiscoveryDocument(i=null){return new Promise((s,l)=>{if(i||(i=this.issuer||"",i.endsWith("/")||(i+="/"),i+=".well-known/openid-configuration"),!this.validateUrlForHttps(i)){l("issuer  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return}this.http.get(i).subscribe(u=>{if(!this.validateDiscoveryDocument(u)){this.eventsSubject.next(new ge("discovery_document_validation_error",null)),l("discovery_document_validation_error");return}this.loginUrl=u.authorization_endpoint,this.logoutUrl=u.end_session_endpoint||this.logoutUrl,this.grantTypesSupported=u.grant_types_supported,this.issuer=u.issuer,this.tokenEndpoint=u.token_endpoint,this.userinfoEndpoint=u.userinfo_endpoint||this.userinfoEndpoint,this.jwksUri=u.jwks_uri,this.sessionCheckIFrameUrl=u.check_session_iframe||this.sessionCheckIFrameUrl,this.discoveryDocumentLoaded=!0,this.discoveryDocumentLoadedSubject.next(u),this.revocationEndpoint=u.revocation_endpoint||this.revocationEndpoint,this.sessionChecksEnabled&&this.restartSessionChecksIfStillLoggedIn(),this.loadJwks().then(d=>{let m={discoveryDocument:u,jwks:d},p=new Fe("discovery_document_loaded",m);this.eventsSubject.next(p),s(p)}).catch(d=>{this.eventsSubject.next(new ge("discovery_document_load_error",d)),l(d)})},u=>{this.logger.error("error loading discovery document",u),this.eventsSubject.next(new ge("discovery_document_load_error",u)),l(u)})})}loadJwks(){return new Promise((i,s)=>{this.jwksUri?this.http.get(this.jwksUri).subscribe(l=>{this.jwks=l,i(l)},l=>{this.logger.error("error loading jwks",l),this.eventsSubject.next(new ge("jwks_load_error",l)),s(l)}):i(null)})}validateDiscoveryDocument(i){let s;return!this.skipIssuerCheck&&i.issuer!==this.issuer?(this.logger.error("invalid issuer in discovery document","expected: "+this.issuer,"current: "+i.issuer),!1):(s=this.validateUrlFromDiscoveryDocument(i.authorization_endpoint),s.length>0?(this.logger.error("error validating authorization_endpoint in discovery document",s),!1):(s=this.validateUrlFromDiscoveryDocument(i.end_session_endpoint),s.length>0?(this.logger.error("error validating end_session_endpoint in discovery document",s),!1):(s=this.validateUrlFromDiscoveryDocument(i.token_endpoint),s.length>0&&this.logger.error("error validating token_endpoint in discovery document",s),s=this.validateUrlFromDiscoveryDocument(i.revocation_endpoint),s.length>0&&this.logger.error("error validating revocation_endpoint in discovery document",s),s=this.validateUrlFromDiscoveryDocument(i.userinfo_endpoint),s.length>0?(this.logger.error("error validating userinfo_endpoint in discovery document",s),!1):(s=this.validateUrlFromDiscoveryDocument(i.jwks_uri),s.length>0?(this.logger.error("error validating jwks_uri in discovery document",s),!1):(this.sessionChecksEnabled&&!i.check_session_iframe&&this.logger.warn("sessionChecksEnabled is activated but discovery document does not contain a check_session_iframe field"),!0)))))}fetchTokenUsingPasswordFlowAndLoadUserProfile(i,s,l=new Ae){return this.fetchTokenUsingPasswordFlow(i,s,l).then(()=>this.loadUserProfile())}loadUserProfile(){if(!this.hasValidAccessToken())throw new Error("Can not load User Profile without access_token");if(!this.validateUrlForHttps(this.userinfoEndpoint))throw new Error("userinfoEndpoint must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return new Promise((i,s)=>{let l=new Ae().set("Authorization","Bearer "+this.getAccessToken());this.http.get(this.userinfoEndpoint,{headers:l,observe:"response",responseType:"text"}).subscribe(u=>{if(this.debug("userinfo received",JSON.stringify(u)),u.headers.get("content-type").startsWith("application/json")){let d=JSON.parse(u.body),m=this.getIdentityClaims()||{};if(!this.skipSubjectCheck&&this.oidc&&(!m.sub||d.sub!==m.sub)){s(`if property oidc is true, the received user-id (sub) has to be the user-id of the user that has logged in with oidc.
if you are not using oidc but just oauth2 password flow set oidc to false`);return}d=Object.assign({},m,d),this._storage.setItem("id_token_claims_obj",JSON.stringify(d)),this.eventsSubject.next(new Fe("user_profile_loaded")),i({info:d})}else this.debug("userinfo is not JSON, treating it as JWE/JWS"),this.eventsSubject.next(new Fe("user_profile_loaded")),i(JSON.parse(u.body))},u=>{this.logger.error("error loading user info",u),this.eventsSubject.next(new ge("user_profile_load_error",u)),s(u)})})}fetchTokenUsingPasswordFlow(i,s,l=new Ae){let u={username:i,password:s};return this.fetchTokenUsingGrant("password",u,l)}fetchTokenUsingGrant(i,s,l=new Ae){this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let u=new Ze({encoder:new gi}).set("grant_type",i).set("scope",this.scope);if(this.useHttpBasicAuth){let d=btoa(`${this.clientId}:${this.dummyClientSecret}`);l=l.set("Authorization","Basic "+d)}if(this.useHttpBasicAuth||(u=u.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(u=u.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let d of Object.getOwnPropertyNames(this.customQueryParams))u=u.set(d,this.customQueryParams[d]);for(let d of Object.keys(s))u=u.set(d,s[d]);return l=l.set("Content-Type","application/x-www-form-urlencoded"),new Promise((d,m)=>{this.http.post(this.tokenEndpoint,u,{headers:l}).subscribe(p=>{this.debug("tokenResponse",p),this.storeAccessTokenResponse(p.access_token,p.refresh_token,p.expires_in||this.fallbackAccessTokenExpirationTimeInSec,p.scope,this.extractRecognizedCustomParameters(p)),this.oidc&&p.id_token&&this.processIdToken(p.id_token,p.access_token).then(w=>{this.storeIdToken(w),d(p)}),this.eventsSubject.next(new Fe("token_received")),d(p)},p=>{this.logger.error("Error performing ${grantType} flow",p),this.eventsSubject.next(new ge("token_error",p)),m(p)})})}refreshToken(){return this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint"),new Promise((i,s)=>{let l=new Ze({encoder:new gi}).set("grant_type","refresh_token").set("scope",this.scope).set("refresh_token",this._storage.getItem("refresh_token")),u=new Ae().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let d=btoa(`${this.clientId}:${this.dummyClientSecret}`);u=u.set("Authorization","Basic "+d)}if(this.useHttpBasicAuth||(l=l.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(l=l.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let d of Object.getOwnPropertyNames(this.customQueryParams))l=l.set(d,this.customQueryParams[d]);this.http.post(this.tokenEndpoint,l,{headers:u}).pipe($e(d=>this.oidc&&d.id_token?Oe(this.processIdToken(d.id_token,d.access_token,!0)).pipe(xe(m=>this.storeIdToken(m)),K(()=>d)):R(d))).subscribe(d=>{this.debug("refresh tokenResponse",d),this.storeAccessTokenResponse(d.access_token,d.refresh_token,d.expires_in||this.fallbackAccessTokenExpirationTimeInSec,d.scope,this.extractRecognizedCustomParameters(d)),this.eventsSubject.next(new Fe("token_received")),this.eventsSubject.next(new Fe("token_refreshed")),i(d)},d=>{this.logger.error("Error refreshing token",d),this.eventsSubject.next(new ge("token_refresh_error",d)),s(d)})})}removeSilentRefreshEventListener(){this.silentRefreshPostMessageEventListener&&(window.removeEventListener("message",this.silentRefreshPostMessageEventListener),this.silentRefreshPostMessageEventListener=null)}setupSilentRefreshEventListener(){this.removeSilentRefreshEventListener(),this.silentRefreshPostMessageEventListener=i=>{let s=this.processMessageEventMessage(i);this.checkOrigin&&i.origin!==location.origin&&console.error("wrong origin requested silent refresh!"),this.tryLogin({customHashFragment:s,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri||this.redirectUri}).catch(l=>this.debug("tryLogin during silent refresh failed",l))},window.addEventListener("message",this.silentRefreshPostMessageEventListener)}silentRefresh(i={},s=!0){let l=this.getIdentityClaims()||{};if(this.useIdTokenHintForSilentRefresh&&this.hasValidIdToken()&&(i.id_token_hint=this.getIdToken()),!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(typeof this.document>"u")throw new Error("silent refresh is not supported on this platform");let u=this.document.getElementById(this.silentRefreshIFrameName);u&&this.document.body.removeChild(u),this.silentRefreshSubject=l.sub;let d=this.document.createElement("iframe");d.id=this.silentRefreshIFrameName,this.setupSilentRefreshEventListener();let m=this.silentRefreshRedirectUri||this.redirectUri;this.createLoginUrl(null,null,m,s,i).then(_=>{d.setAttribute("src",_),this.silentRefreshShowIFrame||(d.style.display="none"),this.document.body.appendChild(d)});let p=this.events.pipe(Pe(_=>_ instanceof ge),it()),w=this.events.pipe(Pe(_=>_.type==="token_received"),it()),P=R(new ge("silent_refresh_timeout",null)).pipe(wr(this.silentRefreshTimeout));return nc([p,w,P]).pipe(K(_=>{if(_ instanceof ge)throw _.type==="silent_refresh_timeout"?this.eventsSubject.next(_):(_=new ge("silent_refresh_error",_),this.eventsSubject.next(_)),_;return _.type==="token_received"&&(_=new Fe("silently_refreshed"),this.eventsSubject.next(_)),_})).toPromise()}initImplicitFlowInPopup(i){return this.initLoginFlowInPopup(i)}initLoginFlowInPopup(i){return i=i||{},this.createLoginUrl(null,null,this.silentRefreshRedirectUri,!1,{display:"popup"}).then(s=>new Promise((l,u)=>{let m=null;i.windowRef?i.windowRef&&!i.windowRef.closed&&(m=i.windowRef,m.location.href=s):m=window.open(s,"ngx-oauth2-oidc-login",this.calculatePopupFeatures(i));let p,w=te=>{this.tryLogin({customHashFragment:te,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri}).then(()=>{_(),l(!0)},F=>{_(),u(F)})},P=()=>{(!m||m.closed)&&(_(),u(new ge("popup_closed",{})))};m?p=window.setInterval(P,500):u(new ge("popup_blocked",{}));let _=()=>{window.clearInterval(p),window.removeEventListener("storage",A),window.removeEventListener("message",S),m!==null&&m.close(),m=null},S=te=>{let F=this.processMessageEventMessage(te);F&&F!==null?(window.removeEventListener("storage",A),w(F)):console.log("false event firing")},A=te=>{te.key==="auth_hash"&&(window.removeEventListener("message",S),w(te.newValue))};window.addEventListener("message",S),window.addEventListener("storage",A)}))}calculatePopupFeatures(i){let s=i.height||470,l=i.width||500,u=window.screenLeft+(window.outerWidth-l)/2,d=window.screenTop+(window.outerHeight-s)/2;return`location=no,toolbar=no,width=${l},height=${s},top=${d},left=${u}`}processMessageEventMessage(i){let s="#";if(this.silentRefreshMessagePrefix&&(s+=this.silentRefreshMessagePrefix),!i||!i.data||typeof i.data!="string")return;let l=i.data;if(l.startsWith(s))return"#"+l.substr(s.length)}canPerformSessionCheck(){return this.sessionChecksEnabled?this.sessionCheckIFrameUrl?this.getSessionState()?!(typeof this.document>"u"):(console.warn("sessionChecksEnabled is activated but there is no session_state"),!1):(console.warn("sessionChecksEnabled is activated but there is no sessionCheckIFrameUrl"),!1):!1}setupSessionCheckEventListener(){this.removeSessionCheckEventListener(),this.sessionCheckEventListener=i=>{let s=i.origin.toLowerCase(),l=this.issuer.toLowerCase();if(this.debug("sessionCheckEventListener"),!l.startsWith(s)){this.debug("sessionCheckEventListener","wrong origin",s,"expected",l,"event",i);return}switch(i.data){case"unchanged":this.ngZone.run(()=>{this.handleSessionUnchanged()});break;case"changed":this.ngZone.run(()=>{this.handleSessionChange()});break;case"error":this.ngZone.run(()=>{this.handleSessionError()});break}this.debug("got info from session check inframe",i)},this.ngZone.runOutsideAngular(()=>{window.addEventListener("message",this.sessionCheckEventListener)})}handleSessionUnchanged(){this.debug("session check","session unchanged"),this.eventsSubject.next(new dt("session_unchanged"))}handleSessionChange(){this.eventsSubject.next(new dt("session_changed")),this.stopSessionCheckTimer(),!this.useSilentRefresh&&this.responseType==="code"?this.refreshToken().then(()=>{this.debug("token refresh after session change worked")}).catch(()=>{this.debug("token refresh did not work after session changed"),this.eventsSubject.next(new dt("session_terminated")),this.logOut(!0)}):this.silentRefreshRedirectUri?(this.silentRefresh().catch(()=>this.debug("silent refresh failed after session changed")),this.waitForSilentRefreshAfterSessionChange()):(this.eventsSubject.next(new dt("session_terminated")),this.logOut(!0))}waitForSilentRefreshAfterSessionChange(){this.events.pipe(Pe(i=>i.type==="silently_refreshed"||i.type==="silent_refresh_timeout"||i.type==="silent_refresh_error"),it()).subscribe(i=>{i.type!=="silently_refreshed"&&(this.debug("silent refresh did not work after session changed"),this.eventsSubject.next(new dt("session_terminated")),this.logOut(!0))})}handleSessionError(){this.stopSessionCheckTimer(),this.eventsSubject.next(new dt("session_error"))}removeSessionCheckEventListener(){this.sessionCheckEventListener&&(window.removeEventListener("message",this.sessionCheckEventListener),this.sessionCheckEventListener=null)}initSessionCheck(){if(!this.canPerformSessionCheck())return;let i=this.document.getElementById(this.sessionCheckIFrameName);i&&this.document.body.removeChild(i);let s=this.document.createElement("iframe");s.id=this.sessionCheckIFrameName,this.setupSessionCheckEventListener();let l=this.sessionCheckIFrameUrl;s.setAttribute("src",l),s.style.display="none",this.document.body.appendChild(s),this.startSessionCheckTimer()}startSessionCheckTimer(){this.stopSessionCheckTimer(),this.ngZone.runOutsideAngular(()=>{this.sessionCheckTimer=setInterval(this.checkSession.bind(this),this.sessionCheckIntervall)})}stopSessionCheckTimer(){this.sessionCheckTimer&&(clearInterval(this.sessionCheckTimer),this.sessionCheckTimer=null)}checkSession(){let i=this.document.getElementById(this.sessionCheckIFrameName);i||this.logger.warn("checkSession did not find iframe",this.sessionCheckIFrameName);let s=this.getSessionState();s||this.stopSessionCheckTimer();let l=this.clientId+" "+s;i.contentWindow.postMessage(l,this.issuer)}createLoginUrl(){return X(this,arguments,function*(i="",s="",l="",u=!1,d={}){let m=this,p;l?p=l:p=this.redirectUri;let w=yield this.createAndSaveNonce();if(i?i=w+this.config.nonceStateSeparator+encodeURIComponent(i):i=w,!this.requestAccessToken&&!this.oidc)throw new Error("Either requestAccessToken or oidc or both must be true");this.config.responseType?this.responseType=this.config.responseType:this.oidc&&this.requestAccessToken?this.responseType="id_token token":this.oidc&&!this.requestAccessToken?this.responseType="id_token":this.responseType="token";let P=m.loginUrl.indexOf("?")>-1?"&":"?",_=m.scope;this.oidc&&!_.match(/(^|\s)openid($|\s)/)&&(_="openid "+_);let S=m.loginUrl+P+"response_type="+encodeURIComponent(m.responseType)+"&client_id="+encodeURIComponent(m.clientId)+"&state="+encodeURIComponent(i)+"&redirect_uri="+encodeURIComponent(p)+"&scope="+encodeURIComponent(_);if(this.responseType.includes("code")&&!this.disablePKCE){let[A,te]=yield this.createChallangeVerifierPairForPKCE();this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("PKCE_verifier",te):this._storage.setItem("PKCE_verifier",te),S+="&code_challenge="+A,S+="&code_challenge_method=S256"}s&&(S+="&login_hint="+encodeURIComponent(s)),m.resource&&(S+="&resource="+encodeURIComponent(m.resource)),m.oidc&&(S+="&nonce="+encodeURIComponent(w)),u&&(S+="&prompt=none");for(let A of Object.keys(d))S+="&"+encodeURIComponent(A)+"="+encodeURIComponent(d[A]);if(this.customQueryParams)for(let A of Object.getOwnPropertyNames(this.customQueryParams))S+="&"+A+"="+encodeURIComponent(this.customQueryParams[A]);return S})}initImplicitFlowInternal(i="",s=""){if(this.inImplicitFlow)return;if(this.inImplicitFlow=!0,!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let l={},u=null;typeof s=="string"?u=s:typeof s=="object"&&(l=s),this.createLoginUrl(i,u,null,!1,l).then(this.config.openUri).catch(d=>{console.error("Error in initImplicitFlow",d),this.inImplicitFlow=!1})}initImplicitFlow(i="",s=""){this.loginUrl!==""?this.initImplicitFlowInternal(i,s):this.events.pipe(Pe(l=>l.type==="discovery_document_loaded")).subscribe(()=>this.initImplicitFlowInternal(i,s))}resetImplicitFlow(){this.inImplicitFlow=!1}callOnTokenReceivedIfExists(i){let s=this;if(i.onTokenReceived){let l={idClaims:s.getIdentityClaims(),idToken:s.getIdToken(),accessToken:s.getAccessToken(),state:s.state};i.onTokenReceived(l)}}storeAccessTokenResponse(i,s,l,u,d){if(this._storage.setItem("access_token",i),u&&!Array.isArray(u)?this._storage.setItem("granted_scopes",JSON.stringify(u.split(" "))):u&&Array.isArray(u)&&this._storage.setItem("granted_scopes",JSON.stringify(u)),this._storage.setItem("access_token_stored_at",""+this.dateTimeService.now()),l){let m=l*1e3,w=this.dateTimeService.new().getTime()+m;this._storage.setItem("expires_at",""+w)}s&&this._storage.setItem("refresh_token",s),d&&d.forEach((m,p)=>{this._storage.setItem(p,m)})}tryLogin(i=null){return this.config.responseType==="code"?this.tryLoginCodeFlow(i).then(()=>!0):this.tryLoginImplicitFlow(i)}parseQueryString(i){return!i||i.length===0?{}:(i.charAt(0)==="?"&&(i=i.substr(1)),this.urlHelper.parseQueryString(i))}tryLoginCodeFlow(i=null){return X(this,null,function*(){i=i||{};let s=i.customHashFragment?i.customHashFragment.substring(1):window.location.search,l=this.getCodePartsFromUrl(s),u=l.code,d=l.state,m=l.session_state;if(!i.preventClearHashAfterLogin){let P=location.origin+location.pathname+location.search.replace(/code=[^&$]*/,"").replace(/scope=[^&$]*/,"").replace(/state=[^&$]*/,"").replace(/session_state=[^&$]*/,"").replace(/^\?&/,"?").replace(/&$/,"").replace(/^\?$/,"").replace(/&+/g,"&").replace(/\?&/,"?").replace(/\?$/,"")+location.hash;history.replaceState(null,window.name,P)}let[p,w]=this.parseState(d);if(this.state=w,l.error){this.debug("error trying to login"),this.handleLoginError(i,l);let P=new ge("code_error",{},l);return this.eventsSubject.next(P),Promise.reject(P)}if(!i.disableNonceCheck){if(!p)return this.saveRequestedRoute(),Promise.resolve();if(!i.disableOAuth2StateCheck&&!this.validateNonce(p)){let _=new ge("invalid_nonce_in_state",null);return this.eventsSubject.next(_),Promise.reject(_)}}return this.storeSessionState(m),u&&(yield this.getTokenFromCode(u,i),this.restoreRequestedRoute()),Promise.resolve()})}saveRequestedRoute(){this.config.preserveRequestedRoute&&this._storage.setItem("requested_route",window.location.pathname+window.location.search)}restoreRequestedRoute(){let i=this._storage.getItem("requested_route");i&&history.replaceState(null,"",window.location.origin+i)}getCodePartsFromUrl(i){return!i||i.length===0?this.urlHelper.getHashFragmentParams():(i.charAt(0)==="?"&&(i=i.substr(1)),this.urlHelper.parseQueryString(i))}getTokenFromCode(i,s){let l=new Ze({encoder:new gi}).set("grant_type","authorization_code").set("code",i).set("redirect_uri",s.customRedirectUri||this.redirectUri);if(!this.disablePKCE){let u;this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?u=localStorage.getItem("PKCE_verifier"):u=this._storage.getItem("PKCE_verifier"),u?l=l.set("code_verifier",u):console.warn("No PKCE verifier found in oauth storage!")}return this.fetchAndProcessToken(l,s)}fetchAndProcessToken(i,s){s=s||{},this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let l=new Ae().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let u=btoa(`${this.clientId}:${this.dummyClientSecret}`);l=l.set("Authorization","Basic "+u)}return this.useHttpBasicAuth||(i=i.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(i=i.set("client_secret",this.dummyClientSecret)),new Promise((u,d)=>{if(this.customQueryParams)for(let m of Object.getOwnPropertyNames(this.customQueryParams))i=i.set(m,this.customQueryParams[m]);this.http.post(this.tokenEndpoint,i,{headers:l}).subscribe(m=>{this.debug("refresh tokenResponse",m),this.storeAccessTokenResponse(m.access_token,m.refresh_token,m.expires_in||this.fallbackAccessTokenExpirationTimeInSec,m.scope,this.extractRecognizedCustomParameters(m)),this.oidc&&m.id_token?this.processIdToken(m.id_token,m.access_token,s.disableNonceCheck).then(p=>{this.storeIdToken(p),this.eventsSubject.next(new Fe("token_received")),this.eventsSubject.next(new Fe("token_refreshed")),u(m)}).catch(p=>{this.eventsSubject.next(new ge("token_validation_error",p)),console.error("Error validating tokens"),console.error(p),d(p)}):(this.eventsSubject.next(new Fe("token_received")),this.eventsSubject.next(new Fe("token_refreshed")),u(m))},m=>{console.error("Error getting token",m),this.eventsSubject.next(new ge("token_refresh_error",m)),d(m)})})}tryLoginImplicitFlow(i=null){i=i||{};let s;i.customHashFragment?s=this.urlHelper.getHashFragmentParams(i.customHashFragment):s=this.urlHelper.getHashFragmentParams(),this.debug("parsed url",s);let l=s.state,[u,d]=this.parseState(l);if(this.state=d,s.error){this.debug("error trying to login"),this.handleLoginError(i,s);let _=new ge("token_error",{},s);return this.eventsSubject.next(_),Promise.reject(_)}let m=s.access_token,p=s.id_token,w=s.session_state,P=s.scope;if(!this.requestAccessToken&&!this.oidc)return Promise.reject("Either requestAccessToken or oidc (or both) must be true.");if(this.requestAccessToken&&!m||this.requestAccessToken&&!i.disableOAuth2StateCheck&&!l||this.oidc&&!p)return Promise.resolve(!1);if(this.sessionChecksEnabled&&!w&&this.logger.warn("session checks (Session Status Change Notification) were activated in the configuration but the id_token does not contain a session_state claim"),this.requestAccessToken&&!i.disableNonceCheck&&!this.validateNonce(u)){let S=new ge("invalid_nonce_in_state",null);return this.eventsSubject.next(S),Promise.reject(S)}return this.requestAccessToken&&this.storeAccessTokenResponse(m,null,s.expires_in||this.fallbackAccessTokenExpirationTimeInSec,P),this.oidc?this.processIdToken(p,m,i.disableNonceCheck).then(_=>i.validationHandler?i.validationHandler({accessToken:m,idClaims:_.idTokenClaims,idToken:_.idToken,state:l}).then(()=>_):_).then(_=>(this.storeIdToken(_),this.storeSessionState(w),this.clearHashAfterLogin&&!i.preventClearHashAfterLogin&&this.clearLocationHash(),this.eventsSubject.next(new Fe("token_received")),this.callOnTokenReceivedIfExists(i),this.inImplicitFlow=!1,!0)).catch(_=>(this.eventsSubject.next(new ge("token_validation_error",_)),this.logger.error("Error validating tokens"),this.logger.error(_),Promise.reject(_))):(this.eventsSubject.next(new Fe("token_received")),this.clearHashAfterLogin&&!i.preventClearHashAfterLogin&&this.clearLocationHash(),this.callOnTokenReceivedIfExists(i),Promise.resolve(!0))}parseState(i){let s=i,l="";if(i){let u=i.indexOf(this.config.nonceStateSeparator);u>-1&&(s=i.substr(0,u),l=i.substr(u+this.config.nonceStateSeparator.length))}return[s,l]}validateNonce(i){let s;return this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?s=localStorage.getItem("nonce"):s=this._storage.getItem("nonce"),s!==i?(console.error("Validating access_token failed, wrong state/nonce.",s,i),!1):!0}storeIdToken(i){this._storage.setItem("id_token",i.idToken),this._storage.setItem("id_token_claims_obj",i.idTokenClaimsJson),this._storage.setItem("id_token_expires_at",""+i.idTokenExpiresAt),this._storage.setItem("id_token_stored_at",""+this.dateTimeService.now())}storeSessionState(i){this._storage.setItem("session_state",i)}getSessionState(){return this._storage.getItem("session_state")}handleLoginError(i,s){i.onLoginError&&i.onLoginError(s),this.clearHashAfterLogin&&!i.preventClearHashAfterLogin&&this.clearLocationHash()}getClockSkewInMsec(i=6e5){return!this.clockSkewInSec&&this.clockSkewInSec!==0?i:this.clockSkewInSec*1e3}processIdToken(i,s,l=!1){let u=i.split("."),d=this.padBase64(u[0]),m=eh(d),p=JSON.parse(m),w=this.padBase64(u[1]),P=eh(w),_=JSON.parse(P),S;if(this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?S=localStorage.getItem("nonce"):S=this._storage.getItem("nonce"),Array.isArray(_.aud)){if(_.aud.every(G=>G!==this.clientId)){let G="Wrong audience: "+_.aud.join(",");return this.logger.warn(G),Promise.reject(G)}}else if(_.aud!==this.clientId){let G="Wrong audience: "+_.aud;return this.logger.warn(G),Promise.reject(G)}if(!_.sub){let G="No sub claim in id_token";return this.logger.warn(G),Promise.reject(G)}if(this.sessionChecksEnabled&&this.silentRefreshSubject&&this.silentRefreshSubject!==_.sub){let G=`After refreshing, we got an id_token for another user (sub). Expected sub: ${this.silentRefreshSubject}, received sub: ${_.sub}`;return this.logger.warn(G),Promise.reject(G)}if(!_.iat){let G="No iat claim in id_token";return this.logger.warn(G),Promise.reject(G)}if(!this.skipIssuerCheck&&_.iss!==this.issuer){let G="Wrong issuer: "+_.iss;return this.logger.warn(G),Promise.reject(G)}if(!l&&_.nonce!==S){let G="Wrong nonce: "+_.nonce;return this.logger.warn(G),Promise.reject(G)}if(Object.prototype.hasOwnProperty.call(this,"responseType")&&(this.responseType==="code"||this.responseType==="id_token")&&(this.disableAtHashCheck=!0),!this.disableAtHashCheck&&this.requestAccessToken&&!_.at_hash){let G="An at_hash is needed!";return this.logger.warn(G),Promise.reject(G)}let A=this.dateTimeService.now(),te=_.iat*1e3,F=_.exp*1e3,j=this.getClockSkewInMsec();if(te-j>=A||F+j-this.decreaseExpirationBySec<=A){let G="Token has expired";return console.error(G),console.error({now:A,issuedAtMSec:te,expiresAtMSec:F}),Promise.reject(G)}let ke={accessToken:s,idToken:i,jwks:this.jwks,idTokenClaims:_,idTokenHeader:p,loadKeys:()=>this.loadJwks()};return this.disableAtHashCheck?this.checkSignature(ke).then(()=>({idToken:i,idTokenClaims:_,idTokenClaimsJson:P,idTokenHeader:p,idTokenHeaderJson:m,idTokenExpiresAt:F})):this.checkAtHash(ke).then(G=>{if(!this.disableAtHashCheck&&this.requestAccessToken&&!G){let fe="Wrong at_hash";return this.logger.warn(fe),Promise.reject(fe)}return this.checkSignature(ke).then(()=>{let fe=!this.disableAtHashCheck,Ct={idToken:i,idTokenClaims:_,idTokenClaimsJson:P,idTokenHeader:p,idTokenHeaderJson:m,idTokenExpiresAt:F};return fe?this.checkAtHash(ke).then(vi=>{if(this.requestAccessToken&&!vi){let Nt="Wrong at_hash";return this.logger.warn(Nt),Promise.reject(Nt)}else return Ct}):Ct})})}getIdentityClaims(){let i=this._storage.getItem("id_token_claims_obj");return i?JSON.parse(i):null}getGrantedScopes(){let i=this._storage.getItem("granted_scopes");return i?JSON.parse(i):null}getIdToken(){return this._storage?this._storage.getItem("id_token"):null}padBase64(i){for(;i.length%4!==0;)i+="=";return i}getAccessToken(){return this._storage?this._storage.getItem("access_token"):null}getRefreshToken(){return this._storage?this._storage.getItem("refresh_token"):null}getAccessTokenExpiration(){return this._storage.getItem("expires_at")?parseInt(this._storage.getItem("expires_at"),10):null}getAccessTokenStoredAt(){return parseInt(this._storage.getItem("access_token_stored_at"),10)}getIdTokenStoredAt(){return parseInt(this._storage.getItem("id_token_stored_at"),10)}getIdTokenExpiration(){return this._storage.getItem("id_token_expires_at")?parseInt(this._storage.getItem("id_token_expires_at"),10):null}hasValidAccessToken(){if(this.getAccessToken()){let i=this._storage.getItem("expires_at"),s=this.dateTimeService.new();return!(i&&parseInt(i,10)-this.decreaseExpirationBySec<s.getTime()-this.getClockSkewInMsec())}return!1}hasValidIdToken(){if(this.getIdToken()){let i=this._storage.getItem("id_token_expires_at"),s=this.dateTimeService.new();return!(i&&parseInt(i,10)-this.decreaseExpirationBySec<s.getTime()-this.getClockSkewInMsec())}return!1}getCustomTokenResponseProperty(i){return this._storage&&this.config.customTokenParameters&&this.config.customTokenParameters.indexOf(i)>=0&&this._storage.getItem(i)!==null?JSON.parse(this._storage.getItem(i)):null}authorizationHeader(){return"Bearer "+this.getAccessToken()}logOut(i={},s=""){let l=!1;typeof i=="boolean"&&(l=i,i={});let u=this.getIdToken();if(this._storage.removeItem("access_token"),this._storage.removeItem("id_token"),this._storage.removeItem("refresh_token"),this.saveNoncesInLocalStorage?(localStorage.removeItem("nonce"),localStorage.removeItem("PKCE_verifier")):(this._storage.removeItem("nonce"),this._storage.removeItem("PKCE_verifier")),this._storage.removeItem("expires_at"),this._storage.removeItem("id_token_claims_obj"),this._storage.removeItem("id_token_expires_at"),this._storage.removeItem("id_token_stored_at"),this._storage.removeItem("access_token_stored_at"),this._storage.removeItem("granted_scopes"),this._storage.removeItem("session_state"),this.config.customTokenParameters&&this.config.customTokenParameters.forEach(m=>this._storage.removeItem(m)),this.silentRefreshSubject=null,this.eventsSubject.next(new dt("logout")),!this.logoutUrl||l)return;let d;if(!this.validateUrlForHttps(this.logoutUrl))throw new Error("logoutUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(this.logoutUrl.indexOf("{{")>-1)d=this.logoutUrl.replace(/\{\{id_token\}\}/,encodeURIComponent(u)).replace(/\{\{client_id\}\}/,encodeURIComponent(this.clientId));else{let m=new Ze({encoder:new gi});u&&(m=m.set("id_token_hint",u));let p=this.postLogoutRedirectUri||this.redirectUriAsPostLogoutRedirectUriFallback&&this.redirectUri||"";p&&(m=m.set("post_logout_redirect_uri",p),s&&(m=m.set("state",s)));for(let w in i)m=m.set(w,i[w]);d=this.logoutUrl+(this.logoutUrl.indexOf("?")>-1?"&":"?")+m.toString()}this.config.openUri(d)}createAndSaveNonce(){let i=this;return this.createNonce().then(function(s){return i.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("nonce",s):i._storage.setItem("nonce",s),s})}ngOnDestroy(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.removeSilentRefreshEventListener();let i=this.document.getElementById(this.silentRefreshIFrameName);i&&i.remove(),this.stopSessionCheckTimer(),this.removeSessionCheckEventListener();let s=this.document.getElementById(this.sessionCheckIFrameName);s&&s.remove()}createNonce(){return new Promise(i=>{if(this.rngUrl)throw new Error("createNonce with rng-web-api has not been implemented so far");let s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=45,u="",d=typeof self>"u"?null:self.crypto||self.msCrypto;if(d){let m=new Uint8Array(l);d.getRandomValues(m),m.map||(m.map=Array.prototype.map),m=m.map(p=>s.charCodeAt(p%s.length)),u=String.fromCharCode.apply(null,m)}else for(;0<l--;)u+=s[Math.random()*s.length|0];i(th(u))})}checkAtHash(i){return X(this,null,function*(){return this.tokenValidationHandler?this.tokenValidationHandler.validateAtHash(i):(this.logger.warn("No tokenValidationHandler configured. Cannot check at_hash."),!0)})}checkSignature(i){return this.tokenValidationHandler?this.tokenValidationHandler.validateSignature(i):(this.logger.warn("No tokenValidationHandler configured. Cannot check signature."),Promise.resolve(null))}initLoginFlow(i="",s={}){return this.responseType==="code"?this.initCodeFlow(i,s):this.initImplicitFlow(i,s)}initCodeFlow(i="",s={}){this.loginUrl!==""?this.initCodeFlowInternal(i,s):this.events.pipe(Pe(l=>l.type==="discovery_document_loaded")).subscribe(()=>this.initCodeFlowInternal(i,s))}initCodeFlowInternal(i="",s={}){if(!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let l={},u=null;typeof s=="string"?u=s:typeof s=="object"&&(l=s),this.createLoginUrl(i,u,null,!1,l).then(this.config.openUri).catch(d=>{console.error("Error in initAuthorizationCodeFlow"),console.error(d)})}createChallangeVerifierPairForPKCE(){return X(this,null,function*(){if(!this.crypto)throw new Error("PKCE support for code flow needs a CryptoHander. Did you import the OAuthModule using forRoot() ?");let i=yield this.createNonce(),s=yield this.crypto.calcHash(i,"sha-256");return[th(s),i]})}extractRecognizedCustomParameters(i){let s=new Map;return this.config.customTokenParameters&&this.config.customTokenParameters.forEach(l=>{i[l]&&s.set(l,JSON.stringify(i[l]))}),s}revokeTokenAndLogout(i={},s=!1){let l=this.revocationEndpoint,u=this.getAccessToken(),d=this.getRefreshToken();if(!u)return Promise.resolve();let m=new Ze({encoder:new gi}),p=new Ae().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let w=btoa(`${this.clientId}:${this.dummyClientSecret}`);p=p.set("Authorization","Basic "+w)}if(this.useHttpBasicAuth||(m=m.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(m=m.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let w of Object.getOwnPropertyNames(this.customQueryParams))m=m.set(w,this.customQueryParams[w]);return new Promise((w,P)=>{let _,S;if(u){let A=m.set("token",u).set("token_type_hint","access_token");_=this.http.post(l,A,{headers:p})}else _=R(null);if(d){let A=m.set("token",d).set("token_type_hint","refresh_token");S=this.http.post(l,A,{headers:p})}else S=R(null);s&&(_=_.pipe(tt(A=>A.status===0?R(null):Mt(A))),S=S.pipe(tt(A=>A.status===0?R(null):Mt(A)))),pn([_,S]).subscribe(A=>{this.logOut(i),w(A),this.logger.info("Token successfully revoked")},A=>{this.logger.error("Error revoking token",A),this.eventsSubject.next(new ge("token_revoke_error",A)),P(A)})})}clearLocationHash(){location.hash!=""&&(location.hash="")}};t.\u0275fac=function(s){return new(s||t)(D(ye),D(En),D(ls,8),D(cs,8),D(Gi,8),D(ih),D(as),D(us,8),D(ve),D(qn))},t.\u0275prov=N({token:t,factory:t.\u0275fac});let r=t;return r})(),hs=class{},ba=class{handleError(t){return Mt(t)}},vg=(()=>{let t=class t{constructor(i,s,l){this.oAuthService=i,this.errorHandler=s,this.moduleConfig=l}checkUrl(i){return this.moduleConfig.resourceServer.customUrlValidation?this.moduleConfig.resourceServer.customUrlValidation(i):this.moduleConfig.resourceServer.allowedUrls?!!this.moduleConfig.resourceServer.allowedUrls.find(s=>i.toLowerCase().startsWith(s.toLowerCase())):!0}intercept(i,s){let l=i.url.toLowerCase();return!this.moduleConfig||!this.moduleConfig.resourceServer||!this.checkUrl(l)?s.handle(i):this.moduleConfig.resourceServer.sendAccessToken?ic(R(this.oAuthService.getAccessToken()).pipe(Pe(d=>!!d)),this.oAuthService.events.pipe(Pe(d=>d.type==="token_received"),Ql(this.oAuthService.waitForTokenInMsec||0),tt(()=>R(null)),K(()=>this.oAuthService.getAccessToken()))).pipe(Bt(1),He(d=>{if(d){let m="Bearer "+d,p=i.headers.set("Authorization",m);i=i.clone({headers:p})}return s.handle(i).pipe(tt(m=>this.errorHandler.handleError(m)))})):s.handle(i).pipe(tt(d=>this.errorHandler.handleError(d)))}};t.\u0275fac=function(s){return new(s||t)(D(ds),D(hs),D(os,8))},t.\u0275prov=N({token:t,factory:t.\u0275fac});let r=t;return r})();function _g(){return console}function yg(){return typeof sessionStorage<"u"?sessionStorage:new ug}function rh(r=null,t=ya){return ct([ds,ih,{provide:as,useFactory:_g},{provide:ls,useFactory:yg},{provide:cs,useClass:t},{provide:us,useClass:gg},{provide:hs,useClass:ba},{provide:os,useValue:r},{provide:ru,useClass:vg,multi:!0},{provide:qn,useClass:cg}])}var hy=new re("AUTH_CONFIG");var rt=(()=>{let t=class t{constructor(i,s){this.oAuthService=i,this.router=s,this.profileSubject=new Be(null),this.profile$=this.profileSubject.asObservable(),this.initConfiguration(),this.loadUserProfile()}initConfiguration(){let i={issuer:"https://accounts.google.com",strictDiscoveryDocumentValidation:!1,clientId:ss.googleClientId,redirectUri:window.location.origin+"/Angular_localisation_app/home",scope:"openid profile email",responseType:"token id_token",showDebugInformation:!0};this.oAuthService.configure(i),this.oAuthService.setupAutomaticSilentRefresh(),this.oAuthService.loadDiscoveryDocumentAndTryLogin().then(()=>{this.oAuthService.hasValidAccessToken()&&this.fetchAndSetProfile()})}login(){this.oAuthService.initImplicitFlow()}logout(){return X(this,null,function*(){this.oAuthService.revokeTokenAndLogout().then(()=>{this.router.navigate(["/"])})})}fetchAndSetProfile(){let i=this.oAuthService.getIdentityClaims(),s={sub:i?.sub,email:i?.email,name:i?.name,picture:i?.picture};this.profileSubject.next(s)}loadUserProfile(){this.oAuthService.hasValidAccessToken()&&this.fetchAndSetProfile()}getToken(){return this.oAuthService.getAccessToken()}getIdToken(){return this.oAuthService.getIdToken()}};t.\u0275fac=function(s){return new(s||t)(D(ds),D(mi))},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var sh=(()=>{let t=class t{constructor(i){this.authService=i,this.authService.login()}};t.\u0275fac=function(s){return new(s||t)($(rt))},t.\u0275cmp=ee({type:t,selectors:[["app-login-page"]],standalone:!0,features:[ne],decls:0,vars:0,template:function(s,l){}});let r=t;return r})();function bg(r,t){r&1&&Q(0,"div")}function Cg(r,t){if(r&1){let o=Wt();b(0,"p"),x(1,"User not logged in."),C(),b(2,"button",16),Me("click",function(){kt(o);let s=se();return Dt(s.logout())}),x(3,"Retour"),C()}}var Xt=(()=>{let t=class t{constructor(i){this.authService=i}logout(){return X(this,null,function*(){yield this.authService.logout()})}};t.\u0275fac=function(s){return new(s||t)($(rt))},t.\u0275cmp=ee({type:t,selectors:[["app-header"]],inputs:{activePage:"activePage",profile:"profile"},standalone:!0,features:[ne],decls:24,vars:12,consts:[["notLoggedIn",""],[1,"navbar","navbar-expand-lg","navbar-dark","fixed-top"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNavDropdown","aria-controls","navbarNavDropdown","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNavDropdown",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["routerLink","/home","aria-current","page","href","#"],["routerLink","/wx","href","#"],["routerLink","/history","href","#"],[1,"dashboard"],[4,"ngIf","ngIfElse"],["alt","profile",1,"Photo_profile",3,"src"],[1,"btn","btn-black","ms-3","text-secondary",3,"click"],[3,"click"]],template:function(s,l){if(s&1){let u=Wt();b(0,"nav",1)(1,"div",2)(2,"a",3),x(3,"SkyFind"),C(),b(4,"button",4),Q(5,"span",5),C(),b(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),x(10,"Accueil"),C()(),b(11,"li",8)(12,"a",10),x(13,"M\xE9t\xE9o"),C()(),b(14,"li",8)(15,"a",11),x(16,"Historique"),C()()()(),b(17,"div",12),Ee(18,bg,1,0,"div",13),Q(19,"img",14),b(20,"button",15),Me("click",function(){return kt(u),Dt(l.logout())}),x(21,"Log Out"),C(),Ee(22,Cg,4,0,"ng-template",null,0,ht),C()()()}if(s&2){let u=ut(23);M(9),xr("nav-link ",l.activePage==="home"?"active":"",""),M(3),xr("nav-link ",l.activePage==="meteo"?"active":"",""),M(3),xr("nav-link ",l.activePage==="historique"?"active":"",""),M(3),U("ngIf",l.profile)("ngIfElse",u),M(),U("src",l.profile.picture,Cc)}},dependencies:[wt,Te,qe],styles:["nav[_ngcontent-%COMP%]{background-color:#000;box-shadow:#00000029 0 3px 6px,#0000003b 0 3px 6px}.Photo_profile[_ngcontent-%COMP%]{width:5vh;height:5vh;border-radius:50px}"]});let r=t;return r})();function xg(r,t){if(r&1&&Q(0,"app-header",5),r&2){let o=se();U("activePage",o.activePage)("profile",o.profile)}}function Tg(r,t){if(r&1&&(b(0,"div",6)(1,"header")(2,"div",7)(3,"div",8)(4,"div",9),Q(5,"p",10),b(6,"h1",11),x(7,"SkyFind"),C()()()()(),b(8,"section",12)(9,"div",13)(10,"div",14)(11,"div",15)(12,"div",16)(13,"h2"),x(14,"Bienvenue,"),C(),b(15,"h1"),x(16),li(17,"titlecase"),C(),b(18,"p",17),x(19," SkyFind est une application d'informations m\xE9t\xE9orologiques. "),C(),b(20,"div",18)(21,"a",19),x(22,"Voir les conditions m\xE9t\xE9o"),C()()()(),b(23,"div",20)(24,"div",21),Q(25,"img",22),C()()()()()()),r&2){let o=se();M(16),he(" ",Vc(17,1,o.profile.name),"")}}function Sg(r,t){r&1&&(b(0,"div",23)(1,"div",24)(2,"span",25),x(3,"Loading..."),C()()())}var oh=(()=>{let t=class t{constructor(i){this.authService=i,this.loading=!0,this.activePage="home",this.authService.profile$.subscribe(s=>{s&&(this.loading=!1,this.profile=s,this.profile.token=this.authService.getIdToken(),console.log(this.profile))}),setTimeout(()=>X(this,null,function*(){this.loading&&(yield this.logout())}),3e3)}logout(){return X(this,null,function*(){yield this.authService.logout()})}getToken(){let i=this.authService.getToken();return console.log(i),i}};t.\u0275fac=function(s){return new(s||t)($(rt))},t.\u0275cmp=ee({type:t,selectors:[["app-home-page"]],standalone:!0,features:[ne],decls:6,vars:3,consts:[["showSpinner",""],["id","app-container"],[1,"container-struct"],[3,"activePage","profile",4,"ngIf"],["class","w-100 page-content","style","height: 100vh; overflow: hidden;",4,"ngIf","ngIfElse"],[3,"activePage","profile"],[1,"w-100","page-content",2,"height","100vh","overflow","hidden"],[1,"container","h-50"],[1,"d-flex","text-center","align-items-center"],[1,"text-white"],[1,"lead","mb-0"],[1,"display-3"],[1,"wrapper"],[1,"container"],[1,"row"],[1,"col-lg-6",2,"z-index","100"],[1,"main-heading"],[1,"info-text"],[1,"text-center","pt-5"],["routerLink","/wx","href","#",1,"btn","btn-warning","text-white","cta"],[1,"col-lg-6"],[1,"team_img_wrapper"],["src","../../../../assets/images/SKYFIND (1).png","alt","team-img"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100vh"],[1,"spinner-border"],[1,"visually-hidden"]],template:function(s,l){if(s&1&&(b(0,"div",1)(1,"div",2),Ee(2,xg,1,2,"app-header",3)(3,Tg,26,3,"div",4)(4,Sg,4,0,"ng-template",null,0,ht),C()()),s&2){let u=ut(5);M(2),U("ngIf",!l.loading),M(),U("ngIf",!l.loading)("ngIfElse",u)}},dependencies:[Te,qe,$c,Xt,wt],styles:['section[_ngcontent-%COMP%]{background-color:#000}header[_ngcontent-%COMP%]{position:relative;background-color:#000;width:100%;overflow:hidden}.display-3[_ngcontent-%COMP%]{font-size:20rem;max-width:100%}.container[_ngcontent-%COMP%]{position:relative;z-index:2}#app-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%;width:100%;background-image:url("./media/map-loc-MN6QNYRF.jpeg");background-color:#000;opacity:.5;z-index:1}.main-heading[_ngcontent-%COMP%]{position:relative;top:10vh}.main-heading[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:86px;font-weight:700;color:#e18b13}.main-heading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:46px;font-weight:700;color:#fff}.info-text[_ngcontent-%COMP%]{font-size:16px;color:#666}.cta[_ngcontent-%COMP%]{background:#ee8003;color:#fff;font-size:18px;font-weight:700}.cta[_ngcontent-%COMP%]:hover{background:#ee4e03}.btn_wrapper[_ngcontent-%COMP%]{margin-top:20px}.btn[_ngcontent-%COMP%]{padding:10px 20px;font-size:16px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s}.btn.view_more_btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.btn.documentation_btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;margin-left:10px}.btn.view_more_btn[_ngcontent-%COMP%]:hover, .btn.documentation_btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.team_img_wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200vh;height:200vh;display:block;border-radius:5px;position:relative;margin-left:-35vw;margin-top:-70vh}@media screen and (max-width: 1478px){.team_img_wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:-40vw;margin-top:-70vh}}@media screen and (max-width: 1220px){.display-3[_ngcontent-%COMP%]{font-size:15rem}}@media screen and (max-width: 1131px){.team_img_wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:-60vw;margin-top:-70vh}}@media screen and (max-width: 992px){.display-3[_ngcontent-%COMP%]{font-size:10rem}}@media screen and (max-width: 900px){.team_img_wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{left:0vw;margin-top:-65vh}}@media screen and (max-width: 600px){.team_img_wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:none}.wrapper[_ngcontent-%COMP%]{height:100vh}.display-3[_ngcontent-%COMP%]{font-size:5rem}}@media screen and (max-width: 485px){.main-heading[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:60px}.main-heading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px}.cta[_ngcontent-%COMP%]{width:300px;font-size:20px}}@media screen and (max-width: 340px){header[_ngcontent-%COMP%]{padding-top:30px}}']});let r=t;return r})();var bt=Mf(lh());var ps=(()=>{let t=class t{ngOnInit(){this.loadMap()}loadMap(){this.map=bt.map("map").setView([0,0],1),bt.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19}).addTo(this.map),Array.isArray(this.weatherData)?(this.loadMarkers(),this.map.flyTo([this.weatherData[0].lat,this.weatherData[0].lon],7)):(this.map.flyTo([this.weatherData.lat,this.weatherData.lon],13),this.showWeatherInfo(this.weatherData.lat,this.weatherData.lon))}showWeatherInfo(i,s){if(Array.isArray(this.weatherData))return;let l=`
      <h3>${this.weatherData.weather.name}</h3>
      <p>${new Date().toLocaleTimeString("fr-FR")}</p>
      <p>${this.weatherData.weather.weather[0].description}</p>
      <p>Temp\xE9rature: ${this.weatherData.weather.main.temp} \xB0C</p>
      <p>Qualit\xE9 de l'air: ${this.weatherData.airQuality}</p>
    `,u=bt.icon({iconUrl:"assets/images/marker-icon.png",shadowUrl:"assets/images/marker-shadow.png",popupAnchor:[13,0]}),d=bt.marker([i,s],{icon:u}).bindPopup(l).addTo(this.map)}loadMarkers(){if(!Array.isArray(this.weatherData))return;let i=this.weatherData.map(s=>{let l=`
      <h3>${s.weather.name}</h3>
      <p>${new Date(s.createdAt).toLocaleDateString("fr-FR")}</p>
      <p>${new Date(s.createdAt).toLocaleTimeString("fr-FR")}</p>
      <p>${s.weather.weather[0].description}</p>
      <p>Temp\xE9rature: ${s.weather.main.temp} \xB0C</p>
      <p>Qualit\xE9 de l'air: ${s.airQuality}</p>
    `,u=bt.icon({iconUrl:"assets/images/marker-icon.png",shadowUrl:"assets/images/marker-shadow.png",popupAnchor:[13,0]});return bt.marker([s.lat,s.lon],{icon:u}).bindPopup(l).addTo(this.map)})}};t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=ee({type:t,selectors:[["app-leaflet-map"]],inputs:{weatherData:"weatherData"},standalone:!0,features:[ne],decls:1,vars:0,consts:[["id","map",1,"dashboard-map"]],template:function(s,l){s&1&&Q(0,"div",0)},styles:[".dashboard-map[_ngcontent-%COMP%]{position:relative;top:0vh;height:70vh;width:70vh;border:2px solid #007bff;border-radius:10px;filter:grayscale(100%)brightness(100%)}"]});let r=t;return r})();var ch=(()=>{let t=class t{};t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=ee({type:t,selectors:[["app-wx-display"]],inputs:{weatherData:"weatherData",todayLocale:"todayLocale"},standalone:!0,features:[ne],decls:27,vars:12,consts:[[1,"meteo"],[1,"meteo-left"],[1,"weather-info"],[1,"mb-0"],[1,"ms-3",2,"font-size","16px"],[1,"weather-description","mt-3"],[1,"fs-3"],[1,"weather-temperature"],[1,"fw-bold"],[1,"air-quality"]],template:function(s,l){s&1&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3)(4,"strong")(5,"u"),x(6),C()(),b(7,"span",4),x(8),C()(),b(9,"small"),x(10),C(),b(11,"p",5),x(12," Couverture: "),b(13,"span",6),x(14),C()(),b(15,"p",5),x(16),li(17,"number"),C(),b(18,"p")(19,"span",7),x(20),C(),b(21,"span",8),x(22),C()(),b(23,"p",9),x(24," Qualit\xE9 de l'air: "),b(25,"span",6),x(26),C()()()()()),s&2&&(M(6),wn(l.weatherData.city),M(2),he(" le ",l.todayLocale,""),M(2),Tr("lat: ",l.weatherData.weather.coord==null?null:l.weatherData.weather.coord.lat,", lon: ",l.weatherData.weather.coord.lon,""),M(4),he(" ",l.weatherData.weather.weather[0].description," "),M(2),he(" Vent: ",bn(17,9,l.weatherData.weather.wind.speed*1.61,"1.0-0")," Km/h "),M(4),he(" ",l.weatherData.weather.main.temp,"\xB0C "),M(2),he(" (ressenti: ",l.weatherData.weather.main.feels_like,"\xB0C) "),M(4),he(" ",l.weatherData.airQuality," "))},dependencies:[Te,Mr],styles:[".meteo[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:400px}.meteo-left[_ngcontent-%COMP%]{display:flex;align-items:center}.weather-icon[_ngcontent-%COMP%]{margin-right:10px;position:relative;top:20vh}.weather-image[_ngcontent-%COMP%]{width:50vh}.weather-info[_ngcontent-%COMP%]{font-size:16px}.weather-description[_ngcontent-%COMP%]{font-weight:700}.weather-temperature[_ngcontent-%COMP%]{margin-top:5px;font-size:60px;align-items:center;font-weight:700}.meteo-right[_ngcontent-%COMP%]{font-size:16px}.air-quality[_ngcontent-%COMP%]{font-weight:700}"]});let r=t;return r})();var Pg="https://nominatim.openstreetmap.org/reverse?",Eg="https://api.openweathermap.org/data/2.5/weather?",Ig="http://api.openweathermap.org/data/2.5/air_pollution/forecast?",Ca="http://localhost:3000/api/",uh=ss.open_weather_api_key,hh=(()=>{let t=class t{constructor(i){this.http=i}getCityName(i){return this.http.get(`${Pg}lat=${i.lat}&lon=${i.lon}&format=json`,this.getHttpOptions())}getWx(i){return this.http.get(`${Eg}q=${i}&appid=${uh}&units=metric`,this.getHttpOptions())}getAirQuality(i){return this.http.get(`${Ig}lat=${i.lat}&lon=${i.lon}&appid=${uh}`,this.getHttpOptions())}storeWx(i,s){return this.http.post(`${Ca}history/add`,i,this.getHttpOptionsWithBearer(s))}getUserHistory(i,s){return this.http.post(`${Ca}history`,{email:i},this.getHttpOptionsWithBearer(s))}removeUserHistory(i,s){return this.http.post(`${Ca}history/remove`,{email:i},this.getHttpOptionsWithBearer(s))}getHttpOptions(){return{headers:new Ae({"Content-Type":"application/x-www-form-urlencoded",Accept:"text/html, application/xhtml+xml, */*"}),responseType:"json"}}getHttpOptionsWithBearer(i){return i?{headers:new Ae({"Content-Type":"application/json",Accept:"text/html, application/xhtml+xml, */*",withCredentials:"true",Authorization:"Bearer "+i}),responseType:"json"}:this.getHttpOptions()}};t.\u0275fac=function(s){return new(s||t)(D(En))},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var ms=(()=>{let t=class t{constructor(i,s){this.apiService=i,this.router=s}getCityName(i){return X(this,null,function*(){try{return yield Ut(this.apiService.getCityName(i))}catch(s){console.error("Error: ",s),this.router.navigate(["/error"])}})}getWx(i){return X(this,null,function*(){try{return yield Ut(this.apiService.getWx(i))}catch(s){console.error("Error: ",s),this.router.navigate(["/error"])}})}storeWx(i,s){return X(this,null,function*(){try{return yield Ut(this.apiService.storeWx(i,s))}catch(l){console.error("Error: ",l),this.router.navigate(["/error"])}})}getUserHistory(i,s){return X(this,null,function*(){try{return yield Ut(this.apiService.getUserHistory(i,s))}catch(l){console.error("Error: ",l),this.router.navigate(["/error"])}})}deleteUserHistory(i,s){return X(this,null,function*(){try{return yield Ut(this.apiService.removeUserHistory(i,s))}catch(l){console.error("Error: ",l),this.router.navigate(["/error"])}})}getAirQuality(i){return X(this,null,function*(){try{return yield Ut(this.apiService.getAirQuality(i))}catch(s){console.error("Error: ",s),this.router.navigate(["/error"])}})}getCurrentCoordinates(){return X(this,null,function*(){try{let i=yield Ut(this.getCurrentPosition());return{lat:i.latitude,lon:i.longitude}}catch(i){console.error("Error: ",i),this.router.navigate(["/error"])}})}getCurrentPosition(){return new yr(i=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(s=>{i.next({latitude:s.coords.latitude,longitude:s.coords.longitude}),i.complete()}):i.error()})}};t.\u0275fac=function(s){return new(s||t)(D(hh),D(mi))},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"});let r=t;return r})();var fh=["toast-component",""];function Ag(r,t){if(r&1){let o=Wt();b(0,"button",5),Me("click",function(){kt(o);let s=se();return Dt(s.remove())}),b(1,"span",6),x(2,"\xD7"),C()()}}function kg(r,t){if(r&1&&(ho(0),x(1),fo()),r&2){let o=se(2);M(),he("[",o.duplicatesCount+1,"]")}}function Dg(r,t){if(r&1&&(b(0,"div"),x(1),Ee(2,kg,2,1,"ng-container",4),C()),r&2){let o=se();Lt(o.options.titleClass),Zt("aria-label",o.title),M(),he(" ",o.title," "),M(),U("ngIf",o.duplicatesCount)}}function Og(r,t){if(r&1&&Q(0,"div",7),r&2){let o=se();Lt(o.options.messageClass),U("innerHTML",o.message,co)}}function Rg(r,t){if(r&1&&(b(0,"div",8),x(1),C()),r&2){let o=se();Lt(o.options.messageClass),Zt("aria-label",o.message),M(),he(" ",o.message," ")}}function Lg(r,t){if(r&1&&(b(0,"div"),Q(1,"div",9),C()),r&2){let o=se();M(),yn("width",o.width+"%")}}function Ng(r,t){if(r&1){let o=Wt();b(0,"button",5),Me("click",function(){kt(o);let s=se();return Dt(s.remove())}),b(1,"span",6),x(2,"\xD7"),C()()}}function Fg(r,t){if(r&1&&(ho(0),x(1),fo()),r&2){let o=se(2);M(),he("[",o.duplicatesCount+1,"]")}}function Vg(r,t){if(r&1&&(b(0,"div"),x(1),Ee(2,Fg,2,1,"ng-container",4),C()),r&2){let o=se();Lt(o.options.titleClass),Zt("aria-label",o.title),M(),he(" ",o.title," "),M(),U("ngIf",o.duplicatesCount)}}function jg(r,t){if(r&1&&Q(0,"div",7),r&2){let o=se();Lt(o.options.messageClass),U("innerHTML",o.message,co)}}function zg(r,t){if(r&1&&(b(0,"div",8),x(1),C()),r&2){let o=se();Lt(o.options.messageClass),Zt("aria-label",o.message),M(),he(" ",o.message," ")}}function Ug(r,t){if(r&1&&(b(0,"div"),Q(1,"div",9),C()),r&2){let o=se();M(),yn("width",o.width+"%")}}var xa=class{_attachedHost;component;viewContainerRef;injector;constructor(t,o){this.component=t,this.injector=o}attach(t,o){return this._attachedHost=t,t.attach(this,o)}detach(){let t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},Ta=class{_attachedPortal;_disposeFn;attach(t,o){return this._attachedPortal=t,this.attachComponentPortal(t,o)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}},Sa=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new Se;_activate=new Se;_manualClose=new Se;_resetTimeout=new Se;_countDuplicate=new Se;constructor(t){this._overlayRef=t}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,o){t&&this._resetTimeout.next(),o&&this._countDuplicate.next(++this.duplicatesCount)}},Ki=class{toastId;config;message;title;toastType;toastRef;_onTap=new Se;_onAction=new Se;constructor(t,o,i,s,l,u){this.toastId=t,this.config=o,this.message=i,this.title=s,this.toastType=l,this.toastRef=u,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}},ph={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},mh=new re("ToastConfig"),Pa=class extends Ta{_hostDomElement;_componentFactoryResolver;_appRef;constructor(t,o,i){super(),this._hostDomElement=t,this._componentFactoryResolver=o,this._appRef=i}attachComponentPortal(t,o){let i=this._componentFactoryResolver.resolveComponentFactory(t.component),s;return s=i.create(t.injector),this._appRef.attachView(s.hostView),this.setDisposeFn(()=>{this._appRef.detachView(s.hostView),s.destroy()}),o?this._hostDomElement.insertBefore(this._getComponentRootNode(s),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(s)),s}_getComponentRootNode(t){return t.hostView.rootNodes[0]}},Bg=(()=>{class r{_document=k(ve);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let o=this._document.createElement("div");o.classList.add("overlay-container"),o.setAttribute("aria-live","polite"),this._document.body.appendChild(o),this._containerElement=o}static \u0275fac=function(i){return new(i||r)};static \u0275prov=N({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Ea=class{_portalHost;constructor(t){this._portalHost=t}attach(t,o=!0){return this._portalHost.attach(t,o)}detach(){return this._portalHost.detach()}},Hg=(()=>{class r{_overlayContainer=k(Bg);_componentFactoryResolver=k(Tc);_appRef=k(Gt);_document=k(ve);_paneElements=new Map;create(o,i){return this._createOverlayRef(this.getPaneElement(o,i))}getPaneElement(o="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[o]||(this._paneElements.get(i)[o]=this._createPaneElement(o,i)),this._paneElements.get(i)[o]}_createPaneElement(o,i){let s=this._document.createElement("div");return s.id="toast-container",s.classList.add(o),s.classList.add("toast-container"),i?i.getContainerElement().appendChild(s):this._overlayContainer.getContainerElement().appendChild(s),s}_createPortalHost(o){return new Pa(o,this._componentFactoryResolver,this._appRef)}_createOverlayRef(o){return new Ea(this._createPortalHost(o))}static \u0275fac=function(i){return new(i||r)};static \u0275prov=N({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Ji=(()=>{class r{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(o,i,s,l,u){this.overlay=i,this._injector=s,this.sanitizer=l,this.ngZone=u,this.toastrConfig=I(I({},o.default),o.config),o.config.iconClasses&&(this.toastrConfig.iconClasses=I(I({},o.default.iconClasses),o.config.iconClasses))}show(o,i,s={},l=""){return this._preBuildNotification(l,o,i,this.applyConfig(s))}success(o,i,s={}){let l=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(l,o,i,this.applyConfig(s))}error(o,i,s={}){let l=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(l,o,i,this.applyConfig(s))}info(o,i,s={}){let l=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(l,o,i,this.applyConfig(s))}warning(o,i,s={}){let l=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(l,o,i,this.applyConfig(s))}clear(o){for(let i of this.toasts)if(o!==void 0){if(i.toastId===o){i.toastRef.manualClose();return}}else i.toastRef.manualClose()}remove(o){let i=this._findToast(o);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let s=this.toasts[this.currentlyActive].toastRef;s.isInactive()||(this.currentlyActive=this.currentlyActive+1,s.activate())}return!0}findDuplicate(o="",i="",s,l){let{includeTitleDuplicates:u}=this.toastrConfig;for(let d of this.toasts){let m=u&&d.title===o;if((!u||m)&&d.message===i)return d.toastRef.onDuplicate(s,l),d}return null}applyConfig(o={}){return I(I({},this.toastrConfig),o)}_findToast(o){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===o)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(o,i,s,l){return l.onActivateTick?this.ngZone.run(()=>this._buildNotification(o,i,s,l)):this._buildNotification(o,i,s,l)}_buildNotification(o,i,s,l){if(!l.toastComponent)throw new Error("toastComponent required");let u=this.findDuplicate(s,i,this.toastrConfig.resetTimeoutOnDuplicate&&l.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&s||i)&&this.toastrConfig.preventDuplicates&&u!==null)return u;this.previousToastMessage=i;let d=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(d=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let m=this.overlay.create(l.positionClass,this.overlayContainer);this.index=this.index+1;let p=i;i&&l.enableHtml&&(p=this.sanitizer.sanitize(Rt.HTML,i));let w=new Sa(m),P=new Ki(this.index,l,p,s,o,w),_=[{provide:Ki,useValue:P}],S=oi.create({providers:_,parent:this._injector}),A=new xa(l.toastComponent,S),te=m.attach(A,l.newestOnTop);w.componentInstance=te.instance;let F={toastId:this.index,title:s||"",message:i||"",toastRef:w,onShown:w.afterActivate(),onHidden:w.afterClosed(),onTap:P.onTap(),onAction:P.onAction(),portal:te};return d||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{F.toastRef.activate()})),this.toasts.push(F),F}static \u0275fac=function(i){return new(i||r)(D(mh),D(Hg),D(oi),D(Ao),D(ye))};static \u0275prov=N({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),$g=(()=>{class r{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if(this.state.value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(o,i,s){this.toastrService=o,this.toastPackage=i,this.ngZone=s,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(l=>{this.duplicatesCount=l}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=le(I({},this.state),{value:"active"}),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width===0||this.width===100||!this.options.timeOut)return;let o=new Date().getTime(),i=this.hideTime-o;this.width=i/this.options.timeOut*100,this.options.progressAnimation==="increasing"&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=le(I({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state.value!=="removed"&&(clearTimeout(this.timeout),this.state=le(I({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state.value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state.value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state.value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(o,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(o),i)):this.timeout=setTimeout(()=>o(),i)}outsideInterval(o,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(o),i)):this.intervalId=setInterval(()=>o(),i)}runInsideAngular(o){this.ngZone?this.ngZone.run(()=>o()):o()}static \u0275fac=function(i){return new(i||r)($(Ji),$(Ki),$(ye))};static \u0275cmp=ee({type:r,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(i,s){i&1&&Me("click",function(){return s.tapToast()})("mouseenter",function(){return s.stickAround()})("mouseleave",function(){return s.delayedHideToast()}),i&2&&(Dc("@flyInOut",s.state),Lt(s.toastClasses),yn("display",s.displayStyle))},standalone:!0,features:[ne],attrs:fh,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,s){i&1&&Ee(0,Ag,3,0,"button",0)(1,Dg,3,5,"div",1)(2,Og,1,3,"div",2)(3,Rg,2,4,"div",3)(4,Lg,2,2,"div",4),i&2&&(U("ngIf",s.options.closeButton),M(),U("ngIf",s.title),M(),U("ngIf",s.message&&s.options.enableHtml),M(),U("ngIf",s.message&&!s.options.enableHtml),M(),U("ngIf",s.options.progressBar))},dependencies:[qe],encapsulation:2,data:{animation:[Gc("flyInOut",[Dr("inactive",kr({opacity:0})),Dr("active",kr({opacity:1})),Dr("removed",kr({opacity:0})),_o("inactive => active",vo("{{ easeTime }}ms {{ easing }}")),_o("active => removed",vo("{{ easeTime }}ms {{ easing }}"))])]}})}return r})(),Zg=le(I({},ph),{toastComponent:$g}),gh=(r={})=>ct([{provide:mh,useValue:{default:Zg,config:r}}]);var Wg=(()=>{class r{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";get displayStyle(){return this.state==="inactive"?"none":null}state="inactive";timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(o,i,s){this.toastrService=o,this.toastPackage=i,this.appRef=s,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(l=>{this.duplicatesCount=l})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width===0||this.width===100||!this.options.timeOut)return;let o=new Date().getTime(),i=this.hideTime-o;this.width=i/this.options.timeOut*100,this.options.progressAnimation==="increasing"&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state!=="removed"&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(i){return new(i||r)($(Ji),$(Ki),$(Gt))};static \u0275cmp=ee({type:r,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(i,s){i&1&&Me("click",function(){return s.tapToast()})("mouseenter",function(){return s.stickAround()})("mouseleave",function(){return s.delayedHideToast()}),i&2&&(Lt(s.toastClasses),yn("display",s.displayStyle))},standalone:!0,features:[ne],attrs:fh,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,s){i&1&&Ee(0,Ng,3,0,"button",0)(1,Vg,3,5,"div",1)(2,jg,1,3,"div",2)(3,zg,2,4,"div",3)(4,Ug,2,2,"div",4),i&2&&(U("ngIf",s.options.closeButton),M(),U("ngIf",s.title),M(),U("ngIf",s.message&&s.options.enableHtml),M(),U("ngIf",s.message&&!s.options.enableHtml),M(),U("ngIf",s.options.progressBar))},dependencies:[qe],encapsulation:2})}return r})(),Zy=le(I({},ph),{toastComponent:Wg});function Gg(r,t){if(r&1&&Q(0,"app-header",7),r&2){let o=se();U("activePage",o.activePage)("profile",o.profile)}}function qg(r,t){if(r&1&&(b(0,"div",16),Q(1,"app-leaflet-map",17),C()),r&2){let o=se(2);M(),U("weatherData",o.weatherData)}}function Kg(r,t){r&1&&(b(0,"section"),x(1,"Sorry, no data found..."),C())}function Jg(r,t){if(r&1&&(b(0,"a",18),x(1,"Check your weather history"),C(),b(2,"section",19,2),Q(4,"app-wx-display",20),C()),r&2){let o=se(2);M(4),U("weatherData",o.weatherData)("todayLocale",o.todayLocale)}}function Yg(r,t){if(r&1&&(b(0,"div",8)(1,"header")(2,"div",9)(3,"div",10)(4,"h1",11),x(5,"Angular Leaflet"),C()()()(),b(6,"section")(7,"div",12)(8,"div",10),Ee(9,qg,2,1,"div",13),b(10,"div",14),Ee(11,Kg,2,0,"section",15)(12,Jg,5,2,"ng-template",null,1,ht),C()()()()()),r&2){let o=ut(13),i=se();M(9),U("ngIf",!i.loadingWx),M(2),U("ngIf",i.loadingWx)("ngIfElse",o)}}function Xg(r,t){r&1&&(b(0,"div",21)(1,"div",22)(2,"span",23),x(3,"Loading..."),C()()())}var _h=(()=>{let t=class t{constructor(i,s,l){this.authService=i,this.weatherService=s,this.toastr=l,this.loading=!0,this.loadingWx=!0,this.dataError=!1,this.cityName="",this.airQuality="",this.todayLocale="",this.today=new Date,this.activePage="meteo",this.todayLocale=this.getCurrentDay(),this.authService.profile$.subscribe(u=>{u&&(this.loading=!1,this.profile=u,this.profile.token=this.authService.getIdToken())}),setTimeout(()=>X(this,null,function*(){this.loading&&(yield this.logout())}),3e3)}ngOnInit(){this.loadWeatherData().then(()=>{this.toastr.success("Position et donn\xE9es m\xE9t\xE9o correctement sauvegard\xE9es")}).catch(i=>{console.log(i)})}loadWeatherData(){return X(this,null,function*(){let i=yield this.weatherService.getCurrentCoordinates(),s=yield this.weatherService.getCityName(i),l=s.address.city||s.address.town||s.address.village,u=yield this.weatherService.getWx(l),d=yield this.weatherService.getAirQuality(i),m={email:this.profile.email,lat:i.lat,lon:i.lon,city:l,weather:u,airQuality:d.list?.[0]?.main?.aqi};this.weatherData=m,this.loadingWx=!1,yield this.weatherService.storeWx(m,this.profile.token)})}getCurrentDay(){return new Date().toLocaleDateString("fr-FR")}logout(){return X(this,null,function*(){yield this.authService.logout()})}};t.\u0275fac=function(s){return new(s||t)($(rt),$(ms),$(Ji))},t.\u0275cmp=ee({type:t,selectors:[["app-weather-page"]],standalone:!0,features:[ne],decls:6,vars:3,consts:[["showSpinner",""],["dashBoardBlock",""],["elseBlock",""],["id","app-container"],[1,"container-struct-fw"],[3,"activePage","profile",4,"ngIf"],["class","w-100 page-content","style","height: 100vh; overflow: hidden;",4,"ngIf","ngIfElse"],[3,"activePage","profile"],[1,"w-100","page-content",2,"height","100vh","overflow","hidden"],[1,"container","mt-5"],[1,"row"],[1,"dashboard-title"],[1,"container","mt-5","p-5"],["class","col-md-6",4,"ngIf"],[1,"col-md-6","d-flex","flex-column","justify-content-center","align-items-center"],[4,"ngIf","ngIfElse"],[1,"col-md-6"],[3,"weatherData"],["routerLink","/history",1,"btn","btn-secondary","p-3","fs-4","history-btn","mb-5"],[1,"dashboard-section"],[3,"weatherData","todayLocale"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100vh"],[1,"spinner-border"],[1,"visually-hidden"]],template:function(s,l){if(s&1&&(b(0,"div",3)(1,"div",4),Ee(2,Gg,1,2,"app-header",5)(3,Yg,14,3,"div",6)(4,Xg,4,0,"ng-template",null,0,ht),C()()),s&2){let u=ut(5);M(2),U("ngIf",!l.loading),M(),U("ngIf",!l.loading&&!l.loadingWx)("ngIfElse",u)}},dependencies:[Te,qe,Xt,wt,ps,ch],styles:['body[_ngcontent-%COMP%]{background:#130f0f3b;border-radius:16px;box-shadow:0 4px 30px #0000001a;backdrop-filter:blur(6.5px);-webkit-backdrop-filter:blur(6.5px);height:100vh}.dashboard-title[_ngcontent-%COMP%]{font-size:34px;font-weight:700;margin-bottom:20px}.dashboard-map[_ngcontent-%COMP%]{position:relative;top:0vh;height:70vh;width:70vh;border:2px solid #007bff;border-radius:10px;filter:grayscale(100%)brightness(100%)}.dashboard-section[_ngcontent-%COMP%]{position:relative;background:#ffffff84;border-radius:16px;box-shadow:0 4px 30px #fff;backdrop-filter:blur(6.5px);-webkit-backdrop-filter:blur(6.5px);padding:20px;margin-top:20px}.container[_ngcontent-%COMP%]{max-width:100%;width:1400px;color:#fff;border-radius:25px;box-shadow:0 15px 15px #00000042}.page-content[_ngcontent-%COMP%]{background-color:#4c76774b}.wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:3fr 4fr;grid-gap:1rem}.img_section[_ngcontent-%COMP%]{border-radius:25px;background-position:center;background-repeat:no-repeat;background-size:cover;position:relative;transform:scale(1.03) perspective(200px)}.img_section[_ngcontent-%COMP%]:before{content:"";position:absolute;width:100%;height:100%;background:linear-gradient(135deg,#2a3e4654 10%,#29404e42);opacity:.5;z-index:-1;border-radius:25px}.default_info[_ngcontent-%COMP%]{padding:1.5rem;text-align:center}.default_info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80%;object-fit:cover;margin:0 auto}.default_info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:3rem}.default_info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem;text-transform:capitalize}.weather_temp[_ngcontent-%COMP%]{font-size:4rem;font-weight:800}.content_section[_ngcontent-%COMP%]{padding:1.5rem}.content_section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin:1.5rem 0;position:relative}.content_section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:84%;outline:none;background:transparent;border:1px solid #37474f;border-radius:5px;padding:.7rem 1rem;font-family:inherit;color:#8dfc0e;font-size:1.5rem}.content_section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;top:0;right:0;border-top-right-radius:8px;border-bottom-right-radius:8px;padding:1rem .7rem;font-family:inherit;font-size:1.2rem;outline:none;border:none;background:#31af85;color:#fff;cursor:pointer}.day_info[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:.4rem 0}.day_info[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:600}.list_content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;list-style-type:none;margin:3rem 0rem;box-shadow:0 5px 15px #00000059}.list_content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.5rem;display:flex;flex-direction:column;align-items:center;border-radius:1rem;transition:all .3s ease-in}.list_content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#6cdfdf;color:#0e1111;box-shadow:0 5px 15px #2bff009d;cursor:pointer}.list_content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%;object-fit:cover}.icons[_ngcontent-%COMP%]{opacity:0}.icons.fadeIn[_ngcontent-%COMP%]{animation:.5s _ngcontent-%COMP%_fadeIn forwards;animation-delay:.7s}.history-btn[_ngcontent-%COMP%]{display:block;margin-top:-100px}@keyframes _ngcontent-%COMP%_fadeIn{to{transition:all .5s ease-in;opacity:1}}']});let r=t;return r})();var Ph=(()=>{let t=class t{constructor(i,s){this._renderer=i,this._elementRef=s,this.onChange=l=>{},this.onTouched=()=>{}}setProperty(i,s){this._renderer.setProperty(this._elementRef.nativeElement,i,s)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};t.\u0275fac=function(s){return new(s||t)($(ai),$(Ot))},t.\u0275dir=Ge({type:t});let r=t;return r})(),Eh=(()=>{let t=class t extends Ph{};t.\u0275fac=(()=>{let i;return function(l){return(i||(i=$t(t)))(l||t)}})(),t.\u0275dir=Ge({type:t,features:[Oi]});let r=t;return r})(),Qn=new re(""),Qg={provide:Qn,useExisting:Ii(()=>Da),multi:!0},Da=(()=>{let t=class t extends Eh{writeValue(i){this.setProperty("checked",i)}};t.\u0275fac=(()=>{let i;return function(l){return(i||(i=$t(t)))(l||t)}})(),t.\u0275dir=Ge({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(s,l){s&1&&Me("change",function(d){return l.onChange(d.target.checked)})("blur",function(){return l.onTouched()})},features:[Ri([Qg]),Oi]});let r=t;return r})(),ev={provide:Qn,useExisting:Ii(()=>Ih),multi:!0};function tv(){let r=Ni()?Ni().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}var iv=new re(""),Ih=(()=>{let t=class t extends Ph{constructor(i,s,l){super(i,s),this._compositionMode=l,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!tv())}writeValue(i){let s=i??"";this.setProperty("value",s)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};t.\u0275fac=function(s){return new(s||t)($(ai),$(Ot),$(iv,8))},t.\u0275dir=Ge({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(s,l){s&1&&Me("input",function(d){return l._handleInput(d.target.value)})("blur",function(){return l.onTouched()})("compositionstart",function(){return l._compositionStart()})("compositionend",function(d){return l._compositionEnd(d.target.value)})},features:[Ri([ev]),Oi]});let r=t;return r})();var nv=new re(""),rv=new re("");function Mh(r){return r!=null}function Ah(r){return Pr(r)?Oe(r):r}function kh(r){let t={};return r.forEach(o=>{t=o!=null?I(I({},t),o):t}),Object.keys(t).length===0?null:t}function Dh(r,t){return t.map(o=>o(r))}function sv(r){return!r.validate}function Oh(r){return r.map(t=>sv(t)?t:o=>t.validate(o))}function ov(r){if(!r)return null;let t=r.filter(Mh);return t.length==0?null:function(o){return kh(Dh(o,t))}}function Rh(r){return r!=null?ov(Oh(r)):null}function av(r){if(!r)return null;let t=r.filter(Mh);return t.length==0?null:function(o){let i=Dh(o,t).map(Ah);return tc(i).pipe(K(kh))}}function Lh(r){return r!=null?av(Oh(r)):null}function yh(r,t){return r===null?[t]:Array.isArray(r)?[...r,t]:[r,t]}function lv(r){return r._rawValidators}function cv(r){return r._rawAsyncValidators}function Ia(r){return r?Array.isArray(r)?r:[r]:[]}function vs(r,t){return Array.isArray(r)?r.includes(t):r===t}function wh(r,t){let o=Ia(t);return Ia(r).forEach(s=>{vs(o,s)||o.push(s)}),o}function bh(r,t){return Ia(t).filter(o=>!vs(r,o))}var _s=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Rh(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Lh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,o){return this.control?this.control.hasError(t,o):!1}getError(t,o){return this.control?this.control.getError(t,o):null}},Ma=class extends _s{get formDirective(){return null}get path(){return null}},Xn=class extends _s{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Aa=class{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},uv={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},g0=le(I({},uv),{"[class.ng-submitted]":"isSubmitted"}),Nh=(()=>{let t=class t extends Aa{constructor(i){super(i)}};t.\u0275fac=function(s){return new(s||t)($(Xn,2))},t.\u0275dir=Ge({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(s,l){s&2&&Mc("ng-untouched",l.isUntouched)("ng-touched",l.isTouched)("ng-pristine",l.isPristine)("ng-dirty",l.isDirty)("ng-valid",l.isValid)("ng-invalid",l.isInvalid)("ng-pending",l.isPending)},features:[Oi]});let r=t;return r})();var Jn="VALID",gs="INVALID",Yi="PENDING",Yn="DISABLED";function hv(r){return(ys(r)?r.validators:r)||null}function dv(r){return Array.isArray(r)?Rh(r):r||null}function fv(r,t){return(ys(t)?t.asyncValidators:r)||null}function pv(r){return Array.isArray(r)?Lh(r):r||null}function ys(r){return r!=null&&!Array.isArray(r)&&typeof r=="object"}var ka=class{constructor(t,o){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(o)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Jn}get invalid(){return this.status===gs}get pending(){return this.status==Yi}get disabled(){return this.status===Yn}get enabled(){return this.status!==Yn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(wh(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(wh(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(bh(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(bh(t,this._rawAsyncValidators))}hasValidator(t){return vs(this._rawValidators,t)}hasAsyncValidator(t){return vs(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(o=>{o.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Yi,t.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){let o=this._parentMarkedDirty(t.onlySelf);this.status=Yn,this.errors=null,this._forEachChild(i=>{i.disable(le(I({},t),{onlySelf:!0}))}),this._updateValue(),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(le(I({},t),{skipPristineCheck:o})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let o=this._parentMarkedDirty(t.onlySelf);this.status=Jn,this._forEachChild(i=>{i.enable(le(I({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(le(I({},t),{skipPristineCheck:o})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Jn||this.status===Yi)&&this._runAsyncValidator(t.emitEvent)),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(o=>o._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Yn:Jn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Yi,this._hasOwnPendingAsyncValidator=!0;let o=Ah(this.asyncValidator(this));this._asyncValidationSubscription=o.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,o={}){this.errors=t,this._updateControlsErrors(o.emitEvent!==!1)}get(t){let o=t;return o==null||(Array.isArray(o)||(o=o.split(".")),o.length===0)?null:o.reduce((i,s)=>i&&i._find(s),this)}getError(t,o){let i=o?this.get(o):this;return i&&i.errors?i.errors[t]:null}hasError(t,o){return!!this.getError(t,o)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Ne,this.statusChanges=new Ne}_calculateStatus(){return this._allControlsDisabled()?Yn:this.errors?gs:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Yi)?Yi:this._anyControlsHaveStatus(gs)?gs:Jn}_anyControlsHaveStatus(t){return this._anyControls(o=>o.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ys(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let o=this._parent&&this._parent.dirty;return!t&&!!o&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=dv(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=pv(this._rawAsyncValidators)}};var Fh=new re("CallSetDisabledState",{providedIn:"root",factory:()=>Oa}),Oa="always";function mv(r,t){return[...t.path,r]}function gv(r,t,o=Oa){_v(r,t),t.valueAccessor.writeValue(r.value),(r.disabled||o==="always")&&t.valueAccessor.setDisabledState?.(r.disabled),yv(r,t),bv(r,t),wv(r,t),vv(r,t)}function Ch(r,t){r.forEach(o=>{o.registerOnValidatorChange&&o.registerOnValidatorChange(t)})}function vv(r,t){if(t.valueAccessor.setDisabledState){let o=i=>{t.valueAccessor.setDisabledState(i)};r.registerOnDisabledChange(o),t._registerOnDestroy(()=>{r._unregisterOnDisabledChange(o)})}}function _v(r,t){let o=lv(r);t.validator!==null?r.setValidators(yh(o,t.validator)):typeof o=="function"&&r.setValidators([o]);let i=cv(r);t.asyncValidator!==null?r.setAsyncValidators(yh(i,t.asyncValidator)):typeof i=="function"&&r.setAsyncValidators([i]);let s=()=>r.updateValueAndValidity();Ch(t._rawValidators,s),Ch(t._rawAsyncValidators,s)}function yv(r,t){t.valueAccessor.registerOnChange(o=>{r._pendingValue=o,r._pendingChange=!0,r._pendingDirty=!0,r.updateOn==="change"&&Vh(r,t)})}function wv(r,t){t.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,r.updateOn==="blur"&&r._pendingChange&&Vh(r,t),r.updateOn!=="submit"&&r.markAsTouched()})}function Vh(r,t){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function bv(r,t){let o=(i,s)=>{t.valueAccessor.writeValue(i),s&&t.viewToModelUpdate(i)};r.registerOnChange(o),t._registerOnDestroy(()=>{r._unregisterOnChange(o)})}function Cv(r,t){if(!r.hasOwnProperty("model"))return!1;let o=r.model;return o.isFirstChange()?!0:!Object.is(t,o.currentValue)}function xv(r){return Object.getPrototypeOf(r.constructor)===Eh}function Tv(r,t){if(!t)return null;Array.isArray(t);let o,i,s;return t.forEach(l=>{l.constructor===Ih?o=l:xv(l)?i=l:s=l}),s||i||o||null}function xh(r,t){let o=r.indexOf(t);o>-1&&r.splice(o,1)}function Th(r){return typeof r=="object"&&r!==null&&Object.keys(r).length===2&&"value"in r&&"disabled"in r}var Sv=class extends ka{constructor(t=null,o,i){super(hv(o),fv(i,o)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(o),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ys(o)&&(o.nonNullable||o.initialValueIsDefault)&&(Th(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,o={}){this.value=this._pendingValue=t,this._onChange.length&&o.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,o.emitViewToModelChange!==!1)),this.updateValueAndValidity(o)}patchValue(t,o={}){this.setValue(t,o)}reset(t=this.defaultValue,o={}){this._applyFormState(t),this.markAsPristine(o),this.markAsUntouched(o),this.setValue(this.value,o),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){xh(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){xh(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Th(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var Pv={provide:Xn,useExisting:Ii(()=>Ra)},Sh=Promise.resolve(),Ra=(()=>{let t=class t extends Xn{constructor(i,s,l,u,d,m){super(),this._changeDetectorRef=d,this.callSetDisabledState=m,this.control=new Sv,this._registered=!1,this.name="",this.update=new Ne,this._parent=i,this._setValidators(s),this._setAsyncValidators(l),this.valueAccessor=Tv(this,u)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let s=i.name.previousValue;this.formDirective.removeControl({name:s,path:this._getPath(s)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),Cv(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){gv(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){Sh.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let s=i.isDisabled.currentValue,l=s!==0&&Li(s);Sh.then(()=>{l&&!this.control.disabled?this.control.disable():!l&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?mv(i,this._parent):[i]}};t.\u0275fac=function(s){return new(s||t)($(Ma,9),$(nv,10),$(rv,10),$(Qn,10),$(Cn,8),$(Fh,8))},t.\u0275dir=Ge({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Ht.None,"disabled","isDisabled"],model:[Ht.None,"ngModel","model"],options:[Ht.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ri([Pv]),Oi,si]});let r=t;return r})();var Ev=(()=>{let t=class t{};t.\u0275fac=function(s){return new(s||t)},t.\u0275mod=lt({type:t}),t.\u0275inj=at({});let r=t;return r})();var jh=(()=>{let t=class t{static withConfig(i){return{ngModule:t,providers:[{provide:Fh,useValue:i.callSetDisabledState??Oa}]}}};t.\u0275fac=function(s){return new(s||t)},t.\u0275mod=lt({type:t}),t.\u0275inj=at({imports:[Ev]});let r=t;return r})();var Mv=["*"],La=(()=>{class r{config;afterChange=new Ne;beforeChange=new Ne;breakpoint=new Ne;destroy=new Ne;init=new Ne;$instance;currentIndex=0;slides=[];initialized=!1;_removedSlides=[];_addedSlides=[];el=k(Ot);zone=k(ye);isServer=ci(k(vt));ngOnDestroy(){this.unslick()}ngAfterViewInit(){this.ngAfterViewChecked()}ngAfterViewChecked(){if(!this.isServer&&(this._addedSlides.length>0||this._removedSlides.length>0)){let o=this.slides.length-this._removedSlides.length+this._addedSlides.length;this.initialized?o===0?this.unslick():(this._addedSlides.forEach(i=>{this.slides.push(i),this.zone.runOutsideAngular(()=>{this.$instance.slick("slickAdd",i.el.nativeElement)})}),this._addedSlides=[],this._removedSlides.forEach(i=>{let s=this.slides.indexOf(i);this.slides=this.slides.filter(l=>l!==i),this.zone.runOutsideAngular(()=>{this.$instance.slick("slickRemove",s)})}),this._removedSlides=[]):o>0&&this.initSlick()}}initSlick(){this.slides=this._addedSlides,this._addedSlides=[],this._removedSlides=[],this.zone.runOutsideAngular(()=>{this.$instance=jQuery(this.el.nativeElement),this.$instance.on("init",(o,i)=>{this.zone.run(()=>{this.init.emit({event:o,slick:i})})}),this.$instance.slick(this.config),this.zone.run(()=>{this.initialized=!0,this.currentIndex=this.config?.initialSlide||0}),this.$instance.on("afterChange",(o,i,s)=>{this.zone.run(()=>{this.afterChange.emit({event:o,slick:i,currentSlide:s,first:s===0,last:i.$slides.length===s+i.options.slidesToScroll}),this.currentIndex=s})}),this.$instance.on("beforeChange",(o,i,s,l)=>{this.zone.run(()=>{this.beforeChange.emit({event:o,slick:i,currentSlide:s,nextSlide:l}),this.currentIndex=l})}),this.$instance.on("breakpoint",(o,i,s)=>{this.zone.run(()=>{this.breakpoint.emit({event:o,slick:i,breakpoint:s})})}),this.$instance.on("destroy",(o,i)=>{this.zone.run(()=>{this.destroy.emit({event:o,slick:i}),this.initialized=!1})})})}addSlide(o){this._addedSlides.push(o)}removeSlide(o){this._removedSlides.push(o)}slickGoTo(o){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickGoTo",o)})}slickNext(){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickNext")})}slickPrev(){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickPrev")})}slickPause(){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickPause")})}slickPlay(){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickPlay")})}unslick(){this.$instance&&(this.zone.runOutsideAngular(()=>{this.$instance.slick("unslick")}),this.$instance=void 0),this.initialized=!1}ngOnChanges(o){if(this.initialized){let i=o.config;if(i.previousValue!==i.currentValue&&i.currentValue!==void 0){let s=i.currentValue.refresh,l=Object.assign({},i.currentValue);delete l.refresh,this.zone.runOutsideAngular(()=>{this.$instance.slick("slickSetOption",l,s)})}}}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=ee({type:r,selectors:[["ngx-slick-carousel"]],inputs:{config:"config"},outputs:{afterChange:"afterChange",beforeChange:"beforeChange",breakpoint:"breakpoint",destroy:"destroy",init:"init"},exportAs:["slick-carousel"],features:[Ri([{provide:Qn,useExisting:Ii(()=>r),multi:!0}]),si],ngContentSelectors:Mv,decls:1,vars:0,template:function(i,s){i&1&&(Oc(),Rc(0))},encapsulation:2})}return r})(),zh=(()=>{class r{carousel=k(La,{host:!0});renderer=k(ai);el=k(Ot);isServer=ci(k(vt));ngOnInit(){this.carousel.addSlide(this),this.isServer&&this.carousel.slides.length>0&&this.renderer.setStyle(this.el,"display","none")}ngOnDestroy(){this.carousel.removeSlide(this)}static \u0275fac=function(i){return new(i||r)};static \u0275dir=Ge({type:r,selectors:[["","ngxSlickItem",""]]})}return r})(),Uh=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=lt({type:r});static \u0275inj=at({imports:[Te]})}return r})();var kv=(r,t)=>t.created_at;function Dv(r,t){if(r&1&&Q(0,"app-header",6),r&2){let o=se();U("activePage",o.activePage)("profile",o.profile)}}function Ov(r,t){r&1&&(b(0,"div",18),x(1," NO DATA FOUND "),C())}function Rv(r,t){if(r&1&&(b(0,"div",17)(1,"div",19)(2,"div",20)(3,"span",21)(4,"u"),x(5),C()(),b(6,"small",22),x(7),li(8,"date"),C(),b(9,"small",23),x(10),C(),b(11,"small",23),x(12),C()(),b(13,"div",24)(14,"small")(15,"span",23),x(16," Nuages: "),C(),b(17,"span",21),x(18),C()(),b(19,"small")(20,"span",23),x(21," Temp\xE9rature: "),C(),b(22,"span",21),x(23),C()(),b(24,"small")(25,"span",23),x(26," Ressenti: "),C(),b(27,"span",21),x(28),C()(),b(29,"small")(30,"span",23),x(31," Vent: "),C(),b(32,"span",21),x(33),li(34,"number"),C()(),b(35,"small")(36,"span",23),x(37," Visibilit\xE9: "),C(),b(38,"span",21),x(39),C()(),b(40,"small")(41,"span",23),x(42," Qualit\xE9 de l'air: "),C(),b(43,"span",21),x(44),C()()()()()),r&2){let o=t.$implicit;M(5),wn(o.city),M(2),he(" ",bn(8,11,o.createdAt,"dd/MM/yyyy HH:mm")," "),M(3),he(" (Lat: ",o.lat," "),M(2),he(" Lon: ",o.lon,") "),M(6),Tr("",o.weather.weather[0].description," (",o.weather.clouds.all,"%)"),M(5),he("",o.weather.main.temp,"\xB0C"),M(5),he("",o.weather.main.feels_like,"\xB0C"),M(5),he("",bn(34,14,o.weather.wind.speed*1.61,"1.0-0")," Km/h"),M(6),he("",o.weather.visibility," m."),M(5),wn(o.airQuality)}}function Lv(r,t){if(r&1){let o=Wt();b(0,"div",7)(1,"div",8)(2,"div",9)(3,"button",10),Me("click",function(){kt(o);let s=se();return Dt(s.removeHistory())}),x(4,"Supprimer l'historique"),C(),b(5,"div",11),Q(6,"app-leaflet-map",12),C()(),Ee(7,Ov,2,0,"div",13),b(8,"div",14)(9,"div",15)(10,"ngx-slick-carousel",16,1),Me("init",function(s){kt(o);let l=se();return Dt(l.slickInit(s))}),Ac(12,Rv,45,17,"div",17,kv),C()()()()()}if(r&2){let o=se();M(6),U("weatherData",o.weatherData),M(),U("ngIf",!o.weatherData.length),M(3),U("config",o.slideConfig),M(2),kc(o.weatherData)}}function Nv(r,t){r&1&&(b(0,"div",25)(1,"div",26)(2,"span",27),x(3,"Loading..."),C()()())}var Bh=(()=>{let t=class t{constructor(i,s,l){this.authService=i,this.weatherService=s,this.toastr=l,this.loading=!0,this.loadingWx=!0,this.activePage="historique",this.slideConfig={slidesToShow:3,slidesToScroll:2},this.authService.profile$.subscribe(u=>{u&&(this.loading=!1,this.profile=u,this.profile.token=this.authService.getIdToken())}),setTimeout(()=>X(this,null,function*(){this.loading&&(yield this.logout())}),3e3)}ngOnInit(){this.loadWxHistory().then(()=>{this.toastr.success("Historique donn\xE9es m\xE9t\xE9o charg\xE9es!")}).catch(i=>{console.log(i)})}loadWxHistory(){return X(this,null,function*(){let i=yield this.weatherService.getUserHistory(this.profile.email,this.profile.token);this.weatherData=i,this.loadingWx=!1})}slickInit(i){console.log("slick initialized",i)}removeHistory(){return X(this,null,function*(){console.log("kjhkjhkj"),this.loadingWx=!0,this.loading=!0;let i=yield this.weatherService.deleteUserHistory(this.profile.email,this.profile.token);yield this.loadWxHistory(),console.log(i),this.loadingWx=!1,this.loading=!1})}logout(){return X(this,null,function*(){yield this.authService.logout()})}};t.\u0275fac=function(s){return new(s||t)($(rt),$(ms),$(Ji))},t.\u0275cmp=ee({type:t,selectors:[["app-history-page"]],standalone:!0,features:[ne],decls:6,vars:3,consts:[["showSpinner",""],["slickModal","slick-carousel"],["id","app-container"],[1,"container-struct-fw"],[3,"activePage","profile",4,"ngIf"],["class","w-100 page-content","style","height: 100vh; overflow: hidden;",4,"ngIf","ngIfElse"],[3,"activePage","profile"],[1,"w-100","page-content",2,"height","100vh","overflow","hidden"],[1,"container","mt-5"],[1,"row","position-relative"],[1,"btn","btn-danger","remove-history-btn",3,"click"],[1,"col-md-8","mx-auto","d-flex","flex-column","justify-content-center","align-items-center"],[3,"weatherData"],["class","col mt-3 fs-3 text-center text-danger",4,"ngIf"],[1,"row"],[1,"col","mt-3"],[1,"carousel",3,"init","config"],["ngxSlickItem","",1,"slide"],[1,"col","mt-3","fs-3","text-center","text-danger"],[1,"slide-content"],[1,"slide-left","d-flex","flex-column","justify-content-center","align-items-center"],[1,"fw-bold"],[1,"mt-2"],[1,"fs-small"],[1,"slide-right","d-flex","flex-column","justify-content-start","align-items-start","p-1"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100vh"],[1,"spinner-border"],[1,"visually-hidden"]],template:function(s,l){if(s&1&&(b(0,"div",2)(1,"div",3),Ee(2,Dv,1,2,"app-header",4)(3,Lv,14,3,"div",5)(4,Nv,4,0,"ng-template",null,0,ht),C()()),s&2){let u=ut(5);M(2),U("ngIf",!l.loading),M(),U("ngIf",!l.loading&&!l.loadingWx)("ngIfElse",u)}},dependencies:[Te,qe,Mr,Zc,Xt,ps,Uh,La,zh],styles:[".page-content[_ngcontent-%COMP%]{background-color:#4c76774b}.slide[_ngcontent-%COMP%]{width:550px;height:170px;padding:15px}.slide-content[_ngcontent-%COMP%]{width:100%;height:100%;border:1px solid gray;border-radius:4px;padding:5px;background:#c8c8ff84;box-shadow:0 4px 4px #fff;backdrop-filter:blur(6.5px);-webkit-backdrop-filter:blur(6.5px);-webkit-border-radius:4px;-moz-border-radius:4px;-ms-border-radius:4px;-o-border-radius:4px;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:start;align-items:center}.slide-left[_ngcontent-%COMP%]{width:35%;height:100%}.slide-right[_ngcontent-%COMP%]{width:65%;height:100%;border-left:1px solid rgb(255,255,255,.5)}.fs-small[_ngcontent-%COMP%]{font-size:10px}.remove-history-btn[_ngcontent-%COMP%]{width:250px;position:absolute;right:25px;top:0}"]});let r=t;return r})();var Hh=(()=>{let t=class t{};t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=ee({type:t,selectors:[["app-not-found-page"]],standalone:!0,features:[ne],decls:17,vars:0,consts:[["id","clouds"],[1,"cloud","x1"],[1,"cloud","x1_5"],[1,"cloud","x2"],[1,"cloud","x3"],[1,"cloud","x4"],[1,"cloud","x5"],[1,"c"],[1,"_404"],[1,"_1"],[1,"_2"],["href","#",1,"btn"]],template:function(s,l){s&1&&(b(0,"div",0),Q(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),C(),b(7,"div",7)(8,"div",8),x(9,"404"),C(),Q(10,"hr"),b(11,"div",9),x(12,"THE PAGE"),C(),b(13,"div",10),x(14,"WAS NOT FOUND"),C(),b(15,"a",11),x(16,"BACK TO MARS"),C()())},styles:['body[_ngcontent-%COMP%]{background:#3c9;color:#fff;font-family:Open Sans,sans-serif;max-height:700px;overflow:hidden}.c[_ngcontent-%COMP%]{text-align:center;display:block;position:relative;width:80%;margin:100px auto}._404[_ngcontent-%COMP%]{font-size:220px;position:relative;display:inline-block;z-index:2;height:250px;letter-spacing:15px}._1[_ngcontent-%COMP%]{text-align:center;display:block;position:relative;letter-spacing:12px;font-size:4em;line-height:80%}._2[_ngcontent-%COMP%]{text-align:center;display:block;position:relative;font-size:20px}.text[_ngcontent-%COMP%]{font-size:70px;text-align:center;position:relative;margin:19px 0 0;z-index:3;width:100%;line-height:1.2em;display:inline-block}.btn[_ngcontent-%COMP%]{background-color:#fff;position:relative;display:inline-block;width:358px;padding:5px;z-index:5;font-size:25px;margin:0 10px 0 auto;color:#3c9;text-decoration:none}.right[_ngcontent-%COMP%]{float:right;width:60%}hr[_ngcontent-%COMP%]{padding:0;border:none;border-top:5px solid #fff;color:#fff;text-align:center;margin:0 auto;width:420px;height:10px;z-index:-10}hr[_ngcontent-%COMP%]:after{content:"\\9824";display:inline-block;position:relative;top:-.75em;font-size:2em;padding:0 .2em;background:#3c9}.cloud[_ngcontent-%COMP%]{width:350px;height:120px;background:#fff;background:linear-gradient(top,#fff);background:-webkit-linear-gradient(top,#FFF 100%);background:-moz-linear-gradient(top,#FFF 100%);background:-ms-linear-gradient(top,#FFF 100%);background:-o-linear-gradient(top,#FFF 100%);border-radius:100px;-webkit-border-radius:100px;-moz-border-radius:100px;position:absolute;margin:120px auto 20px;z-index:-1;transition:ease 1s}.cloud[_ngcontent-%COMP%]:after, .cloud[_ngcontent-%COMP%]:before{content:"";position:absolute;background:#fff;z-index:-1}.cloud[_ngcontent-%COMP%]:after{width:100px;height:100px;top:-50px;left:50px;border-radius:100px;-webkit-border-radius:100px;-moz-border-radius:100px}.cloud[_ngcontent-%COMP%]:before{width:180px;height:180px;top:-90px;right:50px;border-radius:200px;-webkit-border-radius:200px;-moz-border-radius:200px}.x1[_ngcontent-%COMP%]{top:-50px;left:100px;-webkit-transform:scale(.3);-moz-transform:scale(.3);transform:scale(.3);opacity:.9;-webkit-animation:_ngcontent-%COMP%_moveclouds 15s linear infinite;-moz-animation:moveclouds 15s linear infinite;-o-animation:moveclouds 15s linear infinite}.x1_5[_ngcontent-%COMP%]{top:-80px;left:250px;-webkit-transform:scale(.3);-moz-transform:scale(.3);transform:scale(.3);-webkit-animation:_ngcontent-%COMP%_moveclouds 17s linear infinite;-moz-animation:moveclouds 17s linear infinite;-o-animation:moveclouds 17s linear infinite}.x2[_ngcontent-%COMP%]{left:250px;top:30px;-webkit-transform:scale(.6);-moz-transform:scale(.6);transform:scale(.6);opacity:.6;-webkit-animation:_ngcontent-%COMP%_moveclouds 25s linear infinite;-moz-animation:moveclouds 25s linear infinite;-o-animation:moveclouds 25s linear infinite}.x3[_ngcontent-%COMP%]{left:250px;bottom:-70px;-webkit-transform:scale(.6);-moz-transform:scale(.6);transform:scale(.6);opacity:.8;-webkit-animation:_ngcontent-%COMP%_moveclouds 25s linear infinite;-moz-animation:moveclouds 25s linear infinite;-o-animation:moveclouds 25s linear infinite}.x4[_ngcontent-%COMP%]{left:470px;botttom:20px;-webkit-transform:scale(.75);-moz-transform:scale(.75);transform:scale(.75);opacity:.75;-webkit-animation:_ngcontent-%COMP%_moveclouds 18s linear infinite;-moz-animation:moveclouds 18s linear infinite;-o-animation:moveclouds 18s linear infinite}.x5[_ngcontent-%COMP%]{left:200px;top:300px;-webkit-transform:scale(.5);-moz-transform:scale(.5);transform:scale(.5);opacity:.8;-webkit-animation:_ngcontent-%COMP%_moveclouds 20s linear infinite;-moz-animation:moveclouds 20s linear infinite;-o-animation:moveclouds 20s linear infinite}@-webkit-keyframes _ngcontent-%COMP%_moveclouds{0%{margin-left:1000px}to{margin-left:-1000px}}@-moz-keyframes moveclouds{0%{margin-left:1000px}to{margin-left:-1000px}}@-o-keyframes moveclouds{0%{margin-left:1000px}to{margin-left:-1000px}}']});let r=t;return r})();var $h=(()=>{let t=class t{};t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=ee({type:t,selectors:[["app-cgu-page"]],standalone:!0,features:[ne],decls:45,vars:0,consts:[["id","app-container"],[1,"container-struct"],[1,"container"],[1,"row"],[1,"col-7","mx-auto"],[1,"mb-5"],[1,"text-center"],[1,"mt-5","mb-5"],["href","mailto: info@skyfind.com"]],template:function(s,l){s&1&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"header",5)(6,"h1",6),x(7,"Conditions G\xE9n\xE9rales d'Utilisation"),C()(),b(8,"main",5)(9,"section",7)(10,"h2"),x(11,"1. Objet"),C(),b(12,"p"),x(13,"Ce document a pour objet de d\xE9finir les conditions g\xE9n\xE9rales d'utilisation des services propos\xE9s par "),b(14,"strong"),x(15,"SKYFIND"),C(),x(16," sur son site web et/ou son application mobile.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam luctus metus et massa venenatis, id tristique tortor dapibus. Etiam congue fermentum volutpat. Praesent sed orci id tortor venenatis consectetur. Curabitur vulputate euismod convallis. Nullam lacinia rhoncus turpis, id euismod sapien fermentum in. Donec ante ante, feugiat id eros in, auctor dapibus tortor. Vestibulum congue elit ac lectus sollicitudin semper. Suspendisse ut orci non felis laoreet fringilla. In elit nisi, porttitor et posuere ac, tincidunt a lacus. Nunc eget augue scelerisque, finibus nisi id, eleifend eros. Integer et augue dui. Maecenas et quam ac tellus ullamcorper ornare. Suspendisse tempor turpis nec tempus lacinia. Nullam eget nisl elit. Sed hendrerit viverra aliquet."),C()(),b(17,"section",7)(18,"h2"),x(19,"2. Acceptation des conditions d'utilisation"),C(),b(20,"p"),x(21,"En acc\xE9dant aux services de "),b(22,"strong"),x(23,"SKYFIND"),C(),x(24,", vous acceptez de vous conformer aux pr\xE9sentes conditions d'utilisation. Si vous n'acceptez pas ces conditions, veuillez ne pas utiliser nos services.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam luctus metus et massa venenatis, id tristique tortor dapibus. Etiam congue fermentum volutpat. Praesent sed orci id tortor venenatis consectetur. Curabitur vulputate euismod convallis. Nullam lacinia rhoncus turpis, id euismod sapien fermentum in. Donec ante ante, feugiat id eros in, auctor dapibus tortor. Vestibulum congue elit ac lectus sollicitudin semper. Suspendisse ut orci non felis laoreet fringilla. In elit nisi, porttitor et posuere ac, tincidunt a lacus. Nunc eget augue scelerisque, finibus nisi id, eleifend eros. Integer et augue dui. Maecenas et quam ac tellus ullamcorper ornare. Suspendisse tempor turpis nec tempus lacinia. Nullam eget nisl elit. Sed hendrerit viverra aliquet."),C()(),b(25,"section",7)(26,"h2"),x(27,"3. Modifications des conditions d'utilisation"),C(),b(28,"p")(29,"strong"),x(30,"SKYFIND"),C(),x(31," se r\xE9serve le droit de modifier \xE0 tout moment les pr\xE9sentes conditions d'utilisation. Les utilisateurs seront inform\xE9s des modifications via notre site web et/ou notre application mobile. Il est de la responsabilit\xE9 de l'utilisateur de consulter r\xE9guli\xE8rement ces conditions pour prendre connaissance des \xE9ventuelles modifications.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam luctus metus et massa venenatis, id tristique tortor dapibus. Etiam congue fermentum volutpat. Praesent sed orci id tortor venenatis consectetur. Curabitur vulputate euismod convallis. Nullam lacinia rhoncus turpis, id euismod sapien fermentum in. Donec ante ante, feugiat id eros in, auctor dapibus tortor. Vestibulum congue elit ac lectus sollicitudin semper. Suspendisse ut orci non felis laoreet fringilla. In elit nisi, porttitor et posuere ac, tincidunt a lacus. Nunc eget augue scelerisque, finibus nisi id, eleifend eros. Integer et augue dui. Maecenas et quam ac tellus ullamcorper ornare. Suspendisse tempor turpis nec tempus lacinia. Nullam eget nisl elit. Sed hendrerit viverra aliquet."),C()(),b(32,"section")(33,"h2"),x(34,"7. Contact"),C(),b(35,"p"),x(36,"Pour toute question concernant les pr\xE9sentes conditions d'utilisation, veuillez nous contacter \xE0 l'adresse suivante : "),b(37,"a",8),x(38,"info@skyfind.com"),C(),x(39,"."),C()(),b(40,"p"),x(41,"\xA9 2024 "),b(42,"strong"),x(43,"SKYFIND"),C(),x(44,". Tous droits r\xE9serv\xE9s."),C()()()()()()())}});let r=t;return r})();var Zh=(()=>{let t=class t{};t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=ee({type:t,selectors:[["app-privacy-page"]],standalone:!0,features:[ne],decls:37,vars:0,consts:[["id","app-container"],[1,"container-struct"],[1,"container"],[1,"row"],[1,"col-7","mx-auto"],[1,"mb-5"],[1,"text-center"],[1,"mt-5","mb-5"],["href","mailto: info@skyfind.com"]],template:function(s,l){s&1&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"header",5)(6,"h1",6),x(7,"Politique de Confidentialit\xE9"),C()(),b(8,"main",5)(9,"section",7)(10,"h2"),x(11,"1. Collecte des donn\xE9es personnelles"),C(),b(12,"p"),x(13,"Nous collectons des donn\xE9es personnelles lorsque vous utilisez nos services. Ces donn\xE9es peuvent inclure, mais ne sont pas limit\xE9es \xE0 : [liste des types de donn\xE9es collect\xE9es, par exemple : nom, adresse e-mail, localisation, etc.].Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam luctus metus et massa venenatis, id tristique tortor dapibus. Etiam congue fermentum volutpat. Praesent sed orci id tortor venenatis consectetur. Curabitur vulputate euismod convallis. Nullam lacinia rhoncus turpis, id euismod sapien fermentum in. Donec ante ante, feugiat id eros in, auctor dapibus tortor. Vestibulum congue elit ac lectus sollicitudin semper. Suspendisse ut orci non felis laoreet fringilla. In elit nisi, porttitor et posuere ac, tincidunt a lacus. Nunc eget augue scelerisque, finibus nisi id, eleifend eros. Integer et augue dui. Maecenas et quam ac tellus ullamcorper ornare. Suspendisse tempor turpis nec tempus lacinia. Nullam eget nisl elit. Sed hendrerit viverra aliquet."),C()(),b(14,"section",7)(15,"h2"),x(16,"2. Utilisation des donn\xE9es"),C(),b(17,"p"),x(18,"Nous utilisons les donn\xE9es personnelles collect\xE9es dans le but de : [liste des finalit\xE9s de la collecte des donn\xE9es, par exemple : fournir nos services, am\xE9liorer nos produits, etc.].Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam luctus metus et massa venenatis, id tristique tortor dapibus. Etiam congue fermentum volutpat. Praesent sed orci id tortor venenatis consectetur. Curabitur vulputate euismod convallis. Nullam lacinia rhoncus turpis, id euismod sapien fermentum in. Donec ante ante, feugiat id eros in, auctor dapibus tortor. Vestibulum congue elit ac lectus sollicitudin semper. Suspendisse ut orci non felis laoreet fringilla. In elit nisi, porttitor et posuere ac, tincidunt a lacus. Nunc eget augue scelerisque, finibus nisi id, eleifend eros. Integer et augue dui. Maecenas et quam ac tellus ullamcorper ornare. Suspendisse tempor turpis nec tempus lacinia. Nullam eget nisl elit. Sed hendrerit viverra aliquet."),C()(),b(19,"section",7)(20,"h2"),x(21,"3. Partage des donn\xE9es personnelles"),C(),b(22,"p"),x(23,"Nous ne partageons pas vos donn\xE9es personnelles avec des tiers, sauf dans les cas suivants : [liste des cas o\xF9 les donn\xE9es peuvent \xEAtre partag\xE9es, par exemple : avec nos partenaires de traitement des paiements, avec des autorit\xE9s comp\xE9tentes, etc.].Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam luctus metus et massa venenatis, id tristique tortor dapibus. Etiam congue fermentum volutpat. Praesent sed orci id tortor venenatis consectetur. Curabitur vulputate euismod convallis. Nullam lacinia rhoncus turpis, id euismod sapien fermentum in. Donec ante ante, feugiat id eros in, auctor dapibus tortor. Vestibulum congue elit ac lectus sollicitudin semper. Suspendisse ut orci non felis laoreet fringilla. In elit nisi, porttitor et posuere ac, tincidunt a lacus. Nunc eget augue scelerisque, finibus nisi id, eleifend eros. Integer et augue dui. Maecenas et quam ac tellus ullamcorper ornare. Suspendisse tempor turpis nec tempus lacinia. Nullam eget nisl elit. Sed hendrerit viverra aliquet."),C()(),b(24,"section")(25,"h2"),x(26,"7. Contact"),C(),b(27,"p"),x(28,"Pour toute question concernant les pr\xE9sentes conditions d'utilisation, veuillez nous contacter \xE0 l'adresse suivante : "),b(29,"a",8),x(30,"info@skyfind.com"),C(),x(31,"."),C()(),b(32,"p"),x(33,"\xA9 2024 "),b(34,"strong"),x(35,"SKYFIND"),C(),x(36,". Tous droits r\xE9serv\xE9s."),C()()()()()()())}});let r=t;return r})();function Fv(r,t){if(r&1&&Q(0,"app-header",5),r&2){let o=se();U("activePage",o.activePage)("profile",o.profile)}}function Vv(r,t){r&1&&(b(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9)(4,"span",10),x(5,"BOOM !"),C(),b(6,"span",11),x(7,"C'est cass\xE9..."),C(),b(8,"a",12),x(9,"Retour \xE0 l'accueil"),C()()()()())}function jv(r,t){r&1&&(b(0,"div",13)(1,"div",14)(2,"span",15),x(3,"Loading..."),C()()())}var Wh=(()=>{let t=class t{constructor(i){this.authService=i,this.loading=!0,this.activePage="error",this.authService.profile$.subscribe(s=>{s&&(this.loading=!1,this.profile=s,this.profile.token=this.authService.getIdToken(),console.log(this.profile))}),setTimeout(()=>X(this,null,function*(){this.loading&&(yield this.logout())}),3e3)}logout(){return X(this,null,function*(){yield this.authService.logout()})}};t.\u0275fac=function(s){return new(s||t)($(rt))},t.\u0275cmp=ee({type:t,selectors:[["app-error-page"]],standalone:!0,features:[ne],decls:6,vars:3,consts:[["showSpinner",""],["id","app-container"],[1,"container-struct"],[3,"activePage","profile",4,"ngIf"],["class","w-100 page-content","style","height: 100vh; overflow: hidden;",4,"ngIf","ngIfElse"],[3,"activePage","profile"],[1,"w-100","page-content",2,"height","100vh","overflow","hidden"],[1,"container"],[1,"row"],[1,"col","d-flex","flex-column","justify-content-center","align-items-center","content"],[1,"boom"],[1,"sub-boom"],["href","#","routerLink","/home",1,"btn","btn-warning","mt-5","back-btn"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100vh"],[1,"spinner-border"],[1,"visually-hidden"]],template:function(s,l){if(s&1&&(b(0,"div",1)(1,"div",2),Ee(2,Fv,1,2,"app-header",3)(3,Vv,10,0,"div",4)(4,jv,4,0,"ng-template",null,0,ht),C()()),s&2){let u=ut(5);M(2),U("ngIf",!l.loading),M(),U("ngIf",!l.loading)("ngIfElse",u)}},dependencies:[Te,qe,Xt,wt],styles:['.boom[_ngcontent-%COMP%]{font-size:90px;font-weight:900;color:red}.sub-boom[_ngcontent-%COMP%]{font-size:20px;color:#fff}.sub-boom[_ngcontent-%COMP%]:after{content:"\\1f601"}.content[_ngcontent-%COMP%]{height:100vh}.back-btn[_ngcontent-%COMP%]{width:350px;font-weight:600}']});let r=t;return r})();var Gh=(()=>{let t=class t{ngOnInit(){this.consentChecked=!1}consentChange(){}};t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=ee({type:t,selectors:[["app-rgpd"]],standalone:!0,features:[ne],decls:30,vars:2,consts:[["id","app-container"],[1,"container-struct"],[1,"container"],[1,"row"],[1,"col-7","mx-auto","border","border-dark"],[1,"col-7","mx-auto","text-center"],["src","../../../../assets/images/SKYFIND.png","width","300px","alt","main logo"],[1,"col","fs-5"],[1,"col","fs-5","fw-bold"],["type","checkbox","id","consentCheckbox",2,"margin-right","15px",3,"ngModelChange","change","ngModel"],["for","consentCheckbox mb-3"],["href","#","routerLink","/cgu","target","_blank",1,"fw-bold","text-white"],["href","#","routerLink","/privacy","target","_blank",1,"fw-bold","text-white"],[1,"col","text-center"],["href","#","routerLink","/login",1,"btn","mt-5","mb-5","login-btn",3,"disabled"],[1,"me-3"],["src","../../../../assets/images/google-logo.png","width","20px","alt",""]],template:function(s,l){s&1&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",3)(6,"div",5),Q(7,"img",6),C()(),b(8,"div",3)(9,"div",7)(10,"p"),x(11,` "Je consens \xE0 la collecte et au traitement de mes donn\xE9es personnelles, y compris mes donn\xE9es de localisation, par SKYFIND aux fins suivantes : fournir des fonctionnalit\xE9s de localisation dans l'application, am\xE9liorer l'exp\xE9rience utilisateur et analyser les tendances d'utilisation. Je comprends que mes donn\xE9es personnelles peuvent \xEAtre partag\xE9es avec Google conform\xE9ment \xE0 leur politique de confidentialit\xE9. `),C(),b(12,"p"),x(13,` J'ai lu et accepte les conditions g\xE9n\xE9rales d'utilisation et la politique de confidentialit\xE9 de [Nom de votre entreprise]. Je comprends que je peux retirer mon consentement \xE0 tout moment en modifiant mes param\xE8tres de confidentialit\xE9 dans l'application." `),C()()(),b(14,"div",3)(15,"div",8)(16,"input",9),Fc("ngModelChange",function(d){return Nc(l.consentChecked,d)||(l.consentChecked=d),d}),Me("change",function(){return l.consentChange()}),C(),b(17,"label",10),x(18," J'accepte les "),b(19,"a",11),x(20,"conditions d'utilisation "),C(),x(21," et la "),b(22,"a",12),x(23,"politique de confidentialit\xE9"),C()()()(),b(24,"div",3)(25,"div",13)(26,"button",14)(27,"span",15),x(28,"S'enregistrer avec Google"),C(),Q(29,"img",16),C()()()()()()()()),s&2&&(M(16),Lc("ngModel",l.consentChecked),M(10),U("disabled",!l.consentChecked))},dependencies:[Te,jh,Da,Nh,Ra,wt],styles:[".login-btn[_ngcontent-%COMP%]{width:320px;font-size:22px;color:gray}.login-btn[_ngcontent-%COMP%]:hover{color:#d3d3d3;border:1 px solid lightgray}"]});let r=t;return r})();var qh=[{path:"",component:Gh},{path:"login",component:sh},{path:"home",component:oh},{path:"wx",component:_h},{path:"history",component:Bh},{path:"cgu",component:$h},{path:"privacy",component:Zh},{path:"error",component:Wh},{path:"**",component:Hh}];var zv="@",Uv=(()=>{let t=class t{constructor(i,s,l,u,d){this.doc=i,this.delegate=s,this.zone=l,this.animationType=u,this.moduleImpl=d,this._rendererFactoryPromise=null,this.scheduler=k(br,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-MWRXN7QF.js")).catch(s=>{throw new ue(5300,!1)}).then(({\u0275createEngine:s,\u0275AnimationRendererFactory:l})=>{this._engine=s(this.animationType,this.doc,this.scheduler);let u=new l(this.delegate,this._engine,this.zone);return this.delegate=u,u})}createRenderer(i,s){let l=this.delegate.createRenderer(i,s);if(l.\u0275type===0)return l;typeof l.throwOnSyntheticProps=="boolean"&&(l.throwOnSyntheticProps=!1);let u=new Na(l);return s?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(d=>{let m=d.createRenderer(i,s);u.use(m)}).catch(d=>{u.use(l)}),u}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};t.\u0275fac=function(s){uo()},t.\u0275prov=N({token:t,factory:t.\u0275fac});let r=t;return r})(),Na=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let o of this.replay)o(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,o){return this.delegate.createElement(t,o)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,o){this.delegate.appendChild(t,o)}insertBefore(t,o,i,s){this.delegate.insertBefore(t,o,i,s)}removeChild(t,o,i){this.delegate.removeChild(t,o,i)}selectRootElement(t,o){return this.delegate.selectRootElement(t,o)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,o,i,s){this.delegate.setAttribute(t,o,i,s)}removeAttribute(t,o,i){this.delegate.removeAttribute(t,o,i)}addClass(t,o){this.delegate.addClass(t,o)}removeClass(t,o){this.delegate.removeClass(t,o)}setStyle(t,o,i,s){this.delegate.setStyle(t,o,i,s)}removeStyle(t,o,i){this.delegate.removeStyle(t,o,i)}setProperty(t,o,i){this.shouldReplay(o)&&this.replay.push(s=>s.setProperty(t,o,i)),this.delegate.setProperty(t,o,i)}setValue(t,o){this.delegate.setValue(t,o)}listen(t,o,i){return this.shouldReplay(o)&&this.replay.push(s=>s.listen(t,o,i)),this.delegate.listen(t,o,i)}shouldReplay(t){return this.replay!==null&&t.startsWith(zv)}};function Kh(r="animations"){return _n("NgAsyncAnimations"),ct([{provide:Di,useFactory:(t,o,i)=>new Uv(t,o,i,r),deps:[ve,Vi,ye]},{provide:gn,useValue:r==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Bv=(()=>{let t=class t extends Rr{constructor(i,s,l){super(i,s,l,k(br,{optional:!0}))}ngOnDestroy(){this.flush()}};t.\u0275fac=function(s){return new(s||t)(D(ve),D(xn),D(Or))},t.\u0275prov=N({token:t,factory:t.\u0275fac});let r=t;return r})();function Hv(){return new Kc}function $v(r,t,o){return new Yc(r,t,o)}var Jh=[{provide:Or,useFactory:Hv},{provide:Rr,useClass:Bv},{provide:Di,useFactory:$v,deps:[Vi,Rr,ye]}],Zv=[{provide:xn,useFactory:()=>new Jc},{provide:gn,useValue:"BrowserAnimations"},...Jh],vw=[{provide:xn,useClass:qc},{provide:gn,useValue:"NoopAnimations"},...Jh];function Yh(){return _n("NgEagerAnimations"),[...Zv]}var Xh={providers:[Xu(qh),{provide:jc,useValue:"fr-FR"},au(),rh(),Kh(),Yh(),gh()]};function Wv(r){let t=r,o=Math.floor(Math.abs(r)),i=r.toString().replace(/^[^.]*\.?/,"").length,s=parseInt(r.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return o===0||o===1?1:s===0&&o!==0&&o%1e6===0&&i===0||!(s>=0&&s<=5)?4:5}var Qh=["fr",[["AM","PM"],void 0,void 0],void 0,[["D","L","M","M","J","V","S"],["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],["di","lu","ma","me","je","ve","sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["janv.","f\xE9vr.","mars","avr.","mai","juin","juil.","ao\xFBt","sept.","oct.","nov.","d\xE9c."],["janvier","f\xE9vrier","mars","avril","mai","juin","juillet","ao\xFBt","septembre","octobre","novembre","d\xE9cembre"]],void 0,[["av. J.-C.","ap. J.-C."],void 0,["avant J\xE9sus-Christ","apr\xE8s J\xE9sus-Christ"]],1,[6,0],["dd/MM/y","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}","{1}, {0}","{1} '\xE0' {0}",void 0],[",","\u202F",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0\xA0%","#,##0.00\xA0\xA4","#E0"],"EUR","\u20AC","euro",{ARS:["$AR","$"],AUD:["$AU","$"],BEF:["FB"],BMD:["$BM","$"],BND:["$BN","$"],BYN:[void 0,"\u0440."],BZD:["$BZ","$"],CAD:["$CA","$"],CLP:["$CL","$"],CNY:[void 0,"\xA5"],COP:["$CO","$"],CYP:["\xA3CY"],EGP:[void 0,"\xA3E"],FJD:["$FJ","$"],FKP:["\xA3FK","\xA3"],FRF:["F"],GBP:["\xA3GB","\xA3"],GIP:["\xA3GI","\xA3"],HKD:[void 0,"$"],IEP:["\xA3IE"],ILP:["\xA3IL"],ITL:["\u20A4IT"],JPY:[void 0,"\xA5"],KMF:[void 0,"FC"],LBP:["\xA3LB","\xA3L"],MTP:["\xA3MT"],MXN:["$MX","$"],NAD:["$NA","$"],NIO:[void 0,"$C"],NZD:["$NZ","$"],PHP:[void 0,"\u20B1"],RHD:["$RH"],RON:[void 0,"L"],RWF:[void 0,"FR"],SBD:["$SB","$"],SGD:["$SG","$"],SRD:["$SR","$"],TOP:[void 0,"$T"],TTD:["$TT","$"],TWD:[void 0,"NT$"],USD:["$US","$"],UYU:["$UY","$"],WST:["$WS"],XCD:[void 0,"$"],XPF:["FCFP"],ZMW:[void 0,"Kw"]},"ltr",Wv];var ed=(()=>{let t=class t{constructor(){this.title="SkyFind",Hc(Qh)}};t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=ee({type:t,selectors:[["app-root"]],standalone:!0,features:[ne],decls:1,vars:0,template:function(s,l){s&1&&Q(0,"router-outlet")},dependencies:[Te,ha]});let r=t;return r})();gu(ed,Xh).catch(r=>console.error(r));
